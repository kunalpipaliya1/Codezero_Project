(self.webpackChunk_portal_portal_extension=self.webpackChunk_portal_portal_extension||[]).push([[453],{77268:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mnemonicToSeedSync=t.mnemonicToSeed=t.validateMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.generateMnemonic=void 0;const n=r(71885),s=r(69074),i=r(47469),o=r(89681),a=r(9690),c=r(9760),u=e=>"あいこくしん"===e[0];function l(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function d(e){const t=l(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}function h(e){n.default.bytes(e,16,20,24,28,32)}t.generateMnemonic=function(e,t=128){if(n.default.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return y((0,a.randomBytes)(t/8),e)};const f=e=>{const t=8-e.length/4;return new Uint8Array([(0,i.sha256)(e)[0]>>t<<t])};function p(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),c.utils.chain(c.utils.checksum(1,f),c.utils.radix2(11,!0),c.utils.alphabet(e))}function g(e,t){const{words:r}=d(e),n=p(t).decode(r);return h(n),n}function y(e,t){h(e);return p(t).encode(e).join(u(t)?"　":" ")}t.mnemonicToEntropy=g,t.entropyToMnemonic=y,t.validateMnemonic=function(e,t){try{g(e,t)}catch(e){return!1}return!0};const b=e=>l(`mnemonic${e}`);t.mnemonicToSeed=function(e,t=""){return(0,s.pbkdf2Async)(o.sha512,d(e).nfkd,b(t),{c:2048,dkLen:64})},t.mnemonicToSeedSync=function(e,t=""){return(0,s.pbkdf2)(o.sha512,d(e).nfkd,b(t),{c:2048,dkLen:64})}},71885:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function s(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Expected Uint8Array");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){s(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=s,t.hash=i,t.exists=o,t.output=a;const c={number:r,bool:n,bytes:s,hash:i,exists:o,output:a};t.default=c},1222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const n=r(71885),s=r(9690);class i extends s.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,s.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:i}=this,o=(e=(0,s.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(i-this.pos,o-n);if(a!==i)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,s.createView)(e);for(;i<=o-n;n+=i)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,i-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,s.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:s,destroyed:i,pos:o}=this;return e.length=n,e.pos=o,e.finished=s,e.destroyed=i,n%t&&e.buffer.set(r),e}}t.SHA2=i},51101:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function s(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function i(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}t.fromBig=s,t.split=i;const o=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=o;const a=(e,t,r)=>e>>>r;t.shrSH=a;const c=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=c;const u=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=u;const l=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=l;const d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;const h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;const f=(e,t)=>t;t.rotr32H=f;const p=(e,t)=>e;t.rotr32L=p;const g=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=g;const y=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=y;const b=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=b;const m=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:0|s}}t.rotlBL=m,t.add=w;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=k;const S=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;t.add3H=S;const x=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=x;const _=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0;t.add4H=_;const A=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0);t.add5L=A;const v=(e,t,r,n,s,i)=>t+r+n+s+i+(e/2**32|0)|0;t.add5H=v;const I={fromBig:s,split:i,toBig:o,shrSH:a,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:g,rotlSL:y,rotlBH:b,rotlBL:m,add:w,add3L:k,add3H:S,add4L:x,add4H:_,add5H:v,add5L:A};t.default=I},63318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const n=r(71885),s=r(9690);class i extends s.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,s.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:s,blockLen:i,outputLen:o}=this;return e.finished=n,e.destroyed=s,e.blockLen=i,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=i;t.hmac=(e,t,r)=>new i(e,t).update(r).digest(),t.hmac.create=(e,t)=>new i(e,t)},69074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const n=r(71885),s=r(57394),i=r(9690);function o(e,t,r,o){(0,n.hash)(e);const a=(0,i.checkOpts)({dkLen:32,asyncTick:10},o),{c,dkLen:u,asyncTick:l}=a;if((0,n.number)(c),(0,n.number)(u),(0,n.number)(l),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const d=(0,i.toBytes)(t),h=(0,i.toBytes)(r),f=new Uint8Array(u),p=s.hmac.create(e,d),g=p._cloneInto().update(h);return{c,dkLen:u,asyncTick:l,DK:f,PRF:p,PRFSalt:g}}function a(e,t,r,n,s){return e.destroy(),t.destroy(),n&&n.destroy(),s.fill(0),r}t.pbkdf2=function(e,t,r,n){const{c:s,dkLen:c,DK:u,PRF:l,PRFSalt:d}=o(e,t,r,n);let h;const f=new Uint8Array(4),p=(0,i.createView)(f),g=new Uint8Array(l.outputLen);for(let e=1,t=0;t<c;e++,t+=l.outputLen){const r=u.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(h=d._cloneInto(h)).update(f).digestInto(g),r.set(g.subarray(0,r.length));for(let e=1;e<s;e++){l._cloneInto(h).update(g).digestInto(g);for(let e=0;e<r.length;e++)r[e]^=g[e]}}return a(l,d,u,h,g)},t.pbkdf2Async=async function(e,t,r,n){const{c:s,dkLen:c,asyncTick:u,DK:l,PRF:d,PRFSalt:h}=o(e,t,r,n);let f;const p=new Uint8Array(4),g=(0,i.createView)(p),y=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){const r=l.subarray(t,t+d.outputLen);g.setInt32(0,e,!1),(f=h._cloneInto(f)).update(p).digestInto(y),r.set(y.subarray(0,r.length)),await(0,i.asyncLoop)(s-1,u,(()=>{d._cloneInto(f).update(y).digestInto(y);for(let e=0;e<r.length;e++)r[e]^=y[e]}))}return a(d,h,l,f,y)}},47469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(1222),s=r(9690),i=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:s,F:i,G:o,H:a}=this;return[e,t,r,n,s,i,o,a]}set(e,t,r,n,s,i,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],r=c[e-2],n=(0,s.rotr)(t,7)^(0,s.rotr)(t,18)^t>>>3,i=(0,s.rotr)(r,17)^(0,s.rotr)(r,19)^r>>>10;c[e]=i+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:a,D:u,E:l,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,s.rotr)(l,6)^(0,s.rotr)(l,11)^(0,s.rotr)(l,25))+((p=l)&d^~p&h)+o[e]+c[e]|0,g=((0,s.rotr)(r,2)^(0,s.rotr)(r,13)^(0,s.rotr)(r,22))+i(r,n,a)|0;f=h,h=d,d=l,l=u+t|0,u=a,a=n,n=r,r=t+g|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,n,a,u,l,d,h,f)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,s.wrapConstructor)((()=>new u)),t.sha224=(0,s.wrapConstructor)((()=>new l))},89681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const n=r(1222),s=r(51101),i=r(9690),[o,a]=(()=>s.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),u=new Uint32Array(80);class l extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:s,Cl:i,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,s,i,o,a,c,u,l,d,h,f,p,g]}set(e,t,r,n,s,i,o,a,c,u,l,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|s,this.Cl=0|i,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),u[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|u[e-15],n=s.default.rotrSH(t,r,1)^s.default.rotrSH(t,r,8)^s.default.shrSH(t,r,7),i=s.default.rotrSL(t,r,1)^s.default.rotrSL(t,r,8)^s.default.shrSL(t,r,7),o=0|c[e-2],a=0|u[e-2],l=s.default.rotrSH(o,a,19)^s.default.rotrBH(o,a,61)^s.default.shrSH(o,a,6),d=s.default.rotrSL(o,a,19)^s.default.rotrBL(o,a,61)^s.default.shrSL(o,a,6),h=s.default.add4L(i,d,u[e-7],u[e-16]),f=s.default.add4H(h,n,l,c[e-7],c[e-16]);c[e]=0|f,u[e]=0|h}let{Ah:r,Al:n,Bh:i,Bl:l,Ch:d,Cl:h,Dh:f,Dl:p,Eh:g,El:y,Fh:b,Fl:m,Gh:w,Gl:k,Hh:S,Hl:x}=this;for(let e=0;e<80;e++){const t=s.default.rotrSH(g,y,14)^s.default.rotrSH(g,y,18)^s.default.rotrBH(g,y,41),_=s.default.rotrSL(g,y,14)^s.default.rotrSL(g,y,18)^s.default.rotrBL(g,y,41),A=g&b^~g&w,v=y&m^~y&k,I=s.default.add5L(x,_,v,a[e],u[e]),E=s.default.add5H(I,S,t,A,o[e],c[e]),B=0|I,T=s.default.rotrSH(r,n,28)^s.default.rotrBH(r,n,34)^s.default.rotrBH(r,n,39),R=s.default.rotrSL(r,n,28)^s.default.rotrBL(r,n,34)^s.default.rotrBL(r,n,39),U=r&i^r&d^i&d,z=n&l^n&h^l&h;S=0|w,x=0|k,w=0|b,k=0|m,b=0|g,m=0|y,({h:g,l:y}=s.default.add(0|f,0|p,0|E,0|B)),f=0|d,p=0|h,d=0|i,h=0|l,i=0|r,l=0|n;const P=s.default.add3L(B,R,z);r=s.default.add3H(P,E,T,U),n=0|P}({h:r,l:n}=s.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l}=s.default.add(0|this.Bh,0|this.Bl,0|i,0|l)),({h:d,l:h}=s.default.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:f,l:p}=s.default.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:g,l:y}=s.default.add(0|this.Eh,0|this.El,0|g,0|y)),({h:b,l:m}=s.default.add(0|this.Fh,0|this.Fl,0|b,0|m)),({h:w,l:k}=s.default.add(0|this.Gh,0|this.Gl,0|w,0|k)),({h:S,l:x}=s.default.add(0|this.Hh,0|this.Hl,0|S,0|x)),this.set(r,n,i,l,d,h,f,p,g,y,b,m,w,k,S,x)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class d extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class f extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,i.wrapConstructor)((()=>new l)),t.sha512_224=(0,i.wrapConstructor)((()=>new d)),t.sha512_256=(0,i.wrapConstructor)((()=>new h)),t.sha384=(0,i.wrapConstructor)((()=>new f))},9690:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const n=r(63318);t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!s(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t};const o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=o._0&&e<=o._9?e-o._0:e>=o._A&&e<=o._F?e-(o._A-10):e>=o._a&&e<=o._f?e-(o._a-10):void 0}t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,s=0;t<r;t++,s+=2){const r=a(e.charCodeAt(s)),i=a(e.charCodeAt(s+1));if(void 0===r||void 0===i){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[t]=16*r+i}return n};function c(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function u(e){if("string"==typeof e&&(e=c(e)),!s(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let s=Date.now();for(let i=0;i<e;i++){n(i);const e=Date.now()-s;e>=0&&e<r||(await(0,t.nextTick)(),s+=e)}},t.utf8ToBytes=c,t.toBytes=u,t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!s(n))throw new Error("Uint8Array expected");t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const s=e[t];r.set(s,n),n+=s.length}return r};t.Hash=class{clone(){return this._cloneInto()}};const l={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==l.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(u(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},9760:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function n(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function s(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map((e=>e.encode)).reduceRight(r,t),decode:e.map((e=>e.decode)).reduce(r,t)}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function a(e,t="="){if(r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function c(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function u(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let s=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,r=!0;for(let i=s;i<o.length;i++){const a=o[i],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(o[i]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");r&&(u?r=!1:s=i)}if(i.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hexnopad=t.base32hex=t.base32nopad=t.base32=t.base16=t.utils=void 0,t.assertNumber=r;const l=(e,t)=>t?l(t,e%t):e,d=(e,t)=>e+(t-l(e,t));function h(e,t,n,s){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(d(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${d(t,n)}`);let i=0,o=0;const a=2**n-1,c=[];for(const s of e){if(r(s),s>=2**t)throw new Error(`convertRadix2: invalid data word=${s} from=${t}`);if(i=i<<t|s,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)c.push((i>>o-n&a)>>>0);i&=2**o-1}if(i=i<<n-o&a,!s&&o>=t)throw new Error("Excess padding");if(!s&&i)throw new Error(`Non-zero padding: ${i}`);return s&&o>0&&c.push(i>>>0),c}function f(e){return r(e),{encode:t=>{if(!n(t))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(u(t,e,256))}}}function p(e,t=!1){if(r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(d(8,e)>32||d(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!n(r))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(h(r,e,8,t))}}}function g(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if(r(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!n(r))throw new Error("checksum.encode: input should be Uint8Array");const s=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(s,r.length),i},decode(r){if(!n(r))throw new Error("checksum.decode: input should be Uint8Array");const s=r.slice(0,-e),i=t(s).slice(0,e),o=r.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return s}}}t.utils={alphabet:i,chain:s,checksum:y,convertRadix:u,convertRadix2:h,radix:f,radix2:p,join:o,padding:a},t.base16=s(p(4),i("0123456789ABCDEF"),o("")),t.base32=s(p(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),o("")),t.base32nopad=s(p(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),t.base32hex=s(p(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),o("")),t.base32hexnopad=s(p(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),t.base32crockford=s(p(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),c((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=s(p(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),o("")),t.base64nopad=s(p(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),t.base64url=s(p(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),o("")),t.base64urlnopad=s(p(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const b=e=>s(f(58),i(e),o(""));t.base58=b("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=b("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=b("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const m=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r="";for(let n=0;n<e.length;n+=8){const s=e.subarray(n,n+8);r+=t.base58.encode(s).padStart(m[s.length],"1")}return r},decode(e){let r=[];for(let n=0;n<e.length;n+=11){const s=e.slice(n,n+11),i=m.indexOf(s.length),o=t.base58.decode(s);for(let e=0;e<o.length-i;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(o.slice(o.length-i)))}return Uint8Array.from(r)}};t.createBase58check=e=>s(y(4,(t=>e(e(t)))),t.base58),t.base58check=t.createBase58check;const w=s(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),k=[996825010,642813549,513874426,1027748829,705979059];function S(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<k.length;e++)1==(t>>e&1)&&(r^=k[e]);return r}function x(e,t,r=1){const n=e.length;let s=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);s=S(s)^r>>5}s=S(s);for(let t=0;t<n;t++)s=S(s)^31&e.charCodeAt(t);for(let e of t)s=S(s)^e;for(let e=0;e<6;e++)s=S(s);return s^=r,w.encode(h([s%2**30],30,5,!1))}function _(e){const t="bech32"===e?1:734539939,r=p(5),n=r.decode,s=r.encode,i=g(n);function o(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(r instanceof Uint8Array&&(r=Array.from(r)),!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const s=e.length+7+r.length;if(!1!==n&&s>n)throw new TypeError(`Length ${s} exceeds limit ${n}`);const i=e.toLowerCase(),o=x(i,r,t);return`${i}1${w.encode(r)}${o}`}function a(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=n.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const i=n.slice(0,s),o=n.slice(s+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=w.decode(o).slice(0,-6),c=x(i,a,t);if(!o.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:o,decode:a,encodeFromBytes:function(e,t){return o(e,s(t))},decodeToBytes:function(e){const{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:g(a),fromWords:n,fromWordsUnsafe:i,toWords:s}}t.bech32=_("bech32"),t.bech32m=_("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=s(p(4),i("0123456789abcdef"),o(""),c((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const A={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},v="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!A.hasOwnProperty(e))throw new TypeError(v);if(!n(t))throw new TypeError("bytesToString() expects Uint8Array");return A[e].encode(t)},t.str=t.bytesToString;t.stringToBytes=(e,t)=>{if(!A.hasOwnProperty(e))throw new TypeError(v);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return A[e].decode(t)},t.bytes=t.stringToBytes},45695:(e,t,r)=>{"use strict";t._O=t.Jq=t.KB=t.u8=t.cv=void 0,t.Ik=t.A9=t.n_=t.gM=void 0;const n=r(34042);function s(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function i(e){return s(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}class o{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class c extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends c{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){s(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class l extends c{constructor(e,t=0,r){if(!(e instanceof o))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof d||this.layout instanceof h}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}class d extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readUIntLE(t,this.span)}encode(e,t,r=0){return i(t).writeUIntLE(e,r,this.span),this.span}}class h extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readUIntBE(t,this.span)}encode(e,t,r=0){return i(t).writeUIntBE(e,r,this.span),this.span}}class f extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readIntLE(t,this.span)}encode(e,t,r=0){return i(t).writeIntLE(e,r,this.span),this.span}}class p extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readIntBE(t,this.span)}encode(e,t,r=0){return i(t).writeIntBE(e,r,this.span),this.span}}const g=Math.pow(2,32);function y(e){const t=Math.floor(e/g);return{hi32:t,lo32:e-t*g}}function b(e,t){return e*g+t}class m extends o{constructor(e){super(8,e)}decode(e,t=0){const r=i(e),n=r.readUInt32LE(t);return b(r.readUInt32LE(t+4),n)}encode(e,t,r=0){const n=y(e),s=i(t);return s.writeUInt32LE(n.lo32,r),s.writeUInt32LE(n.hi32,r+4),8}}class w extends o{constructor(e){super(8,e)}decode(e,t=0){const r=i(e);return b(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=y(e),s=i(t);return s.writeUInt32BE(n.hi32,r),s.writeUInt32BE(n.lo32,r+4),8}}class k extends o{constructor(e){super(8,e)}decode(e,t=0){const r=i(e),n=r.readUInt32LE(t);return b(r.readInt32LE(t+4),n)}encode(e,t,r=0){const n=y(e),s=i(t);return s.writeUInt32LE(n.lo32,r),s.writeInt32LE(n.hi32,r+4),8}}class S extends o{constructor(e){super(8,e)}decode(e,t=0){const r=i(e);return b(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=y(e),s=i(t);return s.writeInt32BE(n.hi32,r),s.writeUInt32BE(n.lo32,r+4),8}}class x extends o{constructor(e){super(4,e)}decode(e,t=0){return i(e).readFloatLE(t)}encode(e,t,r=0){return i(t).writeFloatLE(e,r),4}}class _ extends o{constructor(e){super(4,e)}decode(e,t=0){return i(e).readFloatBE(t)}encode(e,t,r=0){return i(t).writeFloatBE(e,r),4}}class A extends o{constructor(e){super(8,e)}decode(e,t=0){return i(e).readDoubleLE(t)}encode(e,t,r=0){return i(t).writeDoubleLE(e,r),8}}class v extends o{constructor(e){super(8,e)}decode(e,t=0){return i(e).readDoubleBE(t)}encode(e,t,r=0){return i(t).writeDoubleBE(e,r),8}}class I extends o{constructor(e,t,r){if(!(e instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof c)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof c&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let s=0;for(;s<n;)r+=this.elementLayout.getSpan(e,t+r),++s}return r}decode(e,t=0){const r=[];let n=0,s=this.count;for(s instanceof c&&(s=s.decode(e,t));n<s;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){const n=this.elementLayout,s=e.reduce(((e,s)=>e+n.encode(s,t,r+e)),0);return this.count instanceof c&&this.count.encode(e.length,t,r),s}}class E extends o{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof o),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const s=n.getSpan(e,t);return t+=s,r+s}),0)}catch(e){throw new RangeError("indeterminate span")}return r}decode(e,t=0){s(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const n=r;let s=0,i=0;for(const n of this.fields){let o=n.span;if(i=0<o?o:0,void 0!==n.property){const s=e[n.property];void 0!==s&&(i=n.encode(s,t,r),0>o&&(o=n.getSpan(t,r)))}s=r,r+=o}return s+i-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class B{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}class T extends B{constructor(e,t){if(!(e instanceof c&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class R extends o{constructor(e,t,r){let n;if(e instanceof d||e instanceof h)n=new T(new l(e));else if(e instanceof c&&e.isCount())n=new T(e);else{if(!(e instanceof B))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=e}if(void 0===t&&(t=null),!(null===t||t instanceof o))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof d||e instanceof h)&&(s+=n.layout.span)),super(s,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof d||e instanceof h,this.defaultLayout=t,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return i(e)},this.configGetSourceVariant=function(e){i=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const n=this.discriminator,s=n.decode(e,t),i=this.registry[s];if(void 0===i){const i=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=n.layout.span),r=this.makeDestinationObject(),r[n.property]=s,r[i.property]=i.decode(e,t+o)}else r=i.decode(e,t);return r}encode(e,t,r=0){const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,s=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=n.layout.span),n.encode(e[n.property],t,r),i+s.encode(e[s.property],t,r+i)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new U(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}class U extends o{constructor(e,t,r,n){if(!(e instanceof R))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof o))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let s=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),s+=this.layout.getSpan(t,r+n),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function z(e){return 0>e&&(e+=4294967296),e}class P extends o{constructor(e,t,r){if(!(e instanceof d||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=z(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){const r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);for(const t of this.fields)void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){const n=this.word.decode(t,r);this._packedSetValue(n);for(const t of this.fields)if(void 0!==t.property){const r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new O(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new L(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class O{constructor(e,t,r){if(!(e instanceof P))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,s=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+s>n)throw new Error("bits too long for span remainder ("+(n-s)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=n-s-t),this.wordMask=z(this.valueMask<<this.start),this.property=r}decode(e,t){return z(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==z(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=z(e<<this.start);this.container._packedSetValue(z(t&~this.wordMask)|r)}}class L extends O{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}class C extends o{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof c||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),i(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof c&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const s=i(e);return i(t).write(s.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,t,r),n}}class N extends o{constructor(e){super(-1,e)}getSpan(e,t=0){s(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return i(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));const s=n.Buffer.from(e,"utf8"),o=s.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");const a=i(t);return s.copy(a,r),a[r+o]=0,o+1}}class W extends o{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return s(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return i(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));const s=n.Buffer.from(e,"utf8"),o=s.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return s.copy(i(t),r),o}}class M extends o{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}t.cv=(e,t,r)=>new l(e,t,r),t.u8=e=>new d(1,e),t.KB=e=>new d(2,e),t.Jq=e=>new d(4,e),t._O=e=>new m(e),t.gM=e=>new k(e),t.n_=(e,t,r)=>new E(e,t,r),t.A9=(e,t,r)=>new I(e,t,r),t.Ik=(e,t)=>new C(e,t)},16257:(e,t,r)=>{"use strict";r.d(t,{GS:()=>ee,RG:()=>Ar,RL:()=>J,Sl:()=>Y,ew:()=>_r,gw:()=>Be,nh:()=>R,v0:()=>$});var n=r(34042),s=r(14509),i=r(1876),o=r.n(i),a=r(91927),c=r.n(a),u=r(8181),l=r(76547),d=r(45695),h=r(70508),f=r(14385),p=r(6275),g=r.n(p),y=r(55838),b=r(62774),m=r(29800);s.UN.utils.randomPrivateKey;const w=()=>{const e=s.UN.utils.randomPrivateKey(),t=k(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},k=s.UN.getPublicKey;function S(e){try{return s.UN.ExtendedPoint.fromHex(e),!0}catch{return!1}}const x=(e,t)=>s.UN.sign(e,t.slice(0,32)),_=s.UN.verify,A=e=>n.Buffer.isBuffer(e)?e:e instanceof Uint8Array?n.Buffer.from(e.buffer,e.byteOffset,e.byteLength):n.Buffer.from(e);class v{constructor(e){Object.assign(this,e)}encode(){return n.Buffer.from((0,l.serialize)(I,this))}static decode(e){return(0,l.deserialize)(I,this,e)}static decodeUnchecked(e){return(0,l.deserializeUnchecked)(I,this,e)}}const I=new Map;var E;const B=32;let T=1;class R extends v{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=c().decode(e);if(t.length!=B)throw new Error("Invalid public key input");this._bn=new(o())(t)}else this._bn=new(o())(e);if(this._bn.byteLength()>B)throw new Error("Invalid public key input")}}static unique(){const e=new R(T);return T+=1,new R(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return c().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(n.Buffer);if(e.length===B)return e;const t=n.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=n.Buffer.concat([e.toBuffer(),n.Buffer.from(t),r.toBuffer()]),i=(0,u.JQ)(s);return new R(i)}static createProgramAddressSync(e,t){let r=n.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=n.Buffer.concat([r,A(e)])})),r=n.Buffer.concat([r,t.toBuffer(),n.Buffer.from("ProgramDerivedAddress")]);const s=(0,u.JQ)(r);if(S(s))throw new Error("Invalid seeds, address must fall off the curve");return new R(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,s=255;for(;0!=s;){try{const i=e.concat(n.Buffer.from([s]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;s--;continue}return[r,s]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return S(new R(e).toBytes())}}E=R,R.default=new E("11111111111111111111111111111111"),I.set(R,{kind:"struct",fields:[["_bn","u256"]]});new R("BPFLoader1111111111111111111111111111111111");const U=1232;class z extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(z.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class P extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(P.prototype,"name",{value:"TransactionExpiredTimeoutError"});class O extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(O.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class L{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,r)=>{t.set(e.toBase58(),r)}));const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((e=>r(e.pubkey))),data:e.data})))}}const C=(e="publicKey")=>d.Ik(32,e),N=(e="signature")=>d.Ik(64,e),W=(e="string")=>{const t=d.n_([d.Jq("length"),d.Jq("lengthPadding"),d.Ik(d.cv(d.Jq(),-8),"chars")],e),r=t.decode.bind(t),s=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:n.Buffer.from(e,"utf8")};return s(i,t,r)},i.alloc=e=>d.Jq().span+d.Jq().span+n.Buffer.from(e,"utf8").length,i};function M(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}else if("fields"in e)return M({layout:e},t[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}function H(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0==(128&n))break}return t}function K(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function j(e,t){if(!e)throw new Error(t||"Assertion failed")}class q{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,n=e=>{const t=e.toBase58();let n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},s=n(t);s.isSigner=!0,s.isWritable=!0;for(const t of e){n(t.programId).isInvoked=!0;for(const e of t.keys){const t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new q(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];j(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),r=e.filter((([,e])=>e.isSigner&&!e.isWritable)),n=e.filter((([,e])=>!e.isSigner&&e.isWritable)),s=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),i={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{j(t.length>0,"Expected at least one writable signer key");const[e]=t[0];j(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[i,[...t.map((([e])=>new R(e))),...r.map((([e])=>new R(e))),...n.map((([e])=>new R(e))),...s.map((([e])=>new R(e)))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[n,s]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[s,i]of this.keyMetaMap.entries())if(t(i)){const t=new R(s),i=e.findIndex((e=>e.equals(t)));i>=0&&(j(i<256,"Max lookup table index exceeded"),r.push(i),n.push(t),this.keyMetaMap.delete(s))}return[r,n]}}const D="Reached end of buffer unexpectedly";function F(e){if(0===e.length)throw new Error(D);return e.shift()}function G(e,...t){const[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw new Error(D);return e.splice(...t)}class ${constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new R(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:c().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new L(this.staticAccountKeys)}static compile(e){const t=q.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),s=new L(n).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:c().encode(e.data)})));return new $({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];K(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,s=Array.from(c().decode(e.data));let i=[];K(i,t.length);let o=[];return K(o,s.length),{programIdIndex:r,keyIndicesCount:n.Buffer.from(i),keyIndices:t,dataLength:n.Buffer.from(o),data:s}}));let s=[];K(s,r.length);let i=n.Buffer.alloc(U);n.Buffer.from(s).copy(i);let o=s.length;r.forEach((e=>{const t=d.n_([d.u8("programIdIndex"),d.Ik(e.keyIndicesCount.length,"keyIndicesCount"),d.A9(d.u8("keyIndex"),e.keyIndices.length,"keyIndices"),d.Ik(e.dataLength.length,"dataLength"),d.A9(d.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const a=d.n_([d.Ik(1,"numRequiredSignatures"),d.Ik(1,"numReadonlySignedAccounts"),d.Ik(1,"numReadonlyUnsignedAccounts"),d.Ik(t.length,"keyCount"),d.A9(C("key"),e,"keys"),C("recentBlockhash")]),u={numRequiredSignatures:n.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:n.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:n.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:n.Buffer.from(t),keys:this.accountKeys.map((e=>A(e.toBytes()))),recentBlockhash:c().decode(this.recentBlockhash)};let l=n.Buffer.alloc(2048);const h=a.encode(u,l);return i.copy(l,h),l.slice(0,h+i.length)}static from(e){let t=[...e];const r=F(t);if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=F(t),i=F(t),o=H(t);let a=[];for(let e=0;e<o;e++){const e=G(t,0,B);a.push(new R(n.Buffer.from(e)))}const u=G(t,0,B),l=H(t);let d=[];for(let e=0;e<l;e++){const e=F(t),r=G(t,0,H(t)),s=G(t,0,H(t)),i=c().encode(n.Buffer.from(s));d.push({programIdIndex:e,accounts:r,data:i})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:c().encode(n.Buffer.from(u)),accountKeys:a,instructions:d};return new $(h)}}class J{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new L(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){return e-r<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-t<r-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=e.find((e=>e.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const e of r.writableIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.writable.push(n.state.addresses[e])}for(const e of r.readonlyIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.readonly.push(n.state.addresses[e])}}return t}static compile(e){const t=q.compile(e.instructions,e.payerKey),r=new Array,n={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const e of s){const s=t.extractTableLookup(e);if(void 0!==s){const[e,{writable:t,readonly:i}]=s;r.push(e),n.writable.push(...t),n.readonly.push(...i)}}const[i,o]=t.getMessageComponents(),a=new L(o,n).compileInstructions(e.instructions);return new J({header:i,staticAccountKeys:o,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const e=Array();K(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();K(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),s=Array();K(s,this.addressTableLookups.length);const i=d.n_([d.u8("prefix"),d.n_([d.u8("numRequiredSignatures"),d.u8("numReadonlySignedAccounts"),d.u8("numReadonlyUnsignedAccounts")],"header"),d.Ik(e.length,"staticAccountKeysLength"),d.A9(C(),this.staticAccountKeys.length,"staticAccountKeys"),C("recentBlockhash"),d.Ik(r.length,"instructionsLength"),d.Ik(t.length,"serializedInstructions"),d.Ik(s.length,"addressTableLookupsLength"),d.Ik(n.length,"serializedAddressTableLookups")]),o=new Uint8Array(U),a=i.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:c().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:n},o);return o.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(U);for(const r of this.compiledInstructions){const n=Array();K(n,r.accountKeyIndexes.length);const s=Array();K(s,r.data.length);e+=d.n_([d.u8("programIdIndex"),d.Ik(n.length,"encodedAccountKeyIndexesLength"),d.A9(d.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),d.Ik(s.length,"encodedDataLength"),d.Ik(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(U);for(const r of this.addressTableLookups){const n=Array();K(n,r.writableIndexes.length);const s=Array();K(s,r.readonlyIndexes.length);e+=d.n_([C("accountKey"),d.Ik(n.length,"encodedWritableIndexesLength"),d.A9(d.u8(),r.writableIndexes.length,"writableIndexes"),d.Ik(s.length,"encodedReadonlyIndexesLength"),d.A9(d.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=F(t),n=127&r;j(r!==n,"Expected versioned message but received legacy message");j(0===n,`Expected versioned message with version 0 but found version ${n}`);const s={numRequiredSignatures:F(t),numReadonlySignedAccounts:F(t),numReadonlyUnsignedAccounts:F(t)},i=[],o=H(t);for(let e=0;e<o;e++)i.push(new R(G(t,0,B)));const a=c().encode(G(t,0,B)),u=H(t),l=[];for(let e=0;e<u;e++){const e=F(t),r=G(t,0,H(t)),n=H(t),s=new Uint8Array(G(t,0,n));l.push({programIdIndex:e,accountKeyIndexes:r,data:s})}const d=H(t),h=[];for(let e=0;e<d;e++){const e=new R(G(t,0,B)),r=G(t,0,H(t)),n=G(t,0,H(t));h.push({accountKey:e,writableIndexes:r,readonlyIndexes:n})}return new J({header:s,staticAccountKeys:i,recentBlockhash:a,compiledInstructions:l,addressTableLookups:h})}}const V={deserializeMessageVersion(e){const t=e[0],r=127&t;return r===t?"legacy":r},deserialize:e=>{const t=V.deserializeMessageVersion(e);if("legacy"===t)return $.from(e);if(0===t)return J.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let X=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Z=n.Buffer.alloc(64).fill(0);class Y{constructor(e){this.keys=void 0,this.programId=void 0,this.data=n.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Q{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Y(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const n=[],s=[];t.forEach((e=>{e.keys.forEach((e=>{s.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{s.push({pubkey:new R(e),isSigner:!1,isWritable:!1})}));const i=[];s.forEach((e=>{const t=e.pubkey.toString(),r=i.findIndex((e=>e.pubkey.toString()===t));r>-1?(i[r].isWritable=i[r].isWritable||e.isWritable,i[r].isSigner=i[r].isSigner||e.isSigner):i.push(e)})),i.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=i.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=i.splice(o,1);e.isSigner=!0,e.isWritable=!0,i.unshift(e)}else i.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=i.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);i[t].isSigner||(i[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,l=0;const d=[],h=[];i.forEach((({pubkey:e,isSigner:t,isWritable:r})=>{t?(d.push(e.toString()),a+=1,r||(u+=1)):(h.push(e.toString()),r||(l+=1))}));const f=d.concat(h),p=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:f.indexOf(r.toString()),accounts:e.keys.map((e=>f.indexOf(e.pubkey.toString()))),data:c().encode(t)}}));return p.forEach((e=>{j(e.programIdIndex>=0),e.accounts.forEach((e=>j(e>=0)))})),new $({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:f,recentBlockhash:e,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map((e=>({signature:null,publicKey:e.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach((e=>{const t=x(r,e.secretKey);this._addSignature(e.publicKey,A(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){j(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=n.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:n,publicKey:s}of this.signatures)null===n?t&&(r.missing||=[]).push(s):_(n,e,s.toBytes())||(r.invalid||=[]).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){const e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];K(r,t.length);const s=r.length+64*t.length+e.length,i=n.Buffer.alloc(s);return j(t.length<256),n.Buffer.from(r).copy(i,0),t.forEach((({signature:e},t)=>{null!==e&&(j(64===e.length,"signature has invalid length"),n.Buffer.from(e).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),j(i.length<=U,`Transaction too large: ${i.length} > 1232`),i}get keys(){return j(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return j(1===this.instructions.length),this.instructions[0].programId}get data(){return j(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=H(t);let s=[];for(let e=0;e<r;e++){const e=G(t,0,64);s.push(c().encode(n.Buffer.from(e)))}return Q.populate($.from(t),s)}static populate(e,t=[]){const r=new Q;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const s={signature:t==c().encode(Z)?null:c().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(s)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new Y({keys:n,programId:e.accountKeys[t.programIdIndex],data:c().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}class ee{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)j(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();K(t,this.signatures.length);const r=d.n_([d.Ik(t.length,"encodedSignaturesLength"),d.A9(N(),this.signatures.length,"signatures"),d.Ik(e.length,"serializedMessage")]),n=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,s)}static deserialize(e){let t=[...e];const r=[],n=H(t);for(let e=0;e<n;e++)r.push(new Uint8Array(G(t,0,64)));const s=V.deserialize(new Uint8Array(t));return new ee(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of e){const e=r.findIndex((e=>e.equals(n.publicKey)));j(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=x(t,n.secretKey)}}addSignature(e,t){j(64===t.byteLength,"Signature must be 64 bytes long");const r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));j(r>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=t}}const te=new R("SysvarC1ock11111111111111111111111111111111"),re=(new R("SysvarEpochSchedu1e111111111111111111111111"),new R("Sysvar1nstructions1111111111111111111111111"),new R("SysvarRecentB1ockHashes11111111111111111111")),ne=new R("SysvarRent111111111111111111111111111111111"),se=(new R("SysvarRewards111111111111111111111111111111"),new R("SysvarS1otHashes111111111111111111111111111"),new R("SysvarS1otHistory11111111111111111111111111"),new R("SysvarStakeHistory1111111111111111111111111"));class ie extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){const s=n?`Logs: \n${JSON.stringify(n.slice(-10),null,2)}. `:"",i="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(e){case"send":o=`Transaction ${t} resulted in an error. \n${r}. `+s+i;break;case"simulate":o=`Simulation failed. \nMessage: ${r}. \n`+s+i;break;default:o=`Unknown action '${e}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,r)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(new Error("Log messages not found"))})).catch(r)}))),await this.transactionLogs}}class oe extends Error{constructor({code:e,message:t,data:r},n){super(null!=n?`${n}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function ae(e,t,r,n){const s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},i=await e.sendTransaction(t,r,s);let o;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)o=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:i,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:r}=t.nonceInfo,s=r.keys[0].pubkey;o=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:t.nonceInfo.nonce,signature:i},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await e.confirmTransaction(i,n&&n.commitment)).value;if(o.err){if(null!=i)throw new ie({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${i} failed (${JSON.stringify(o)})`)}return i}function ce(e){return new Promise((t=>setTimeout(t,e)))}function ue(e,t){const r=e.layout.span>=0?e.layout.span:M(e,t),s=n.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,s),s}const le=d._O("lamportsPerSignature"),de=d.n_([d.Jq("version"),d.Jq("state"),C("authorizedPubkey"),C("nonce"),d.n_([le],"feeCalculator")]),he=de.span;class fe{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=de.decode(A(e),0);return new fe({authorizedPubkey:new R(t.authorizedPubkey),nonce:new R(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const pe=(ge=8,e=>{const t=(0,d.Ik)(ge,e),{encode:r,decode:s}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const r=s(e,t);return(0,h.oU)(n.Buffer.from(r))},i.encode=(e,t,n)=>{const s=(0,h.k$)(e,ge);return r(s,t,n)},i});var ge;const ye=Object.freeze({Create:{index:0,layout:d.n_([d.Jq("instruction"),d.gM("lamports"),d.gM("space"),C("programId")])},Assign:{index:1,layout:d.n_([d.Jq("instruction"),C("programId")])},Transfer:{index:2,layout:d.n_([d.Jq("instruction"),pe("lamports")])},CreateWithSeed:{index:3,layout:d.n_([d.Jq("instruction"),C("base"),W("seed"),d.gM("lamports"),d.gM("space"),C("programId")])},AdvanceNonceAccount:{index:4,layout:d.n_([d.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},InitializeNonceAccount:{index:6,layout:d.n_([d.Jq("instruction"),C("authorized")])},AuthorizeNonceAccount:{index:7,layout:d.n_([d.Jq("instruction"),C("authorized")])},Allocate:{index:8,layout:d.n_([d.Jq("instruction"),d.gM("space")])},AllocateWithSeed:{index:9,layout:d.n_([d.Jq("instruction"),C("base"),W("seed"),d.gM("space"),C("programId")])},AssignWithSeed:{index:10,layout:d.n_([d.Jq("instruction"),C("base"),W("seed"),C("programId")])},TransferWithSeed:{index:11,layout:d.n_([d.Jq("instruction"),pe("lamports"),W("seed"),C("programId")])},UpgradeNonceAccount:{index:12,layout:d.n_([d.Jq("instruction")])}});class be{constructor(){}static createAccount(e){const t=ue(ye.Create,{lamports:e.lamports,space:e.space,programId:A(e.programId.toBuffer())});return new Y({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=ue(ye.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:A(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=ue(ye.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Y({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=ue(ye.AssignWithSeed,{base:A(e.basePubkey.toBuffer()),seed:e.seed,programId:A(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=ue(ye.Assign,{programId:A(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Y({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ue(ye.CreateWithSeed,{base:A(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:A(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Y({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new Q;"basePubkey"in e&&"seed"in e?t.add(be.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:he,programId:this.programId})):t.add(be.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:he,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=ue(ye.InitializeNonceAccount,{authorized:A(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:re,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Y(r)}static nonceAdvance(e){const t=ue(ye.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:re,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Y(r)}static nonceWithdraw(e){const t=ue(ye.WithdrawNonceAccount,{lamports:e.lamports});return new Y({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:re,isSigner:!1,isWritable:!1},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=ue(ye.AuthorizeNonceAccount,{authorized:A(e.newAuthorizedPubkey.toBuffer())});return new Y({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=ue(ye.AllocateWithSeed,{base:A(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:A(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=ue(ye.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Y({keys:r,programId:this.programId,data:t})}}be.programId=new R("11111111111111111111111111111111");class me{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/me.chunkSize)+1+1)}static async load(e,t,r,s,i){{const n=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new Q,a.add(be.allocate({accountPubkey:r.publicKey,space:i.length}))),o.owner.equals(s)||(a=a||new Q,a.add(be.assign({accountPubkey:r.publicKey,programId:s}))),o.lamports<n&&(a=a||new Q,a.add(be.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:n-o.lamports})))}else a=(new Q).add(be.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:n>0?n:1,space:i.length,programId:s}));null!==a&&await ae(e,a,[t,r],{commitment:"confirmed"})}const o=d.n_([d.Jq("instruction"),d.Jq("offset"),d.Jq("bytesLength"),d.Jq("bytesLengthPadding"),d.A9(d.u8("byte"),d.cv(d.Jq(),-8),"bytes")]),a=me.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const i=u.slice(0,a),d=n.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:i,bytesLength:0,bytesLengthPadding:0},d);const h=(new Q).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:d});if(l.push(ae(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await ce(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(l);{const i=d.n_([d.Jq("instruction")]),o=n.Buffer.alloc(i.span);i.encode({instruction:1},o);const a=(new Q).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1}],programId:s,data:o}),c="processed",u=await e.sendTransaction(a,[t,r],{preflightCommitment:c}),{context:l,value:h}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(h.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(h)})`);for(;;){try{if(await e.getSlot({commitment:c})>l.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}me.chunkSize=932;new R("BPFLoader2111111111111111111111111111111111");function we(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ke,Se;function xe(){if(Se)return ke;Se=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function r(n,s){var i,o,a,c,u,l,d;if(!0===n)return"true";if(!1===n)return"false";switch(typeof n){case"object":if(null===n)return null;if(n.toJSON&&"function"==typeof n.toJSON)return r(n.toJSON(),s);if("[object Array]"===(d=e.call(n))){for(a="[",o=n.length-1,i=0;i<o;i++)a+=r(n[i],!0)+",";return o>-1&&(a+=r(n[i],!0)),a+"]"}if("[object Object]"===d){for(o=(c=t(n).sort()).length,a="",i=0;i<o;)void 0!==(l=r(n[u=c[i]],!1))&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}return JSON.stringify(n);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return ke=function(e){var t=r(e,!1);if(void 0!==t)return""+t}}var _e=we(xe());function Ae(e){let t=0;for(;e>1;)e/=2,t++;return t}class ve{constructor(e,t,r,n,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=Ae(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Ae(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Ae(32)):this.slotsPerEpoch}}var Ie=globalThis.fetch;class Ee extends y.Ey{constructor(e,t,r){super((e=>{const r=(0,y.XY)(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in r?r.socket:r,r}),e,t,r),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class Be{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let r;try{r=e.layout.decode(t)}catch(e){throw new Error("invalid instruction; "+e)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}(Te,e),r=e.length-56;j(r>=0,"lookup table is invalid"),j(r%32==0,"lookup table is invalid");const n=r/32,{addresses:s}=d.n_([d.A9(C(),n,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new R(t.authority[0]):void 0,addresses:s.map((e=>new R(e)))}}}const Te={index:1,layout:d.n_([d.Jq("typeIndex"),pe("deactivationSlot"),d._O("lastExtendedSlot"),d.u8("lastExtendedStartIndex"),d.u8(),d.A9(C(),d.cv(d.u8(),-1),"authority")])},Re=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const Ue=(0,f.oQ)((0,f.eE)(R),(0,f.Z_)(),(e=>new R(e))),ze=(0,f.bc)([(0,f.Z_)(),(0,f.i0)("base64")]),Pe=(0,f.oQ)((0,f.eE)(n.Buffer),ze,(e=>n.Buffer.from(e[0],"base64")));function Oe(e){let t,r;if("string"==typeof e)t=e;else if(e){const{commitment:n,...s}=e;t=n,r=s}return{commitment:t,config:r}}function Le(e){return e.map((e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e))}function Ce(e){return(0,f.G0)([(0,f.dt)({jsonrpc:(0,f.i0)("2.0"),id:(0,f.Z_)(),result:e}),(0,f.dt)({jsonrpc:(0,f.i0)("2.0"),id:(0,f.Z_)(),error:(0,f.dt)({code:(0,f._4)(),message:(0,f.Z_)(),data:(0,f.jt)((0,f.Yj)())})})])}const Ne=Ce((0,f._4)());function We(e){return(0,f.oQ)(Ce(e),Ne,(t=>"error"in t?t:{...t,result:(0,f.Ue)(t.result,e)}))}function Me(e){return We((0,f.dt)({context:(0,f.dt)({slot:(0,f.Rx)()}),value:e}))}function He(e){return(0,f.dt)({context:(0,f.dt)({slot:(0,f.Rx)()}),value:e})}function Ke(e,t){return 0===e?new J({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new R(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:c().decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new $(t)}const je=(0,f.dt)({foundation:(0,f.Rx)(),foundationTerm:(0,f.Rx)(),initial:(0,f.Rx)(),taper:(0,f.Rx)(),terminal:(0,f.Rx)()}),qe=We((0,f.IX)((0,f.AG)((0,f.dt)({epoch:(0,f.Rx)(),effectiveSlot:(0,f.Rx)(),amount:(0,f.Rx)(),postBalance:(0,f.Rx)(),commission:(0,f.jt)((0,f.AG)((0,f.Rx)()))})))),De=(0,f.IX)((0,f.dt)({slot:(0,f.Rx)(),prioritizationFee:(0,f.Rx)()})),Fe=(0,f.dt)({total:(0,f.Rx)(),validator:(0,f.Rx)(),foundation:(0,f.Rx)(),epoch:(0,f.Rx)()}),Ge=(0,f.dt)({epoch:(0,f.Rx)(),slotIndex:(0,f.Rx)(),slotsInEpoch:(0,f.Rx)(),absoluteSlot:(0,f.Rx)(),blockHeight:(0,f.jt)((0,f.Rx)()),transactionCount:(0,f.jt)((0,f.Rx)())}),$e=(0,f.dt)({slotsPerEpoch:(0,f.Rx)(),leaderScheduleSlotOffset:(0,f.Rx)(),warmup:(0,f.O7)(),firstNormalEpoch:(0,f.Rx)(),firstNormalSlot:(0,f.Rx)()}),Je=(0,f.IM)((0,f.Z_)(),(0,f.IX)((0,f.Rx)())),Ve=(0,f.AG)((0,f.G0)([(0,f.dt)({}),(0,f.Z_)()])),Xe=(0,f.dt)({err:Ve}),Ze=(0,f.i0)("receivedSignature"),Ye=(0,f.dt)({"solana-core":(0,f.Z_)(),"feature-set":(0,f.jt)((0,f.Rx)())}),Qe=(0,f.dt)({program:(0,f.Z_)(),programId:Ue,parsed:(0,f._4)()}),et=(0,f.dt)({programId:Ue,accounts:(0,f.IX)(Ue),data:(0,f.Z_)()}),tt=Me((0,f.dt)({err:(0,f.AG)((0,f.G0)([(0,f.dt)({}),(0,f.Z_)()])),logs:(0,f.AG)((0,f.IX)((0,f.Z_)())),accounts:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.AG)((0,f.dt)({executable:(0,f.O7)(),owner:(0,f.Z_)(),lamports:(0,f.Rx)(),data:(0,f.IX)((0,f.Z_)()),rentEpoch:(0,f.jt)((0,f.Rx)())}))))),unitsConsumed:(0,f.jt)((0,f.Rx)()),returnData:(0,f.jt)((0,f.AG)((0,f.dt)({programId:(0,f.Z_)(),data:(0,f.bc)([(0,f.Z_)(),(0,f.i0)("base64")])}))),innerInstructions:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.dt)({index:(0,f.Rx)(),instructions:(0,f.IX)((0,f.G0)([Qe,et]))}))))})),rt=Me((0,f.dt)({byIdentity:(0,f.IM)((0,f.Z_)(),(0,f.IX)((0,f.Rx)())),range:(0,f.dt)({firstSlot:(0,f.Rx)(),lastSlot:(0,f.Rx)()})}));const nt=We(je),st=We(Fe),it=We(De),ot=We(Ge),at=We($e),ct=We(Je),ut=We((0,f.Rx)()),lt=Me((0,f.dt)({total:(0,f.Rx)(),circulating:(0,f.Rx)(),nonCirculating:(0,f.Rx)(),nonCirculatingAccounts:(0,f.IX)(Ue)})),dt=(0,f.dt)({amount:(0,f.Z_)(),uiAmount:(0,f.AG)((0,f.Rx)()),decimals:(0,f.Rx)(),uiAmountString:(0,f.jt)((0,f.Z_)())}),ht=Me((0,f.IX)((0,f.dt)({address:Ue,amount:(0,f.Z_)(),uiAmount:(0,f.AG)((0,f.Rx)()),decimals:(0,f.Rx)(),uiAmountString:(0,f.jt)((0,f.Z_)())}))),ft=Me((0,f.IX)((0,f.dt)({pubkey:Ue,account:(0,f.dt)({executable:(0,f.O7)(),owner:Ue,lamports:(0,f.Rx)(),data:Pe,rentEpoch:(0,f.Rx)()})}))),pt=(0,f.dt)({program:(0,f.Z_)(),parsed:(0,f._4)(),space:(0,f.Rx)()}),gt=Me((0,f.IX)((0,f.dt)({pubkey:Ue,account:(0,f.dt)({executable:(0,f.O7)(),owner:Ue,lamports:(0,f.Rx)(),data:pt,rentEpoch:(0,f.Rx)()})}))),yt=Me((0,f.IX)((0,f.dt)({lamports:(0,f.Rx)(),address:Ue}))),bt=(0,f.dt)({executable:(0,f.O7)(),owner:Ue,lamports:(0,f.Rx)(),data:Pe,rentEpoch:(0,f.Rx)()}),mt=(0,f.dt)({pubkey:Ue,account:bt}),wt=(0,f.oQ)((0,f.G0)([(0,f.eE)(n.Buffer),pt]),(0,f.G0)([ze,pt]),(e=>Array.isArray(e)?(0,f.Ue)(e,Pe):e)),kt=(0,f.dt)({executable:(0,f.O7)(),owner:Ue,lamports:(0,f.Rx)(),data:wt,rentEpoch:(0,f.Rx)()}),St=(0,f.dt)({pubkey:Ue,account:kt}),xt=(0,f.dt)({state:(0,f.G0)([(0,f.i0)("active"),(0,f.i0)("inactive"),(0,f.i0)("activating"),(0,f.i0)("deactivating")]),active:(0,f.Rx)(),inactive:(0,f.Rx)()}),_t=We((0,f.IX)((0,f.dt)({signature:(0,f.Z_)(),slot:(0,f.Rx)(),err:Ve,memo:(0,f.AG)((0,f.Z_)()),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),At=We((0,f.IX)((0,f.dt)({signature:(0,f.Z_)(),slot:(0,f.Rx)(),err:Ve,memo:(0,f.AG)((0,f.Z_)()),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),vt=(0,f.dt)({subscription:(0,f.Rx)(),result:He(bt)}),It=(0,f.dt)({pubkey:Ue,account:bt}),Et=(0,f.dt)({subscription:(0,f.Rx)(),result:He(It)}),Bt=(0,f.dt)({parent:(0,f.Rx)(),slot:(0,f.Rx)(),root:(0,f.Rx)()}),Tt=(0,f.dt)({subscription:(0,f.Rx)(),result:Bt}),Rt=(0,f.G0)([(0,f.dt)({type:(0,f.G0)([(0,f.i0)("firstShredReceived"),(0,f.i0)("completed"),(0,f.i0)("optimisticConfirmation"),(0,f.i0)("root")]),slot:(0,f.Rx)(),timestamp:(0,f.Rx)()}),(0,f.dt)({type:(0,f.i0)("createdBank"),parent:(0,f.Rx)(),slot:(0,f.Rx)(),timestamp:(0,f.Rx)()}),(0,f.dt)({type:(0,f.i0)("frozen"),slot:(0,f.Rx)(),timestamp:(0,f.Rx)(),stats:(0,f.dt)({numTransactionEntries:(0,f.Rx)(),numSuccessfulTransactions:(0,f.Rx)(),numFailedTransactions:(0,f.Rx)(),maxTransactionsPerEntry:(0,f.Rx)()})}),(0,f.dt)({type:(0,f.i0)("dead"),slot:(0,f.Rx)(),timestamp:(0,f.Rx)(),err:(0,f.Z_)()})]),Ut=(0,f.dt)({subscription:(0,f.Rx)(),result:Rt}),zt=(0,f.dt)({subscription:(0,f.Rx)(),result:He((0,f.G0)([Xe,Ze]))}),Pt=(0,f.dt)({subscription:(0,f.Rx)(),result:(0,f.Rx)()}),Ot=(0,f.dt)({pubkey:(0,f.Z_)(),gossip:(0,f.AG)((0,f.Z_)()),tpu:(0,f.AG)((0,f.Z_)()),rpc:(0,f.AG)((0,f.Z_)()),version:(0,f.AG)((0,f.Z_)())}),Lt=(0,f.dt)({votePubkey:(0,f.Z_)(),nodePubkey:(0,f.Z_)(),activatedStake:(0,f.Rx)(),epochVoteAccount:(0,f.O7)(),epochCredits:(0,f.IX)((0,f.bc)([(0,f.Rx)(),(0,f.Rx)(),(0,f.Rx)()])),commission:(0,f.Rx)(),lastVote:(0,f.Rx)(),rootSlot:(0,f.AG)((0,f.Rx)())}),Ct=We((0,f.dt)({current:(0,f.IX)(Lt),delinquent:(0,f.IX)(Lt)})),Nt=(0,f.G0)([(0,f.i0)("processed"),(0,f.i0)("confirmed"),(0,f.i0)("finalized")]),Wt=(0,f.dt)({slot:(0,f.Rx)(),confirmations:(0,f.AG)((0,f.Rx)()),err:Ve,confirmationStatus:(0,f.jt)(Nt)}),Mt=Me((0,f.IX)((0,f.AG)(Wt))),Ht=We((0,f.Rx)()),Kt=(0,f.dt)({accountKey:Ue,writableIndexes:(0,f.IX)((0,f.Rx)()),readonlyIndexes:(0,f.IX)((0,f.Rx)())}),jt=(0,f.dt)({signatures:(0,f.IX)((0,f.Z_)()),message:(0,f.dt)({accountKeys:(0,f.IX)((0,f.Z_)()),header:(0,f.dt)({numRequiredSignatures:(0,f.Rx)(),numReadonlySignedAccounts:(0,f.Rx)(),numReadonlyUnsignedAccounts:(0,f.Rx)()}),instructions:(0,f.IX)((0,f.dt)({accounts:(0,f.IX)((0,f.Rx)()),data:(0,f.Z_)(),programIdIndex:(0,f.Rx)()})),recentBlockhash:(0,f.Z_)(),addressTableLookups:(0,f.jt)((0,f.IX)(Kt))})}),qt=(0,f.dt)({pubkey:Ue,signer:(0,f.O7)(),writable:(0,f.O7)(),source:(0,f.jt)((0,f.G0)([(0,f.i0)("transaction"),(0,f.i0)("lookupTable")]))}),Dt=(0,f.dt)({accountKeys:(0,f.IX)(qt),signatures:(0,f.IX)((0,f.Z_)())}),Ft=(0,f.dt)({parsed:(0,f._4)(),program:(0,f.Z_)(),programId:Ue}),Gt=(0,f.dt)({accounts:(0,f.IX)(Ue),data:(0,f.Z_)(),programId:Ue}),$t=(0,f.G0)([Gt,Ft]),Jt=(0,f.G0)([(0,f.dt)({parsed:(0,f._4)(),program:(0,f.Z_)(),programId:(0,f.Z_)()}),(0,f.dt)({accounts:(0,f.IX)((0,f.Z_)()),data:(0,f.Z_)(),programId:(0,f.Z_)()})]),Vt=(0,f.oQ)($t,Jt,(e=>"accounts"in e?(0,f.Ue)(e,Gt):(0,f.Ue)(e,Ft))),Xt=(0,f.dt)({signatures:(0,f.IX)((0,f.Z_)()),message:(0,f.dt)({accountKeys:(0,f.IX)(qt),instructions:(0,f.IX)(Vt),recentBlockhash:(0,f.Z_)(),addressTableLookups:(0,f.jt)((0,f.AG)((0,f.IX)(Kt)))})}),Zt=(0,f.dt)({accountIndex:(0,f.Rx)(),mint:(0,f.Z_)(),owner:(0,f.jt)((0,f.Z_)()),programId:(0,f.jt)((0,f.Z_)()),uiTokenAmount:dt}),Yt=(0,f.dt)({writable:(0,f.IX)(Ue),readonly:(0,f.IX)(Ue)}),Qt=(0,f.dt)({err:Ve,fee:(0,f.Rx)(),innerInstructions:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.dt)({index:(0,f.Rx)(),instructions:(0,f.IX)((0,f.dt)({accounts:(0,f.IX)((0,f.Rx)()),data:(0,f.Z_)(),programIdIndex:(0,f.Rx)()}))})))),preBalances:(0,f.IX)((0,f.Rx)()),postBalances:(0,f.IX)((0,f.Rx)()),logMessages:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.Z_)()))),preTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(Zt))),postTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(Zt))),loadedAddresses:(0,f.jt)(Yt),computeUnitsConsumed:(0,f.jt)((0,f.Rx)())}),er=(0,f.dt)({err:Ve,fee:(0,f.Rx)(),innerInstructions:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.dt)({index:(0,f.Rx)(),instructions:(0,f.IX)(Vt)})))),preBalances:(0,f.IX)((0,f.Rx)()),postBalances:(0,f.IX)((0,f.Rx)()),logMessages:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.Z_)()))),preTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(Zt))),postTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(Zt))),loadedAddresses:(0,f.jt)(Yt),computeUnitsConsumed:(0,f.jt)((0,f.Rx)())}),tr=(0,f.G0)([(0,f.i0)(0),(0,f.i0)("legacy")]),rr=(0,f.dt)({pubkey:(0,f.Z_)(),lamports:(0,f.Rx)(),postBalance:(0,f.AG)((0,f.Rx)()),rewardType:(0,f.AG)((0,f.Z_)()),commission:(0,f.jt)((0,f.AG)((0,f.Rx)()))}),nr=We((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:jt,meta:(0,f.AG)(Qt),version:(0,f.jt)(tr)})),rewards:(0,f.jt)((0,f.IX)(rr)),blockTime:(0,f.AG)((0,f.Rx)()),blockHeight:(0,f.AG)((0,f.Rx)())}))),sr=We((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),rewards:(0,f.jt)((0,f.IX)(rr)),blockTime:(0,f.AG)((0,f.Rx)()),blockHeight:(0,f.AG)((0,f.Rx)())}))),ir=We((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:Dt,meta:(0,f.AG)(Qt),version:(0,f.jt)(tr)})),rewards:(0,f.jt)((0,f.IX)(rr)),blockTime:(0,f.AG)((0,f.Rx)()),blockHeight:(0,f.AG)((0,f.Rx)())}))),or=We((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:Xt,meta:(0,f.AG)(er),version:(0,f.jt)(tr)})),rewards:(0,f.jt)((0,f.IX)(rr)),blockTime:(0,f.AG)((0,f.Rx)()),blockHeight:(0,f.AG)((0,f.Rx)())}))),ar=We((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:Dt,meta:(0,f.AG)(er),version:(0,f.jt)(tr)})),rewards:(0,f.jt)((0,f.IX)(rr)),blockTime:(0,f.AG)((0,f.Rx)()),blockHeight:(0,f.AG)((0,f.Rx)())}))),cr=We((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),rewards:(0,f.jt)((0,f.IX)(rr)),blockTime:(0,f.AG)((0,f.Rx)()),blockHeight:(0,f.AG)((0,f.Rx)())}))),ur=We((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:jt,meta:(0,f.AG)(Qt)})),rewards:(0,f.jt)((0,f.IX)(rr)),blockTime:(0,f.AG)((0,f.Rx)())}))),lr=We((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),signatures:(0,f.IX)((0,f.Z_)()),blockTime:(0,f.AG)((0,f.Rx)())}))),dr=We((0,f.AG)((0,f.dt)({slot:(0,f.Rx)(),meta:(0,f.AG)(Qt),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)())),transaction:jt,version:(0,f.jt)(tr)}))),hr=We((0,f.AG)((0,f.dt)({slot:(0,f.Rx)(),transaction:Xt,meta:(0,f.AG)(er),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)())),version:(0,f.jt)(tr)}))),fr=Me((0,f.dt)({blockhash:(0,f.Z_)(),lastValidBlockHeight:(0,f.Rx)()})),pr=Me((0,f.O7)()),gr=(0,f.dt)({slot:(0,f.Rx)(),numTransactions:(0,f.Rx)(),numSlots:(0,f.Rx)(),samplePeriodSecs:(0,f.Rx)()}),yr=We((0,f.IX)(gr)),br=Me((0,f.AG)((0,f.dt)({feeCalculator:(0,f.dt)({lamportsPerSignature:(0,f.Rx)()})}))),mr=We((0,f.Z_)()),wr=We((0,f.Z_)()),kr=(0,f.dt)({err:Ve,logs:(0,f.IX)((0,f.Z_)()),signature:(0,f.Z_)()}),Sr=(0,f.dt)({result:He(kr),subscription:(0,f.Rx)()}),xr={"solana-client":"js/1.0.0-maintenance"};class _r{constructor(e,t){let r,n,s,i,o,a;var c;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:r,config:n}=Oe(t),s=this._buildArgs([],r,void 0,n),i=_e(s);return e[i]=e[i]??(async()=>{try{const e=await this._rpcRequest("getBlockHeight",s),t=(0,f.Ue)(e,We((0,f.Rx)()));if("error"in t)throw new oe(t.error,"failed to get block height information");return t.result}finally{delete e[i]}})(),await e[i]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,n=t.httpHeaders,s=t.fetch,i=t.fetchMiddleware,o=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=r||function(e){const t=e.match(Re);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,s,i]=t,o=e.startsWith("https:")?"wss:":"ws:",a=null==s?null:parseInt(s.slice(1),10);return`${o}//${n}${null==a?"":`:${a+1}`}${i}`}(e),this._rpcClient=function(e,t,r,n,s,i){const o=r||Ie;let a;return null!=i&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(e,t)=>{const r=await new Promise(((r,s)=>{try{n(e,t,((e,t)=>r([e,t])))}catch(e){s(e)}}));return await o(...r)}),new(g())((async(r,n)=>{const i={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},xr)};try{let t,r=5,c=500;for(;t=a?await a(e,i):await o(e,i),429===t.status&&!0!==s&&(r-=1,0!==r);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await ce(c),c*=2;const u=await t.text();t.ok?n(null,u):n(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(e){e instanceof Error&&n(e)}}),{})}(e,n,s,i,o,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((r,n)=>{c.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const s=t.map((t=>e.request(t.methodName,t.args)));e.request(s,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new Ee(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:n}=Oe(t),s=this._buildArgs([e.toBase58()],r,void 0,n),i=await this._rpcRequest("getBalance",s),o=(0,f.Ue)(i,Me((0,f.Rx)()));if("error"in o)throw new oe(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=(0,f.Ue)(t,We((0,f.AG)((0,f.Rx)())));if("error"in r)throw new oe(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,f.Ue)(e,We((0,f.Rx)()));if("error"in t)throw new oe(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,f.Ue)(e,ut);if("error"in t)throw new oe(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),n=(0,f.Ue)(r,lt);if("error"in n)throw new oe(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),s=(0,f.Ue)(n,Me(dt));if("error"in s)throw new oe(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),s=(0,f.Ue)(n,Me(dt));if("error"in s)throw new oe(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:n,config:s}=Oe(r);let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const o=this._buildArgs(i,n,"base64",s),a=await this._rpcRequest("getTokenAccountsByOwner",o),c=(0,f.Ue)(a,ft);if("error"in c)throw new oe(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const s=this._buildArgs(n,r,"jsonParsed"),i=await this._rpcRequest("getTokenAccountsByOwner",s),o=(0,f.Ue)(i,gt);if("error"in o)throw new oe(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),s=(0,f.Ue)(n,yt);if("error"in s)throw new oe(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),s=(0,f.Ue)(n,ht);if("error"in s)throw new oe(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:n}=Oe(t),s=this._buildArgs([e.toBase58()],r,"base64",n),i=await this._rpcRequest("getAccountInfo",s),o=(0,f.Ue)(i,Me((0,f.AG)(bt)));if("error"in o)throw new oe(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){const{commitment:r,config:n}=Oe(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",n),i=await this._rpcRequest("getAccountInfo",s),o=(0,f.Ue)(i,Me((0,f.AG)(kt)));if("error"in o)throw new oe(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(t){throw new Error("failed to get info about account "+e.toBase58()+": "+t)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:n}=Oe(t),s=e.map((e=>e.toBase58())),i=this._buildArgs([s],r,"jsonParsed",n),o=await this._rpcRequest("getMultipleAccounts",i),a=(0,f.Ue)(o,Me((0,f.IX)((0,f.AG)(kt))));if("error"in a)throw new oe(a.error,`failed to get info for accounts ${s}`);return a.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:n}=Oe(t),s=e.map((e=>e.toBase58())),i=this._buildArgs([s],r,"base64",n),o=await this._rpcRequest("getMultipleAccounts",i),a=(0,f.Ue)(o,Me((0,f.IX)((0,f.AG)(bt))));if("error"in a)throw new oe(a.error,`failed to get info for accounts ${s}`);return a.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:n,config:s}=Oe(t),i=this._buildArgs([e.toBase58()],n,void 0,{...s,epoch:null!=r?r:s?.epoch}),o=await this._rpcRequest("getStakeActivation",i),a=(0,f.Ue)(o,We(xt));if("error"in a)throw new oe(a.error,`failed to get Stake Activation ${e.toBase58()}`);return a.result}async getProgramAccounts(e,t){const{commitment:r,config:n}=Oe(t),{encoding:s,...i}=n||{},o=this._buildArgs([e.toBase58()],r,s||"base64",{...i,...i.filters?{filters:Le(i.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),c=(0,f.IX)(mt),u=!0===i.withContext?(0,f.Ue)(a,Me(c)):(0,f.Ue)(a,We(c));if("error"in u)throw new oe(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:n}=Oe(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",n),i=await this._rpcRequest("getProgramAccounts",s),o=(0,f.Ue)(i,We((0,f.IX)(St)));if("error"in o)throw new oe(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);r=t.signature}try{n=c().decode(r)}catch(e){throw new Error("signature must be base58 encoded: "+r)}return j(64===n.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,r)=>{null!=e&&(e.aborted?r(e.reason):e.addEventListener("abort",(()=>{r(e.reason)})))}))}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,n,s=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:new Promise(((i,o)=>{try{r=this.onSignature(t,((e,t)=>{r=void 0;const n={context:t,value:e};i({__type:X.PROCESSED,response:n})}),e);const a=new Promise((e=>{null==r?e():n=this._onSubscriptionStateChange(r,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await a,s)return;const r=await this.getSignatureStatus(t);if(s)return;if(null==r)return;const{context:n,value:c}=r;if(null!=c)if(c?.err)o(c.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}s=!0,i({__type:X.PROCESSED,response:{context:n,value:c}})}})()}catch(e){o(e)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:n}}){let s=!1;const i=new Promise((t=>{const n=async()=>{try{return await this.getBlockHeight(e)}catch(e){return-1}};(async()=>{let e=await n();if(!s){for(;e<=r;){if(await ce(1e3),s)return;if(e=await n(),s)return}t({__type:X.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:n}),c=this.getCancellationPromise(t);let u;try{const e=await Promise.race([c,a,i]);if(e.__type!==X.PROCESSED)throw new z(n);u=e.response}finally{s=!0,o()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:n,nonceValue:s,signature:i}}){let o=!1;const a=new Promise((t=>{let i=s,a=null;const c=async()=>{try{const{context:t,value:s}=await this.getNonceAndContext(n,{commitment:e,minContextSlot:r});return a=t.slot,s?.nonce}catch(e){return i}};(async()=>{if(i=await c(),!o)for(;;){if(s!==i)return void t({__type:X.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await ce(2e3),o)return;if(i=await c(),o)return}})()})),{abortConfirmation:c,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),l=this.getCancellationPromise(t);let d;try{const t=await Promise.race([l,u,a]);if(t.__type===X.PROCESSED)d=t.response;else{let n;for(;;){const e=await this.getSignatureStatus(i);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??r))){n=e;break}await ce(400)}if(!n?.value)throw new O(i);{const t=e||"finalized",{confirmationStatus:r}=n.value;switch(t){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new O(i);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new O(i);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new O(i)}d={context:n.context,value:{err:n.value.err}}}}}finally{o=!0,c()}return d}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const n=new Promise((t=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout((()=>t({__type:X.TIMED_OUT,timeoutMs:n})),n)})),{abortConfirmation:s,confirmationPromise:i}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let o;try{const e=await Promise.race([i,n]);if(e.__type!==X.PROCESSED)throw new P(t,e.timeoutMs/1e3);o=e.response}finally{clearTimeout(r),s()}return o}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,f.Ue)(e,We((0,f.IX)(Ot)));if("error"in t)throw new oe(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=(0,f.Ue)(r,Ct);if("error"in n)throw new oe(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:r}=Oe(e),n=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",n),i=(0,f.Ue)(s,We((0,f.Rx)()));if("error"in i)throw new oe(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:r}=Oe(e),n=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",n),i=(0,f.Ue)(s,We((0,f.Z_)()));if("error"in i)throw new oe(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const r=[e,t],n=await this._rpcRequest("getSlotLeaders",r),s=(0,f.Ue)(n,We((0,f.IX)(Ue)));if("error"in s)throw new oe(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);j(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=await this._rpcRequest("getSignatureStatuses",r),s=(0,f.Ue)(n,Mt);if("error"in s)throw new oe(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Oe(e),n=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",n),i=(0,f.Ue)(s,We((0,f.Rx)()));if("error"in i)throw new oe(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=(0,f.Ue)(r,nt);if("error"in n)throw new oe(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,r){const{commitment:n,config:s}=Oe(r),i=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{...s,epoch:null!=t?t:s?.epoch}),o=await this._rpcRequest("getInflationReward",i),a=(0,f.Ue)(o,qe);if("error"in a)throw new oe(a.error,"failed to get inflation reward");return a.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=(0,f.Ue)(e,st);if("error"in t)throw new oe(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Oe(e),n=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",n),i=(0,f.Ue)(s,ot);if("error"in i)throw new oe(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,f.Ue)(e,at);if("error"in t)throw new oe(t.error,"failed to get epoch schedule");const r=t.result;return new ve(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,f.Ue)(e,ct);if("error"in t)throw new oe(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=(0,f.Ue)(n,Ht);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=(0,f.Ue)(t,yr);if("error"in r)throw new oe(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=(0,f.Ue)(n,br);if("error"in s)throw new oe(s.error,"failed to get fee calculator");const{context:i,value:o}=s.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const r=A(e.serialize()).toString("base64"),n=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",n),i=(0,f.Ue)(s,Me((0,f.AG)((0,f.Rx)())));if("error"in i)throw new oe(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map((e=>e.toBase58())),r=t?.length?[t]:[],n=await this._rpcRequest("getRecentPrioritizationFees",r),s=(0,f.Ue)(n,it);if("error"in s)throw new oe(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Oe(e),n=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",n),i=(0,f.Ue)(s,fr);if("error"in i)throw new oe(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:r,config:n}=Oe(t),s=this._buildArgs([e],r,void 0,n),i=await this._rpcRequest("isBlockhashValid",s),o=(0,f.Ue)(i,pr);if("error"in o)throw new oe(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,f.Ue)(e,We(Ye));if("error"in t)throw new oe(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,f.Ue)(e,We((0,f.Z_)()));if("error"in t)throw new oe(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:n}=Oe(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,n),i=await this._rpcRequest("getBlock",s);try{switch(n?.transactionDetails){case"accounts":{const e=(0,f.Ue)(i,ir);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,f.Ue)(i,sr);if("error"in e)throw e.error;return e.result}default:{const e=(0,f.Ue)(i,nr);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map((({transaction:e,meta:t,version:r})=>({meta:t,transaction:{...e,message:Ke(r,e.message)},version:r})))}:null}}}catch(e){throw new oe(e,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:n}=Oe(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),i=await this._rpcRequest("getBlock",s);try{switch(n?.transactionDetails){case"accounts":{const e=(0,f.Ue)(i,ar);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,f.Ue)(i,cr);if("error"in e)throw e.error;return e.result}default:{const e=(0,f.Ue)(i,or);if("error"in e)throw e.error;return e.result}}}catch(e){throw new oe(e,"failed to get block")}}async getBlockProduction(e){let t,r;if("string"==typeof e)r=e;else if(e){const{commitment:n,...s}=e;r=n,t=s}const n=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",n),i=(0,f.Ue)(s,rt);if("error"in i)throw new oe(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:r,config:n}=Oe(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,n),i=await this._rpcRequest("getTransaction",s),o=(0,f.Ue)(i,dr);if("error"in o)throw new oe(o.error,"failed to get transaction");const a=o.result;return a?{...a,transaction:{...a.transaction,message:Ke(a.version,a.transaction.message)}}:a}async getParsedTransaction(e,t){const{commitment:r,config:n}=Oe(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),i=await this._rpcRequest("getTransaction",s),o=(0,f.Ue)(i,hr);if("error"in o)throw new oe(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){const{commitment:r,config:n}=Oe(t),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(s)).map((e=>{const t=(0,f.Ue)(e,hr);if("error"in t)throw new oe(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:r,config:n}=Oe(t),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,void 0,n)})));return(await this._rpcBatchRequest(s)).map((e=>{const t=(0,f.Ue)(e,dr);if("error"in t)throw new oe(t.error,"failed to get transactions");const r=t.result;return r?{...r,transaction:{...r.transaction,message:Ke(r.version,r.transaction.message)}}:r}))}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getBlock",r),s=(0,f.Ue)(n,ur);if("error"in s)throw new oe(s.error,"failed to get confirmed block");const i=s.result;if(!i)throw new Error("Confirmed block "+e+" not found");const o={...i,transactions:i.transactions.map((({transaction:e,meta:t})=>{const r=new $(e.message);return{meta:t,transaction:{...e,message:r}}}))};return{...o,transactions:o.transactions.map((({transaction:e,meta:t})=>({meta:t,transaction:Q.populate(e.message,e.signatures)})))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",n),i=(0,f.Ue)(s,We((0,f.IX)((0,f.Rx)())));if("error"in i)throw new oe(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),s=(0,f.Ue)(n,lr);if("error"in s)throw new oe(s.error,"failed to get block");const i=s.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),s=(0,f.Ue)(n,lr);if("error"in s)throw new oe(s.error,"failed to get confirmed block");const i=s.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getTransaction",r),s=(0,f.Ue)(n,dr);if("error"in s)throw new oe(s.error,"failed to get transaction");const i=s.result;if(!i)return i;const o=new $(i.transaction.message),a=i.transaction.signatures;return{...i,transaction:Q.populate(o,a)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getTransaction",r),s=(0,f.Ue)(n,hr);if("error"in s)throw new oe(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,f.Ue)(e,hr);if("error"in t)throw new oe(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},s=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<s);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let i=await this.getSlot("finalized");for(;!("before"in n||++r>i);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),i=(0,f.Ue)(s,_t);if("error"in i)throw new oe(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",n),i=(0,f.Ue)(s,At);if("error"in i)throw new oe(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let s=null;return null!==n&&(s=new Be({key:e,state:Be.deserialize(n.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let s=null;return null!==n&&(s=fe.fromAccountData(n.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=(0,f.Ue)(r,mr);if("error"in n)throw new oe(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ce(100);const e=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await ce(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Oe(e),n=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",n),i=(0,f.Ue)(s,Me((0,f.Rx)()));if("error"in i)throw new oe(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,r){if("message"in e){const s=e.serialize(),i=n.Buffer.from(s).toString("base64");if(Array.isArray(t)||void 0!==r)throw new Error("Invalid arguments");const o=t||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(o.innerInstructions=t.innerInstructions);const a=[i,o],c=await this._rpcRequest("simulateTransaction",a),u=(0,f.Ue)(c,tt);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let s;if(e instanceof Q){let t=e;s=new Q,s.feePayer=t.feePayer,s.instructions=e.instructions,s.nonceInfo=t.nonceInfo,s.signatures=t.signatures}else s=Q.populate(e),s._message=s._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(s.lastValidBlockHeight=t.lastValidBlockHeight,s.recentBlockhash=t.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const r=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}e=!0}}const o=s._compile(),a=o.serialize(),c=s._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:o.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e}}i&&(u.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(u.innerInstructions=t.innerInstructions);const l=[c,u],d=await this._rpcRequest("simulateTransaction",l),h=(0,f.Ue)(d,tt);if("error"in h){let e;if("data"in h.error&&(e=h.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(h.error.message,r)}throw new ie({action:"simulate",signature:"",transactionMessage:h.error.message,logs:e})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const r=e.serialize();return await this.sendRawTransaction(r,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const n=t;if(e.nonceInfo)e.sign(...n);else{let t=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=r.lastValidBlockHeight,e.recentBlockhash=r.blockhash,e.sign(...n),!e.signature)throw new Error("!signature");const s=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(s)){this._blockhashInfo.transactionSignatures.push(s);break}t=!0}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=A(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,s=!0===n?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),s&&(r.preflightCommitment=s);const i=[e,r],o=await this._rpcRequest("sendTransaction",i),a=(0,f.Ue)(o,wr);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new ie({action:n?"send":"simulate",signature:"",transactionMessage:a.error.message,logs:e})}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,t])=>{this._setSubscription(e,{...t,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,t){const r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const r=this._subscriptionStateChangeCallbacksByHash[e];r&&r.forEach((e=>{try{e(t.state)}catch{}}))}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(null==r)return()=>{};const n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(t),()=>{n.delete(t),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:s}=r;try{this._setSubscription(e,{...r,state:"subscribing"});const t=await this._rpcWebSocket.call(s,n);this._setSubscription(e,{...r,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(i){if(console.error(`Received ${i instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:n,error:i}),!t())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:s}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[n])}catch(n){if(n instanceof Error&&console.error(`${s} error:`,n.message),!t())return;return this._setSubscription(e,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((e=>{try{e(...t)}catch(e){console.error(e)}}))}_wsOnAccountNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,vt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,n=_e([e.method,t]),s=this._subscriptionsByHash[n];return void 0===s?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const t=this._subscriptionsByHash[n];j(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:n,config:s}=Oe(r),i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Et);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){const{commitment:s,config:i}=Oe(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i||(n?{filters:Le(n)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const n=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Sr);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Tt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Ut);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){const s=t||this._commitment;if(s||r||n){let t={};r&&(t.encoding=r),s&&(t.commitment=s),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,zt);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const n=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(s)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return s}onSignatureWithOptions(e,t,r){const{commitment:n,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},i=this._buildArgs([e],n,void 0,s),o=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(o)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=(0,f.Ue)(e,Pt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ar{constructor(e){this._keypair=void 0,this._keypair=e??w()}static generate(){return new Ar(w())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),n=k(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw new Error("provided secretKey is invalid")}return new Ar({publicKey:r,secretKey:e})}static fromSeed(e){const t=k(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Ar({publicKey:t,secretKey:r})}get publicKey(){return new R(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const vr=Object.freeze({CreateLookupTable:{index:0,layout:d.n_([d.Jq("instruction"),pe("recentSlot"),d.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:d.n_([d.Jq("instruction")])},ExtendLookupTable:{index:2,layout:d.n_([d.Jq("instruction"),pe(),d.A9(C(),d.cv(d.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:d.n_([d.Jq("instruction")])},CloseLookupTable:{index:4,layout:d.n_([d.Jq("instruction")])}});class Ir{constructor(){}static createLookupTable(e){const[t,r]=R.findProgramAddressSync([e.authority.toBuffer(),(0,h.k$)(BigInt(e.recentSlot),8)],this.programId),n=ue(vr.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:be.programId,isSigner:!1,isWritable:!1}];return[new Y({programId:this.programId,keys:s,data:n}),t]}static freezeLookupTable(e){const t=ue(vr.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Y({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=ue(vr.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:be.programId,isSigner:!1,isWritable:!1}),new Y({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=ue(vr.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Y({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=ue(vr.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Y({programId:this.programId,keys:r,data:t})}}Ir.programId=new R("AddressLookupTab1e1111111111111111111111111");const Er=Object.freeze({RequestUnits:{index:0,layout:d.n_([d.u8("instruction"),d.Jq("units"),d.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:d.n_([d.u8("instruction"),d.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:d.n_([d.u8("instruction"),d.Jq("units")])},SetComputeUnitPrice:{index:3,layout:d.n_([d.u8("instruction"),pe("microLamports")])}});class Br{constructor(){}static requestUnits(e){const t=ue(Er.RequestUnits,e);return new Y({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=ue(Er.RequestHeapFrame,e);return new Y({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=ue(Er.SetComputeUnitLimit,e);return new Y({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=ue(Er.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new Y({keys:[],programId:this.programId,data:t})}}Br.programId=new R("ComputeBudget111111111111111111111111111111");const Tr=d.n_([d.u8("numSignatures"),d.u8("padding"),d.KB("signatureOffset"),d.KB("signatureInstructionIndex"),d.KB("publicKeyOffset"),d.KB("publicKeyInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.KB("messageInstructionIndex")]);class Rr{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;j(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),j(64===s.length,`Signature must be 64 bytes but received ${s.length} bytes`);const o=Tr.span,a=o+t.length,c=a+s.length,u=n.Buffer.alloc(c+r.length),l=null==i?65535:i;return Tr.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:o,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(t,o),u.fill(s,a),u.fill(r,c),new Y({keys:[],programId:Rr.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;j(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Ar.fromSecretKey(t),s=e.publicKey.toBytes(),i=x(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:i,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Rr.programId=new R("Ed25519SigVerify111111111111111111111111111");m.kA.utils.isValidPrivateKey;const Ur=m.kA.getPublicKey,zr=d.n_([d.u8("numSignatures"),d.KB("signatureOffset"),d.u8("signatureInstructionIndex"),d.KB("ethAddressOffset"),d.u8("ethAddressInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.u8("messageInstructionIndex"),d.Ik(20,"ethAddress"),d.Ik(64,"signature"),d.u8("recoveryId")]);class Pr{constructor(){}static publicKeyToEthAddress(e){j(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return n.Buffer.from((0,b.fr)(A(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:s,instructionIndex:i}=e;return Pr.createInstructionWithEthAddress({ethAddress:Pr.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:s,instructionIndex:i})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;a="string"==typeof t?t.startsWith("0x")?n.Buffer.from(t.substr(2),"hex"):n.Buffer.from(t,"hex"):t,j(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+s.length+1,l=n.Buffer.alloc(zr.span+r.length);return zr.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:o,signature:A(s),ethAddress:A(a),recoveryId:i},l),l.fill(A(r),zr.span),new Y({keys:[],programId:Pr.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;j(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=A(t),i=Ur(e,!1).slice(1),o=n.Buffer.from((0,b.fr)(A(r))),[a,c]=((e,t)=>{const r=m.kA.sign(e,t);return[r.toCompactRawBytes(),r.recovery]})(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:c,instructionIndex:s})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var Or;Pr.programId=new R("KeccakSecp256k11111111111111111111111111111");const Lr=new R("StakeConfig11111111111111111111111111111111");class Cr{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Or=Cr,Cr.default=new Or(0,0,R.default);const Nr=Object.freeze({Initialize:{index:0,layout:d.n_([d.Jq("instruction"),((e="authorized")=>d.n_([C("staker"),C("withdrawer")],e))(),((e="lockup")=>d.n_([d.gM("unixTimestamp"),d.gM("epoch"),C("custodian")],e))()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),C("newAuthorized"),d.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:d.n_([d.Jq("instruction")])},Split:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Withdraw:{index:4,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Deactivate:{index:5,layout:d.n_([d.Jq("instruction")])},Merge:{index:7,layout:d.n_([d.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:d.n_([d.Jq("instruction"),C("newAuthorized"),d.Jq("stakeAuthorizationType"),W("authoritySeed"),C("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Wr{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,s=n||Cr.default,i=ue(Nr.Initialize,{authorized:{staker:A(r.staker.toBuffer()),withdrawer:A(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:A(s.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new Y(o)}static createAccountWithSeed(e){const t=new Q;t.add(be.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:s}))}static createAccount(e){const t=new Q;t.add(be.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,s=ue(Nr.Delegate);return(new Q).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:se,isSigner:!1,isWritable:!1},{pubkey:Lr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:s,custodianPubkey:i}=e,o=ue(Nr.Authorize,{newAuthorized:A(n.toBuffer()),stakeAuthorizationType:s.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&a.push({pubkey:i,isSigner:!0,isWritable:!1}),(new Q).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:s,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:a}=e,c=ue(Nr.AuthorizeWithSeed,{newAuthorized:A(i.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:A(s.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:te,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Q).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:s}=e,i=ue(Nr.Split,{lamports:s});return new Y({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static split(e,t){const r=new Q;return r.add(be.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:s,basePubkey:i,seed:o,lamports:a}=e,c=new Q;return c.add(be.allocate({accountPubkey:s,basePubkey:i,seed:o,space:this.space,programId:this.programId})),t&&t>0&&c.add(be.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:s,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,s=ue(Nr.Merge);return(new Q).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:se,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:s,custodianPubkey:i}=e,o=ue(Nr.Withdraw,{lamports:s}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:se,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&a.push({pubkey:i,isSigner:!0,isWritable:!1}),(new Q).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=ue(Nr.Deactivate);return(new Q).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}Wr.programId=new R("Stake11111111111111111111111111111111111111"),Wr.space=200;const Mr=Object.freeze({InitializeAccount:{index:0,layout:d.n_([d.Jq("instruction"),((e="voteInit")=>d.n_([C("nodePubkey"),C("authorizedVoter"),C("authorizedWithdrawer"),d.u8("commission")],e))()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),C("newAuthorized"),d.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:d.n_([d.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:d.n_([d.Jq("instruction"),((e="voteAuthorizeWithSeedArgs")=>d.n_([d.Jq("voteAuthorizationType"),C("currentAuthorityDerivedKeyOwnerPubkey"),W("currentAuthorityDerivedKeySeed"),C("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Hr{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,s=ue(Mr.InitializeAccount,{voteInit:{nodePubkey:A(n.nodePubkey.toBuffer()),authorizedVoter:A(n.authorizedVoter.toBuffer()),authorizedWithdrawer:A(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),i={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!1},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Y(i)}static createAccount(e){const t=new Q;return t.add(be.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:s}=e,i=ue(Mr.Authorize,{newAuthorized:A(n.toBuffer()),voteAuthorizationType:s.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Q).add({keys:o,programId:this.programId,data:i})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:s,voteAuthorizationType:i,votePubkey:o}=e,a=ue(Mr.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:A(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:A(s.toBuffer()),voteAuthorizationType:i.index}}),c=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:te,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new Q).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:s}=e,i=ue(Mr.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Q).add({keys:o,programId:this.programId,data:i})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Hr.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,s=ue(Mr.UpdateValidatorIdentity),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Q).add({keys:i,programId:this.programId,data:s})}}Hr.programId=new R("Vote111111111111111111111111111111111111111"),Hr.space=3762;new R("Va1idator1nfo111111111111111111111111111111"),(0,f.dt)({name:(0,f.Z_)(),website:(0,f.jt)((0,f.Z_)()),details:(0,f.jt)((0,f.Z_)()),iconUrl:(0,f.jt)((0,f.Z_)()),keybaseUsername:(0,f.jt)((0,f.Z_)())});new R("Vote111111111111111111111111111111111111111"),d.n_([C("nodePubkey"),C("authorizedWithdrawer"),d.u8("commission"),d._O(),d.A9(d.n_([d._O("slot"),d.Jq("confirmationCount")]),d.cv(d.Jq(),-8),"votes"),d.u8("rootSlotValid"),d._O("rootSlot"),d._O(),d.A9(d.n_([d._O("epoch"),C("authorizedVoter")]),d.cv(d.Jq(),-8),"authorizedVoters"),d.n_([d.A9(d.n_([C("authorizedPubkey"),d._O("epochOfLastAuthorizedSwitch"),d._O("targetEpoch")]),32,"buf"),d._O("idx"),d.u8("isEmpty")],"priorVoters"),d._O(),d.A9(d.n_([d._O("epoch"),d._O("credits"),d._O("prevCredits")]),d.cv(d.Jq(),-8),"epochCredits"),d.n_([d._O("slot"),d._O("timestamp")],"lastTimestamp")])},9494:(e,t,r)=>{var n=r(34042),s=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return s(e,t,r)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o),o.prototype=Object.create(s.prototype),i(s,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=s(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},42721:(e,t,r)=>{"use strict";var n,s=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},d=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))u.call(e,s)||s===r||i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},h=(e,t,r)=>(r=null!=e?s(c(e)):{},d(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),f=(e,t,r,n)=>{for(var s,a=n>1?void 0:n?o(t,r):t,c=e.length-1;c>=0;c--)(s=e[c])&&(a=(n?s(t,r,a):s(a))||a);return n&&a&&i(t,r,a),a},p={};l(p,{BCS:()=>N,CKDPriv:()=>E,HexString:()=>z,SupraAccount:()=>Nt,TransactionBuilder:()=>Zt,TransactionBuilderABI:()=>er,TransactionBuilderEd25519:()=>Yt,TransactionBuilderMultiEd25519:()=>Qt,TransactionBuilderRemoteABI:()=>tr,TxnBuilderTypes:()=>C,TypeTagParser:()=>Fe,Types:()=>rr,argToTransactionArgument:()=>$t,derivePath:()=>R,ensureBigInt:()=>qt,ensureBoolean:()=>Kt,ensureNumber:()=>jt,getAddressFromAccountOrAddress:()=>Wt,getMasterKeyFromSeed:()=>I,getPublicKey:()=>B,isValidPath:()=>T,serializeArg:()=>Dt}),e.exports=(n=p,d(i({},"__esModule",{value:!0}),n));var g=h(r(7453)),y=h(r(77268)),b=r(58572),m=r(29897),w=r(72515),k=h(r(7453)),S=r(23537),x=r(34383),_=r(58572),A=/^m(\/[0-9]+')+$/,v=e=>e.replace("'",""),I=e=>{const t=S.hmac.create(x.sha512,"ed25519 seed").update((0,_.hexToBytes)(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}},E=({key:e,chainCode:t},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const s=new Uint8Array(n),i=new Uint8Array([0]),o=new Uint8Array([...i,...e,...s]),a=S.hmac.create(x.sha512,t).update(o).digest();return{key:a.slice(0,32),chainCode:a.slice(32)}},B=(e,t=!0)=>{const r=k.default.sign.keyPair.fromSeed(e).secretKey.subarray(32),n=new Uint8Array([0]);return t?new Uint8Array([...n,...r]):r},T=e=>!!A.test(e)&&!e.split("/").slice(1).map(v).some(Number.isNaN),R=(e,t,r=2147483648)=>{if(!T(e))throw new Error("Invalid derivation path");const{key:n,chainCode:s}=I(t);return e.split("/").slice(1).map(v).map((e=>parseInt(e,10))).reduce(((e,t)=>E(e,t+r)),{key:n,chainCode:s})},U=r(58572),z=class e{static fromBuffer(t){return e.fromUint8Array(t)}static fromUint8Array(t){return new e((0,U.bytesToHex)(t))}static ensure(t){return"string"==typeof t?new e(t):t}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from((0,U.hexToBytes)(this.noPrefix()))}};function P(e){let t,r,n;return"object"==typeof e?(t=e.hashFunction,r=e.ttlMs,n=e.tags):t=e,(e,s,i)=>{if(null!=i.value)i.value=L(i.value,t,r,n);else{if(null==i.get)throw new Error("Only put a Memoize() decorator on a method or get accessor.");i.get=L(i.get,t,r,n)}}}var O=new Map;function L(e,t,r=0,n){const s=Symbol("__memoized_map__");return function(...i){let o;const a=this;a.hasOwnProperty(s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[s];if(Array.isArray(n))for(const e of n)O.has(e)?O.get(e).push(c):O.set(e,[c]);if(t||i.length>0||r>0){let n;n=!0===t?i.map((e=>e.toString())).join("!"):t?t.apply(a,i):i[0];const s=`${n}__timestamp`;let u=!1;if(r>0)if(c.has(s)){const e=c.get(s);u=Date.now()-e>r}else u=!0;c.has(n)&&!u?o=c.get(n):(o=e.apply(a,i),c.set(n,o),r>0&&c.set(s,Date.now()))}else{const t=a;c.has(t)?o=c.get(t):(o=e.apply(a,i),c.set(t,o))}return o}}var C={};l(C,{AccountAddress:()=>ce,AccountAuthenticator:()=>Se,AccountAuthenticatorEd25519:()=>xe,AccountAuthenticatorMultiEd25519:()=>_e,ArgumentABI:()=>Bt,AuthenticationKey:()=>Ot,AutomationRegistrationParams:()=>dt,AutomationRegistrationParamsV1:()=>ht,AutomationRegistrationParamsV1Data:()=>ft,ChainId:()=>pt,ChangeSet:()=>et,Ed25519PublicKey:()=>le,Ed25519Signature:()=>he,EntryFunction:()=>Ve,EntryFunctionABI:()=>Ut,FeePayerRawTransaction:()=>it,Identifier:()=>Ae,Module:()=>Ye,ModuleId:()=>Qe,MultiAgentRawTransaction:()=>st,MultiEd25519PublicKey:()=>fe,MultiEd25519Signature:()=>ge,MultiSig:()=>Ze,MultiSigTransactionPayload:()=>Xe,RawTransaction:()=>$e,RawTransactionWithData:()=>nt,RotationProofChallenge:()=>Lt,Script:()=>Je,ScriptABI:()=>Tt,SignedTransaction:()=>rt,StructTag:()=>Ne,Transaction:()=>vt,TransactionArgument:()=>gt,TransactionArgumentAddress:()=>xt,TransactionArgumentBool:()=>At,TransactionArgumentU128:()=>kt,TransactionArgumentU16:()=>bt,TransactionArgumentU256:()=>St,TransactionArgumentU32:()=>mt,TransactionArgumentU64:()=>wt,TransactionArgumentU8:()=>yt,TransactionArgumentU8Vector:()=>_t,TransactionAuthenticator:()=>ye,TransactionAuthenticatorEd25519:()=>be,TransactionAuthenticatorFeePayer:()=>ke,TransactionAuthenticatorMultiAgent:()=>we,TransactionAuthenticatorMultiEd25519:()=>me,TransactionPayload:()=>ot,TransactionPayloadAutomationRegistration:()=>lt,TransactionPayloadEntryFunction:()=>ct,TransactionPayloadMultisig:()=>ut,TransactionPayloadScript:()=>at,TransactionScriptABI:()=>Rt,TypeArgumentABI:()=>Et,TypeTag:()=>ve,TypeTagAddress:()=>Pe,TypeTagBool:()=>Ie,TypeTagParser:()=>Fe,TypeTagParserError:()=>Ge,TypeTagSigner:()=>Oe,TypeTagStruct:()=>Ce,TypeTagU128:()=>Ue,TypeTagU16:()=>Be,TypeTagU256:()=>ze,TypeTagU32:()=>Te,TypeTagU64:()=>Re,TypeTagU8:()=>Ee,TypeTagVector:()=>Le,UserTransaction:()=>It,WriteSet:()=>tt,objectStructTag:()=>He,optionStructTag:()=>Me,stringStructTag:()=>We});var N={};l(N,{Deserializer:()=>q,Serializer:()=>K,bcsSerializeBool:()=>re,bcsSerializeBytes:()=>se,bcsSerializeFixedBytes:()=>ie,bcsSerializeStr:()=>ne,bcsSerializeU128:()=>ee,bcsSerializeU16:()=>Y,bcsSerializeU256:()=>te,bcsSerializeU32:()=>Q,bcsSerializeU8:()=>Z,bcsSerializeUint64:()=>X,bcsToBytes:()=>V,deserializeVector:()=>$,deserializeVectorOfBytes:()=>J,serializeVector:()=>D,serializeVectorOfBytes:()=>F,serializeVectorWithFunc:()=>G});var W=4294967295,M=18446744073709551615n,H=340282366920938463463374607431768211455n,K=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const e=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,r){this.ensureBufferWillHandleSize(t);const n=new DataView(this.buffer,this.offset);e.apply(n,[0,r,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if("boolean"!=typeof e)throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt(W),r=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(r))}serializeU128(e){const t=BigInt(e.toString())&M,r=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(r)}serializeU256(e){const t=BigInt(e.toString())&H,r=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(r)}serializeU32AsUleb128(e){let t=e;const r=[];for(;t>>>7!=0;)r.push(127&t|128),t>>>=7;r.push(t),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};function j(e,t,r){return(n,s,i)=>{const o=i.value;return i.value=function(n){const s=BigInt(n.toString());if(s>BigInt(t.toString())||s<BigInt(e.toString()))throw new Error(r||"Value is out of range");o.apply(this,[n])},i}}f([j(0,255)],K.prototype,"serializeU8",1),f([j(0,65535)],K.prototype,"serializeU16",1),f([j(0,W)],K.prototype,"serializeU32",1),f([j(BigInt(0),M)],K.prototype,"serializeU64",1),f([j(BigInt(0),H)],K.prototype,"serializeU128",1),f([j(BigInt(0),115792089237316195423570985008687907853269984665640564039457584007913129639935n)],K.prototype,"serializeU256",1),f([j(0,W)],K.prototype,"serializeU32AsUleb128",1);var q=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return(new TextDecoder).decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(1!==e&&0!==e)throw new Error("Invalid boolean value");return 1===e}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<W;){const r=this.deserializeU8();if(e|=BigInt(127&r)<<BigInt(t),0==(128&r))break;t+=7}if(e>W)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function D(e,t){t.serializeU32AsUleb128(e.length),e.forEach((e=>{e.serialize(t)}))}function F(e,t){t.serializeU32AsUleb128(e.length),e.forEach((e=>{t.serializeBytes(e)}))}function G(e,t){const r=new K;r.serializeU32AsUleb128(e.length);const n=r[t];return e.forEach((e=>{n.call(r,e)})),r.getBytes()}function $(e,t){const r=e.deserializeUleb128AsU32(),n=[];for(let s=0;s<r;s+=1)n.push(t.deserialize(e));return n}function J(e){const t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1)r.push(e.deserializeBytes());return r}function V(e){const t=new K;return e.serialize(t),t.getBytes()}function X(e){const t=new K;return t.serializeU64(e),t.getBytes()}function Z(e){const t=new K;return t.serializeU8(e),t.getBytes()}function Y(e){const t=new K;return t.serializeU16(e),t.getBytes()}function Q(e){const t=new K;return t.serializeU32(e),t.getBytes()}function ee(e){const t=new K;return t.serializeU128(e),t.getBytes()}function te(e){const t=new K;return t.serializeU256(e),t.getBytes()}function re(e){const t=new K;return t.serializeBool(e),t.getBytes()}function ne(e){const t=new K;return t.serializeStr(e),t.getBytes()}function se(e){const t=new K;return t.serializeBytes(e),t.getBytes()}function ie(e){const t=new K;return t.serializeFixedBytes(e),t.getBytes()}var oe=r(72515),ae=class e{constructor(t){if(t.length!==e.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let r=z.ensure(t);r.noPrefix().length%2!=0&&(r=new z(`0${r.noPrefix()}`));const n=r.toUint8Array();if(n.length>e.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(n.length===e.LENGTH)return new e(n);const s=new Uint8Array(e.LENGTH);return s.set(n,e.LENGTH-n.length),new e(s)}static isValid(t){if(""===t)return!1;let r=z.ensure(t);r.noPrefix().length%2!=0&&(r=new z(`0${r.noPrefix()}`));return r.toUint8Array().length<=e.LENGTH}toHexString(){return z.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(t){return new e(t.deserializeFixedBytes(e.LENGTH))}static standardizeAddress(e){const t=e.toLowerCase();return`0x${(t.startsWith("0x")?t.slice(2):t).padStart(64,"0")}`}};ae.LENGTH=32,ae.CORE_CODE_ADDRESS=ae.fromHex("0x1");var ce=ae,ue=class e{constructor(t){if(t.length!==e.LENGTH)throw new Error(`Ed25519PublicKey length should be ${e.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(t){const r=t.deserializeBytes();return new e(r)}};ue.LENGTH=32;var le=ue,de=class e{constructor(t){if(this.value=t,t.length!==e.LENGTH)throw new Error(`Ed25519Signature length should be ${e.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(t){const r=t.deserializeBytes();return new e(r)}};de.LENGTH=64;var he=de,fe=class e{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>32)throw new Error('"threshold" cannot be larger than 32')}toBytes(){const e=new Uint8Array(this.public_keys.length*le.LENGTH+1);return this.public_keys.forEach(((t,r)=>{e.set(t.value,r*le.LENGTH)})),e[this.public_keys.length*le.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(t){const r=t.deserializeBytes(),n=r[r.length-1],s=[];for(let e=0;e<r.length-1;e+=le.LENGTH){const t=e;s.push(new le(r.subarray(t,t+le.LENGTH)))}return new e(s,n)}},pe=class e{constructor(t,r){if(this.signatures=t,this.bitmap=r,r.length!==e.BITMAP_LEN)throw new Error(`"bitmap" length should be ${e.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*he.LENGTH+e.BITMAP_LEN);return this.signatures.forEach(((e,r)=>{t.set(e.value,r*he.LENGTH)})),t.set(this.bitmap,this.signatures.length*he.LENGTH),t}static createBitmap(e){const t=new Uint8Array([0,0,0,0]),r=new Set;return e.forEach((e=>{if(e>=32)throw new Error(`Invalid bit value ${e}.`);if(r.has(e))throw new Error("Duplicated bits detected.");r.add(e);const n=Math.floor(e/8);let s=t[n];s|=128>>e%8,t[n]=s})),t}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(t){const r=t.deserializeBytes(),n=r.subarray(r.length-4),s=[];for(let e=0;e<r.length-n.length;e+=he.LENGTH){const t=e;s.push(new he(r.subarray(t,t+he.LENGTH)))}return new e(s,n)}};pe.BITMAP_LEN=4;var ge=pe,ye=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return be.load(e);case 1:return me.load(e);case 2:return we.load(e);case 3:return ke.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},be=class e extends ye{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const r=le.deserialize(t),n=he.deserialize(t);return new e(r,n)}},me=class e extends ye{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const r=fe.deserialize(t),n=ge.deserialize(t);return new e(r,n)}},we=class e extends ye{constructor(e,t,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),D(this.secondary_signer_addresses,e),D(this.secondary_signers,e)}static load(t){const r=Se.deserialize(t),n=$(t,ce),s=$(t,Se);return new e(r,n,s)}},ke=class e extends ye{constructor(e,t,r,n){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r,this.fee_payer=n}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),D(this.secondary_signer_addresses,e),D(this.secondary_signers,e),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(t){const r=Se.deserialize(t),n=$(t,ce),s=$(t,Se),i=ce.deserialize(t),o=Se.deserialize(t);return new e(r,n,s,{address:i,authenticator:o})}},Se=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return xe.load(e);case 1:return _e.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},xe=class e extends Se{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const r=le.deserialize(t),n=he.deserialize(t);return new e(r,n)}},_e=class e extends Se{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const r=fe.deserialize(t),n=ge.deserialize(t);return new e(r,n)}},Ae=class e{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(t){const r=t.deserializeStr();return new e(r)}},ve=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Ie.load(e);case 1:return Ee.load(e);case 2:return Re.load(e);case 3:return Ue.load(e);case 4:return Pe.load(e);case 5:return Oe.load(e);case 6:return Le.load(e);case 7:return Ce.load(e);case 8:return Be.load(e);case 9:return Te.load(e);case 10:return ze.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}},Ie=class e extends ve{serialize(e){e.serializeU32AsUleb128(0)}static load(t){return new e}},Ee=class e extends ve{serialize(e){e.serializeU32AsUleb128(1)}static load(t){return new e}},Be=class e extends ve{serialize(e){e.serializeU32AsUleb128(8)}static load(t){return new e}},Te=class e extends ve{serialize(e){e.serializeU32AsUleb128(9)}static load(t){return new e}},Re=class e extends ve{serialize(e){e.serializeU32AsUleb128(2)}static load(t){return new e}},Ue=class e extends ve{serialize(e){e.serializeU32AsUleb128(3)}static load(t){return new e}},ze=class e extends ve{serialize(e){e.serializeU32AsUleb128(10)}static load(t){return new e}},Pe=class e extends ve{serialize(e){e.serializeU32AsUleb128(4)}static load(t){return new e}},Oe=class e extends ve{serialize(e){e.serializeU32AsUleb128(5)}static load(t){return new e}},Le=class e extends ve{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(t){const r=ve.deserialize(t);return new e(r)}},Ce=class e extends ve{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(t){const r=Ne.deserialize(t);return new e(r)}isStringTypeTag(){return"string"===this.value.module_name.value&&"String"===this.value.name.value&&this.value.address.toHexString()===ce.CORE_CODE_ADDRESS.toHexString()}},Ne=class e{constructor(e,t,r,n){this.address=e,this.module_name=t,this.name=r,this.type_args=n}static fromString(t){const r=new Fe(t).parseTypeTag();return new e(r.value.address,r.value.module_name,r.value.name,r.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),D(this.type_args,e)}static deserialize(t){const r=ce.deserialize(t),n=Ae.deserialize(t),s=Ae.deserialize(t),i=$(t,ve);return new e(r,n,s,i)}},We=new Ne(ce.fromHex("0x1"),new Ae("string"),new Ae("String"),[]);function Me(e){return new Ne(ce.fromHex("0x1"),new Ae("option"),new Ae("Option"),[e])}function He(e){return new Ne(ce.fromHex("0x1"),new Ae("object"),new Ae("Object"),[e])}function Ke(e){throw new Ge(e)}function je(e){return!!e.match(/\s/)}function qe(e){return!!e.match(/[_A-Za-z0-9]/g)}function De(e,t){const r=e[t];if(":"===r){if("::"===e.slice(t,t+2))return[["COLON","::"],2];Ke("Unrecognized token.")}else{if("<"===r)return[["LT","<"],1];if(">"===r)return[["GT",">"],1];if(","===r)return[["COMMA",","],1];if(je(r)){let r="";for(let n=t;n<e.length;n+=1){const t=e[n];if(!je(t))break;r=`${r}${t}`}return[["SPACE",r],r.length]}if(qe(r)){let r="";for(let n=t;n<e.length;n+=1){const t=e[n];if(!qe(t))break;r=`${r}${t}`}return function(e){return!!e.match(/T\d+/g)}(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}var Fe=class e{constructor(e,t){this.typeTags=[],this.tokens=function(e){let t=0;const r=[];for(;t<e.length;){const[n,s]=De(e,t);"SPACE"!==n[0]&&r.push(n),t+=s}return r}(e),this.typeTags=t||[]}consume(e){const t=this.tokens.shift();t&&t[1]===e||Ke("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");">"!==this.tokens[0][1];)"<"===this.tokens[0][1]?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(e,t){const r=[];for(this.tokens.length<=0&&Ke("Invalid type tag.");!(this.tokens[0][1]===e||(r.push(this.parseTypeTag()),this.tokens.length>0&&this.tokens[0][1]===e)||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t));)this.tokens.length<=0&&Ke("Invalid type tag.");return r}parseTypeTag(){0===this.tokens.length&&Ke("Invalid type tag.");const[t,r]=this.tokens.shift();if("u8"===r)return new Ee;if("u16"===r)return new Be;if("u32"===r)return new Te;if("u64"===r)return new Re;if("u128"===r)return new Ue;if("u256"===r)return new ze;if("bool"===r)return new Ie;if("address"===r)return new Pe;if("vector"===r){this.consume("<");const e=this.parseTypeTag();return this.consume(">"),new Le(e)}if("string"===r)return new Ce(We);if("IDENT"===t&&(r.startsWith("0x")||r.startsWith("0X"))){const e=ce.fromHex(r);this.consume("::");const[t,n]=this.tokens.shift();"IDENT"!==t&&Ke("Invalid type tag."),this.consume("::");const[s,i]=this.tokens.shift();if("IDENT"!==s&&Ke("Invalid type tag."),ce.CORE_CODE_ADDRESS.toHexString()===e.toHexString()&&"object"===n&&"Object"===i)return this.consumeWholeGeneric(),new Pe;let o=[];this.tokens.length>0&&"<"===this.tokens[0][1]&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const a=new Ne(e,new Ae(n),new Ae(i),o);return new Ce(a)}if("GENERIC"===t){0===this.typeTags.length&&Ke("Can't convert generic type since no typeTags were specified.");const t=parseInt(r.substring(1),10);return new e(this.typeTags[t]).parseTypeTag()}throw new Error("Invalid type tag.")}},Ge=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}},$e=class e{constructor(e,t,r,n,s,i,o){this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=s,this.expiration_timestamp_secs=i,this.chain_id=o}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(t){const r=ce.deserialize(t),n=t.deserializeU64(),s=ot.deserialize(t),i=t.deserializeU64(),o=t.deserializeU64(),a=t.deserializeU64(),c=pt.deserialize(t);return new e(r,n,s,i,o,a,c)}},Je=class e{constructor(e,t,r){this.code=e,this.ty_args=t,this.args=r}serialize(e){e.serializeBytes(this.code),D(this.ty_args,e),D(this.args,e)}static deserialize(t){const r=t.deserializeBytes(),n=$(t,ve),s=$(t,gt);return new e(r,n,s)}},Ve=class e{constructor(e,t,r,n){this.module_name=e,this.function_name=t,this.ty_args=r,this.args=n}static natural(t,r,n,s){return new e(Qe.fromStr(t),new Ae(r),n,s)}static natual(t,r,n,s){return e.natural(t,r,n,s)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),D(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach((t=>{e.serializeBytes(t)}))}static deserialize(t){const r=Qe.deserialize(t),n=Ae.deserialize(t),s=$(t,ve),i=t.deserializeUleb128AsU32(),o=[];for(let e=0;e<i;e+=1)o.push(t.deserializeBytes());return new e(r,n,s,o)}},Xe=class e{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(t){return t.deserializeUleb128AsU32(),new e(Ve.deserialize(t))}},Ze=class e{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),void 0===this.transaction_payload?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(t){const r=ce.deserialize(t);let n;return t.deserializeBool()&&(n=Xe.deserialize(t)),new e(r,n)}},Ye=class e{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(t){const r=t.deserializeBytes();return new e(r)}},Qe=class e{constructor(e,t){this.address=e,this.name=t}static fromStr(t){const r=t.split("::");if(2!==r.length)throw new Error("Invalid module id.");return new e(ce.fromHex(new z(r[0])),new Ae(r[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(t){const r=ce.deserialize(t),n=Ae.deserialize(t);return new e(r,n)}},et=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},tt=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},rt=class e{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(t){const r=$e.deserialize(t),n=ye.deserialize(t);return new e(r,n)}},nt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return st.load(e);case 1:return it.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},st=class e extends nt{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),D(this.secondary_signer_addresses,e)}static load(t){const r=$e.deserialize(t),n=$(t,ce);return new e(r,n)}},it=class e extends nt{constructor(e,t,r){super(),this.raw_txn=e,this.secondary_signer_addresses=t,this.fee_payer_address=r}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),D(this.secondary_signer_addresses,e),this.fee_payer_address.serialize(e)}static load(t){const r=$e.deserialize(t),n=$(t,ce),s=ce.deserialize(t);return new e(r,n,s)}},ot=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return at.load(e);case 2:return ct.load(e);case 3:return ut.load(e);case 4:return lt.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},at=class e extends ot{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){const r=Je.deserialize(t);return new e(r)}},ct=class e extends ot{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(t){const r=Ve.deserialize(t);return new e(r)}},ut=class e extends ot{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(t){const r=Ze.deserialize(t);return new e(r)}},lt=class e extends ot{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),this.value.serialize(e)}static load(t){const r=dt.deserialize(t);return new e(r)}},dt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();if(0===t)return ht.load(e);throw new Error(`Unknown variant index for AutomationRegistrationParams: ${t}`)}},ht=class e extends dt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){const r=ft.deserialize(t);return new e(r)}},ft=class e{constructor(e,t,r,n,s,i){this.automated_function=e,this.max_gas_amount=t,this.gas_price_cap=r,this.automation_fee_cap_for_epoch=n,this.expiration_timestamp_secs=s,this.aux_data=i}serialize(e){this.automated_function.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_price_cap),e.serializeU64(this.automation_fee_cap_for_epoch),e.serializeU64(this.expiration_timestamp_secs),F(this.aux_data,e)}static deserialize(t){const r=Ve.deserialize(t),n=t.deserializeU64(),s=t.deserializeU64(),i=t.deserializeU64(),o=t.deserializeU64(),a=J(t);return new e(r,n,s,i,o,a)}},pt=class e{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(t){const r=t.deserializeU8();return new e(r)}},gt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return yt.load(e);case 1:return wt.load(e);case 2:return kt.load(e);case 3:return xt.load(e);case 4:return _t.load(e);case 5:return At.load(e);case 6:return bt.load(e);case 7:return mt.load(e);case 8:return St.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}},yt=class e extends gt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(t){const r=t.deserializeU8();return new e(r)}},bt=class e extends gt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(t){const r=t.deserializeU16();return new e(r)}},mt=class e extends gt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(t){const r=t.deserializeU32();return new e(r)}},wt=class e extends gt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(t){const r=t.deserializeU64();return new e(r)}},kt=class e extends gt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(t){const r=t.deserializeU128();return new e(r)}},St=class e extends gt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(t){const r=t.deserializeU256();return new e(r)}},xt=class e extends gt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(t){const r=ce.deserialize(t);return new e(r)}},_t=class e extends gt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(t){const r=t.deserializeBytes();return new e(r)}},At=class e extends gt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(t){const r=t.deserializeBool();return new e(r)}},vt=class{getHashSalt(){const e=oe.sha3_256.create();return e.update("SUPRA::Transaction"),e.digest()}static deserialize(e){const t=e.deserializeUleb128AsU32();if(0===t)return It.load(e);throw new Error(`Unknown variant index for Transaction: ${t}`)}},It=class e extends vt{constructor(e){super(),this.value=e}hash(){const e=oe.sha3_256.create();return e.update(this.getHashSalt()),e.update(V(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){return new e(rt.deserialize(t))}},Et=class e{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(t){const r=t.deserializeStr();return new e(r)}},Bt=class e{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(t){const r=t.deserializeStr(),n=ve.deserialize(t);return new e(r,n)}},Tt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Rt.load(e);case 1:return Ut.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},Rt=class e extends Tt{constructor(e,t,r,n,s){super(),this.name=e,this.doc=t,this.code=r,this.ty_args=n,this.args=s}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),D(this.ty_args,e),D(this.args,e)}static load(t){const r=t.deserializeStr(),n=t.deserializeStr(),s=t.deserializeBytes(),i=$(t,Et),o=$(t,Bt);return new e(r,n,s,i,o)}},Ut=class e extends Tt{constructor(e,t,r,n,s){super(),this.name=e,this.module_name=t,this.doc=r,this.ty_args=n,this.args=s}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),D(this.ty_args,e),D(this.args,e)}static load(t){const r=t.deserializeStr(),n=Qe.deserialize(t),s=t.deserializeStr(),i=$(t,Et),o=$(t,Bt);return new e(r,n,s,i,o)}},zt=r(72515),Pt=class e{constructor(t){if(t.length!==e.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const r=t.toBytes(),n=new Uint8Array(r.length+1);n.set(r),n.set([e.MULTI_ED25519_SCHEME],r.length);const s=zt.sha3_256.create();return s.update(n),new e(s.digest())}static fromEd25519PublicKey(t){const r=t.value,n=new Uint8Array(r.length+1);n.set(r),n.set([e.ED25519_SCHEME],r.length);const s=zt.sha3_256.create();return s.update(n),new e(s.digest())}derivedAddress(){return z.fromUint8Array(this.bytes)}};Pt.LENGTH=32,Pt.MULTI_ED25519_SCHEME=1,Pt.ED25519_SCHEME=0,Pt.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var Ot=Pt,Lt=class{constructor(e,t,r,n,s,i,o){this.accountAddress=e,this.moduleName=t,this.structName=r,this.sequenceNumber=n,this.originator=s,this.currentAuthKey=i,this.newPublicKey=o}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},Ct=class e{static fromSupraAccountObject(t){return new e(z.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(t,r){if(!e.isValidPath(t))throw new Error("Invalid derivation path");const n=r.trim().split(/\s+/).map((e=>e.toLowerCase())).join(" "),{key:s}=R(t,(0,b.bytesToHex)(y.mnemonicToSeedSync(n)));return new e(s)}constructor(e,t){this.signingKey=e?g.default.sign.keyPair.fromSeed(e.slice(0,32)):g.default.sign.keyPair(),this.accountAddress=z.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new le(this.signingKey.publicKey);return Ot.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){const r=V(ce.fromHex(e)),n=new Uint8Array([...r,...t,Ot.DERIVE_RESOURCE_ACCOUNT_SCHEME]),s=w.sha3_256.create();return s.update(n),z.fromUint8Array(s.digest())}static getCollectionID(e,t){const r=(new TextEncoder).encode(`${e}::${t}`),n=m.sha256.create();return n.update(r),z.fromUint8Array(n.digest())}pubKey(){return z.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const t=g.default.sign.detached(e,this.signingKey.secretKey);return z.fromUint8Array(t)}signHexString(e){const t=z.ensure(e).toUint8Array();return this.signBuffer(t)}verifySignature(e,t){const r=z.ensure(e).toUint8Array(),n=z.ensure(t).toUint8Array();return g.default.sign.detached.verify(r,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:z.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};f([P()],Ct.prototype,"authKey",1);var Nt=Ct;function Wt(e){return e instanceof Nt?e.address():z.ensure(e)}var Mt=r(72515);function Ht(e,t,r){if(!t?.includes(typeof e))throw new Error(r||`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function Kt(e){if(Ht(e,["boolean","string"]),"boolean"==typeof e)return e;if("true"===e)return!0;if("false"===e)return!1;throw new Error("Invalid boolean string.")}function jt(e){if(Ht(e,["number","string"]),"number"==typeof e)return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function qt(e){return Ht(e,["number","bigint","string"]),BigInt(e)}function Dt(e,t,r){Ft(e,t,r,0)}function Ft(e,t,r,n){if(t instanceof Ie)r.serializeBool(Kt(e));else if(t instanceof Ee)r.serializeU8(jt(e));else if(t instanceof Be)r.serializeU16(jt(e));else if(t instanceof Te)r.serializeU32(jt(e));else if(t instanceof Re)r.serializeU64(qt(e));else if(t instanceof Ue)r.serializeU128(qt(e));else if(t instanceof ze)r.serializeU256(qt(e));else if(t instanceof Pe)Gt(e,r);else if(t instanceof Le)!function(e,t,r,n){if(t.value instanceof Ee){if(e instanceof Uint8Array)return void r.serializeBytes(e);if(e instanceof z)return void r.serializeBytes(e.toUint8Array());if("string"==typeof e)return void r.serializeStr(e)}if(!Array.isArray(e))throw new Error("Invalid vector args.");r.serializeU32AsUleb128(e.length),e.forEach((e=>Ft(e,t.value,r,n+1)))}(e,t,r,n);else{if(!(t instanceof Ce))throw new Error("Unsupported arg type.");!function(e,t,r,n){const{address:s,module_name:i,name:o,type_args:a}=t.value,c=`${z.fromUint8Array(s.address).toShortString()}::${i.value}::${o.value}`;if("0x1::string::String"===c)Ht(e,["string"]),r.serializeStr(e);else if("0x1::object::Object"===c)Gt(e,r);else{if("0x1::option::Option"!==c)throw new Error("Unsupported struct type in function argument");if(1!==a.length)throw new Error(`Option has the wrong number of type arguments ${a.length}`);!function(e,t,r,n){null==e?r.serializeU32AsUleb128(0):(r.serializeU32AsUleb128(1),Ft(e,t,r,n+1))}(e,a[0],r,n)}}(e,t,r,n)}}function Gt(e,t){let r;if("string"==typeof e||e instanceof z)r=ce.fromHex(e);else{if(!(e instanceof ce))throw new Error("Invalid account address.");r=e}r.serialize(t)}function $t(e,t){if(t instanceof Ie)return new At(Kt(e));if(t instanceof Ee)return new yt(jt(e));if(t instanceof Be)return new bt(jt(e));if(t instanceof Te)return new mt(jt(e));if(t instanceof Re)return new wt(qt(e));if(t instanceof Ue)return new kt(qt(e));if(t instanceof ze)return new St(qt(e));if(t instanceof Pe){let t;if("string"==typeof e||e instanceof z)t=ce.fromHex(e);else{if(!(e instanceof ce))throw new Error("Invalid account address.");t=e}return new xt(t)}if(t instanceof Le&&t.value instanceof Ee){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new _t(e)}throw new Error("Unknown type for TransactionArgument.")}var Jt,Vt,Xt="SUPRA::RawTransactionWithData",Zt=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,r)}static getSigningMessage(e){const t=Mt.sha3_256.create();if(e instanceof $e)t.update("SUPRA::RawTransaction");else if(e instanceof st)t.update(Xt);else{if(!(e instanceof it))throw new Error("Unknown transaction type.");t.update(Xt)}const r=t.digest(),n=V(e),s=new Uint8Array(r.length+n.length);return s.set(r),s.set(n,r.length),s}},Yt=class extends Zt{constructor(e,t,r){super(e,r),this.publicKey=t}rawToSigned(e){const t=Zt.getSigningMessage(e),r=this.signingFunction(t),n=new be(new le(this.publicKey),r);return new rt(e,n)}sign(e){return V(this.rawToSigned(e))}},Qt=class extends Zt{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=Zt.getSigningMessage(e),r=this.signingFunction(t),n=new me(this.publicKey,r);return new rt(e,n)}sign(e){return V(this.rawToSigned(e))}},er=class e{constructor(e,t){this.abiMap=new Map,e.forEach((e=>{const t=new q(e),r=Tt.deserialize(t);let n;if(r instanceof Ut){const e=r,{address:t,name:s}=e.module_name;n=`${z.fromUint8Array(t.address).toShortString()}::${s.value}::${e.name}`}else{n=r.name}if(this.abiMap.has(n))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(n,r)})),this.builderConfig={maxGasAmount:BigInt(2e5),expSecFromNow:20,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map(((t,r)=>{const n=new K;return Dt(t,e[r].type_tag,n),n.getBytes()}))}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map(((t,r)=>$t(t,e[r].type_tag)))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(t,r,n){const s=r.map((e=>new Fe(e).parseTypeTag()));let i;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const o=this.abiMap.get(t);if(o instanceof Ut){const t=o,r=e.toBCSArgs(t.args,n);i=new ct(new Ve(t.module_name,new Ae(t.name),s,r))}else{if(!(o instanceof Rt))throw new Error("Unknown ABI format.");{const t=o,r=e.toTransactionArguments(t.args,n);i=new at(new Je(t.code,s,r))}}return i}build(e,t,r){const{sender:n,sequenceNumber:s,gasUnitPrice:i,maxGasAmount:o,expSecFromNow:a,chainId:c}=this.builderConfig;if(!i)throw new Error("No gasUnitPrice provided.");const u=n instanceof ce?n:ce.fromHex(n),l=BigInt(Math.floor(Date.now()/1e3)+Number(a)),d=this.buildTransactionPayload(e,t,r);if(d)return new $e(u,BigInt(s),d,BigInt(o),BigInt(i),l,new pt(Number(c)));throw new Error("Invalid ABI.")}},tr=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const t=(await this.aptosClient.getAccountModules(e)).map((e=>e.abi)).flatMap((e=>e.exposed_functions.filter((e=>e.is_entry)).map((t=>({fullName:`${e.address}::${e.name}::${t.name}`,...t}))))),r=new Map;return t.forEach((e=>{r.set(e.fullName,e)})),r}async build(e,t,r){if(3!==(e=e.replace(/^0[xX]0*/g,"0x")).split("::").length)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");const[n,s]=e.split("::"),i=await this.fetchABI(n);if(!i.has(e))throw new Error(`${e} doesn't exist.`);const o=i.get(e),a=o.params.filter((e=>"signer"!==e&&"&signer"!==e)).map(((e,r)=>new Bt(`var${r}`,new Fe(e,t).parseTypeTag()))),c=new Ut(o.name,Qe.fromStr(`${n}::${s}`),"",o.generic_type_params.map(((e,t)=>new Et(`${t}`))),a),{sender:u,...l}=this.builderConfig,d=u instanceof ce?z.fromUint8Array(u.address):u,[{sequence_number:h},f,{gas_estimate:p}]=await Promise.all([l?.sequenceNumber?Promise.resolve({sequence_number:l?.sequenceNumber}):this.aptosClient.getAccount(d),l?.chainId?Promise.resolve(l?.chainId):this.aptosClient.getChainId(),l?.gasUnitPrice?Promise.resolve({gas_estimate:l?.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new er([V(c)],{sender:u,sequenceNumber:h,chainId:f,gasUnitPrice:BigInt(p),...l}).build(e,t,r)}};f([(Jt=6e5,P({ttlMs:Jt,hashFunction:Vt}))],tr.prototype,"fetchABI",1);var rr={};l(rr,{AptosErrorCode:()=>nr,MoveFunctionVisibility:()=>sr,RoleType:()=>ir});var nr=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.STATE_VALUE_NOT_FOUND="state_value_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(nr||{}),sr=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(sr||{}),ir=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(ir||{})},29701:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function s(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Expected Uint8Array");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function i(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){s(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=s,t.hash=i,t.exists=o,t.output=a;const c={number:r,bool:n,bytes:s,hash:i,exists:o,output:a};t.default=c},67928:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const n=r(29701),s=r(58572);class i extends s.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,s.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:i}=this,o=(e=(0,s.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(i-this.pos,o-n);if(a!==i)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,s.createView)(e);for(;i<=o-n;n+=i)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(r>>s&i),a=Number(r&i),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,i-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,s.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:s,destroyed:i,pos:o}=this;return e.length=n,e.pos=o,e.finished=s,e.destroyed=i,n%t&&e.buffer.set(r),e}}t.SHA2=i},67912:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function s(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function i(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=s(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}t.fromBig=s,t.split=i;const o=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=o;const a=(e,t,r)=>e>>>r;t.shrSH=a;const c=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=c;const u=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=u;const l=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=l;const d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;const h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;const f=(e,t)=>t;t.rotr32H=f;const p=(e,t)=>e;t.rotr32L=p;const g=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=g;const y=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=y;const b=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=b;const m=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:0|s}}t.rotlBL=m,t.add=w;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=k;const S=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;t.add3H=S;const x=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=x;const _=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0;t.add4H=_;const A=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0);t.add5L=A;const v=(e,t,r,n,s,i)=>t+r+n+s+i+(e/2**32|0)|0;t.add5H=v;const I={fromBig:s,split:i,toBig:o,shrSH:a,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:g,rotlSL:y,rotlBH:b,rotlBL:m,add:w,add3L:k,add3H:S,add4L:x,add4H:_,add5H:v,add5L:A};t.default=I},96664:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},23537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const n=r(29701),s=r(58572);class i extends s.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,s.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:s,blockLen:i,outputLen:o}=this;return e.finished=n,e.destroyed=s,e.blockLen=i,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=i;t.hmac=(e,t,r)=>new i(e,t).update(r).digest(),t.hmac.create=(e,t)=>new i(e,t)},29897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(67928),s=r(58572),i=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:s,F:i,G:o,H:a}=this;return[e,t,r,n,s,i,o,a]}set(e,t,r,n,s,i,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],r=c[e-2],n=(0,s.rotr)(t,7)^(0,s.rotr)(t,18)^t>>>3,i=(0,s.rotr)(r,17)^(0,s.rotr)(r,19)^r>>>10;c[e]=i+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:a,D:u,E:l,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,s.rotr)(l,6)^(0,s.rotr)(l,11)^(0,s.rotr)(l,25))+((p=l)&d^~p&h)+o[e]+c[e]|0,g=((0,s.rotr)(r,2)^(0,s.rotr)(r,13)^(0,s.rotr)(r,22))+i(r,n,a)|0;f=h,h=d,d=l,l=u+t|0,u=a,a=n,n=r,r=t+g|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,n,a,u,l,d,h,f)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,s.wrapConstructor)((()=>new u)),t.sha224=(0,s.wrapConstructor)((()=>new l))},72515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=t.keccakP=void 0;const n=r(29701),s=r(67912),i=r(58572),[o,a,c]=[[],[],[]],u=BigInt(0),l=BigInt(1),d=BigInt(2),h=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let s=u;for(let e=0;e<7;e++)t=(t<<l^(t>>h)*p)%f,t&d&&(s^=l<<(l<<BigInt(e))-l);c.push(s)}const[g,y]=(0,s.split)(c,!0),b=(e,t,r)=>r>32?(0,s.rotlBH)(e,t,r):(0,s.rotlSH)(e,t,r),m=(e,t,r)=>r>32?(0,s.rotlBL)(e,t,r):(0,s.rotlSL)(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,s=(t+2)%10,i=r[s],o=r[s+1],a=b(i,o,1)^r[n],c=m(i,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],s=e[3];for(let r=0;r<24;r++){const n=a[r],i=b(t,s,n),c=m(t,s,n),u=o[r];t=e[u],s=e[u+1],e[u]=i,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=g[n],e[1]^=y[n]}r.fill(0)}t.keccakP=w;class k extends i.Hash{constructor(e,t,r,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}keccak(){w(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,s=(e=(0,i.toBytes)(e)).length;for(let n=0;n<s;){const i=Math.min(t-this.pos,s-n);for(let t=0;t<i;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,s=e.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);e.set(t.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return e||(e=new k(t,r,n,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}t.Keccak=k;const S=(e,t,r)=>(0,i.wrapConstructor)((()=>new k(t,e,r)));t.sha3_224=S(6,144,28),t.sha3_256=S(6,136,32),t.sha3_384=S(6,104,48),t.sha3_512=S(6,72,64),t.keccak_224=S(1,144,28),t.keccak_256=S(1,136,32),t.keccak_384=S(1,104,48),t.keccak_512=S(1,72,64);const x=(e,t,r)=>(0,i.wrapXOFConstructorWithOpts)(((n={})=>new k(t,e,void 0===n.dkLen?r:n.dkLen,!0)));t.shake128=x(31,168,16),t.shake256=x(31,136,32)},34383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const n=r(67928),s=r(67912),i=r(58572),[o,a]=(()=>s.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),u=new Uint32Array(80);class l extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:s,Cl:i,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,s,i,o,a,c,u,l,d,h,f,p,g]}set(e,t,r,n,s,i,o,a,c,u,l,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|s,this.Cl=0|i,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),u[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|u[e-15],n=s.default.rotrSH(t,r,1)^s.default.rotrSH(t,r,8)^s.default.shrSH(t,r,7),i=s.default.rotrSL(t,r,1)^s.default.rotrSL(t,r,8)^s.default.shrSL(t,r,7),o=0|c[e-2],a=0|u[e-2],l=s.default.rotrSH(o,a,19)^s.default.rotrBH(o,a,61)^s.default.shrSH(o,a,6),d=s.default.rotrSL(o,a,19)^s.default.rotrBL(o,a,61)^s.default.shrSL(o,a,6),h=s.default.add4L(i,d,u[e-7],u[e-16]),f=s.default.add4H(h,n,l,c[e-7],c[e-16]);c[e]=0|f,u[e]=0|h}let{Ah:r,Al:n,Bh:i,Bl:l,Ch:d,Cl:h,Dh:f,Dl:p,Eh:g,El:y,Fh:b,Fl:m,Gh:w,Gl:k,Hh:S,Hl:x}=this;for(let e=0;e<80;e++){const t=s.default.rotrSH(g,y,14)^s.default.rotrSH(g,y,18)^s.default.rotrBH(g,y,41),_=s.default.rotrSL(g,y,14)^s.default.rotrSL(g,y,18)^s.default.rotrBL(g,y,41),A=g&b^~g&w,v=y&m^~y&k,I=s.default.add5L(x,_,v,a[e],u[e]),E=s.default.add5H(I,S,t,A,o[e],c[e]),B=0|I,T=s.default.rotrSH(r,n,28)^s.default.rotrBH(r,n,34)^s.default.rotrBH(r,n,39),R=s.default.rotrSL(r,n,28)^s.default.rotrBL(r,n,34)^s.default.rotrBL(r,n,39),U=r&i^r&d^i&d,z=n&l^n&h^l&h;S=0|w,x=0|k,w=0|b,k=0|m,b=0|g,m=0|y,({h:g,l:y}=s.default.add(0|f,0|p,0|E,0|B)),f=0|d,p=0|h,d=0|i,h=0|l,i=0|r,l=0|n;const P=s.default.add3L(B,R,z);r=s.default.add3H(P,E,T,U),n=0|P}({h:r,l:n}=s.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l}=s.default.add(0|this.Bh,0|this.Bl,0|i,0|l)),({h:d,l:h}=s.default.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:f,l:p}=s.default.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:g,l:y}=s.default.add(0|this.Eh,0|this.El,0|g,0|y)),({h:b,l:m}=s.default.add(0|this.Fh,0|this.Fl,0|b,0|m)),({h:w,l:k}=s.default.add(0|this.Gh,0|this.Gl,0|w,0|k)),({h:S,l:x}=s.default.add(0|this.Hh,0|this.Hl,0|S,0|x)),this.set(r,n,i,l,d,h,f,p,g,y,b,m,w,k,S,x)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class d extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class f extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,i.wrapConstructor)((()=>new l)),t.sha512_224=(0,i.wrapConstructor)((()=>new d)),t.sha512_256=(0,i.wrapConstructor)((()=>new h)),t.sha384=(0,i.wrapConstructor)((()=>new f))},58572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const n=r(96664);t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);function s(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!s(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t};const o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=o._0&&e<=o._9?e-o._0:e>=o._A&&e<=o._F?e-(o._A-10):e>=o._a&&e<=o._f?e-(o._a-10):void 0}t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,s=0;t<r;t++,s+=2){const r=a(e.charCodeAt(s)),i=a(e.charCodeAt(s+1));if(void 0===r||void 0===i){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[t]=16*r+i}return n};function c(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function u(e){if("string"==typeof e&&(e=c(e)),!s(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let s=Date.now();for(let i=0;i<e;i++){n(i);const e=Date.now()-s;e>=0&&e<r||(await(0,t.nextTick)(),s+=e)}},t.utf8ToBytes=c,t.toBytes=u,t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!s(n))throw new Error("Uint8Array expected");t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const s=e[t];r.set(s,n),n+=s.length}return r};t.Hash=class{clone(){return this._cloneInto()}};const l={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==l.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(u(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},36928:(e,t,r)=>{"use strict";var n,s=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))!u.call(e,s)&&s!==r&&i(e,s,{get:()=>t[s],enumerable:!(n=o(t,s))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?s(c(e)):{},l(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{BCS:()=>g.BCS,DEFAULT_CHAIN_ID:()=>v,DEFAULT_ENABLE_SIMULATION:()=>L,DEFAULT_GAS_PRICE:()=>R,DEFAULT_MAX_GAS_FOR_SUPRA_TRANSFER_WHEN_RECEIVER_EXISTS:()=>N,DEFAULT_MAX_GAS_FOR_SUPRA_TRANSFER_WHEN_RECEIVER_NOT_EXISTS:()=>W,DEFAULT_MAX_GAS_UNITS:()=>T,DEFAULT_RECORDS_ITEMS_COUNT:()=>B,DEFAULT_TX_EXPIRATION_DURATION:()=>U,DEFAULT_WAIT_FOR_TX_COMPLETION:()=>C,DELAY_BETWEEN_POOLING_REQUEST:()=>E,HexString:()=>g.HexString,MAX_RETRY_FOR_TRANSACTION_COMPLETION:()=>I,MILLISECONDS_PER_SECOND:()=>z,RAW_TRANSACTION_SALT:()=>M,RAW_TRANSACTION_WITH_DATA_SALT:()=>H,SUPRA_COIN_TYPE:()=>O,SUPRA_FRAMEWORK_ADDRESS:()=>P,SupraAccount:()=>g.SupraAccount,SupraClient:()=>j,TransactionStatus:()=>_,TxTypeForTransactionInsights:()=>A,TxnBuilderTypes:()=>g.TxnBuilderTypes}),e.exports=(n=h,l(i({},"__esModule",{value:!0}),n));var f,p,g=r(42721),y=d(r(97164)),b=r(42721),m=e=>{let t=new Array;return e.forEach((e=>{let r=e.value;t.push({struct:{address:r.address.toHexString().toString(),module:r.module_name.value,name:r.name.value,type_args:m(r.type_args)}})})),t},w=e=>{let t=new Array;return e.forEach((e=>{if(e instanceof b.TxnBuilderTypes.TransactionArgumentU8)t.push({U8:e.value});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU32)t.push({U32:e.value});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU64)t.push({U64:Number(e.value)});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU128)t.push({U128:Number(e.value)});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU256)t.push({U256:Array.from(b.BCS.bcsSerializeU256(e.value))});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentAddress)t.push({Address:e.value.toHexString().toString()});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU8Vector)t.push({U8Vector:Array.from(e.value)});else{if(!(e instanceof b.TxnBuilderTypes.TransactionArgumentBool))throw new Error("Invalid script argument variant");t.push({Bool:e.value})}})),t},k=e=>{let t=new Array;for(let r=0;r<e.length;r++)t.push(Array.from(e[r]));return t},S=e=>{let t=e.toLowerCase();if(t.length<66)return t=t.startsWith("0x")?t.slice(2).padStart(64,"0"):t.padStart(64,"0"),"0x"+t;if(66===t.length&&t.startsWith("0x"))return t;throw new Error("Invalid address. With '0x', address length should be exactly 66 characters.")},x=e=>new Promise((t=>{setTimeout(t,e)})),_=((p=_||{}).Success="Success",p.Failed="Failed",p.Pending="Pending",p),A=((f=A||{}).CoinTransfer="CoinTransfer",f.EntryFunctionCall="EntryFunctionCall",f.ScriptCall="ScriptCall",f.MultisigPayload="MultisigPayload",f.AutomationRegistration="AutomationRegistration",f),v=6,I=300,E=1e3,B=15,T=BigInt(5e5),R=BigInt(100),U=300,z=1e3,P="0x0000000000000000000000000000000000000000000000000000000000000001",O="0x1::supra_coin::SupraCoin",L=!1,C=!1,N=10,W=1020,M="SUPRA::RawTransaction",H="SUPRA::RawTransactionWithData",K=d(r(45865)),j=class e{constructor(e,t=6){this.supraNodeURL=e,this.chainId=new g.TxnBuilderTypes.ChainId(t)}static async init(t){let r=new e(t);return r.chainId=await r.getChainId(),r}async sendRequest(e,t,r){if(!e&&void 0===r)throw new Error("POST request requires a 'data' payload.");let n={method:e?"get":"post",baseURL:this.supraNodeURL,url:t,...e?{}:{data:r,headers:{"Content-Type":"application/json"}}},s=await(0,y.default)(n);if(404===s.status)throw new Error("Invalid URL — path not found (404).");if(500===s.status)throw new Error("Server error — please try again later.");return s}async getChainId(){return new g.TxnBuilderTypes.ChainId(Number((await this.sendRequest(!0,"/rpc/v1/transactions/chain_id")).data))}async getGasPrice(){return BigInt((await this.sendRequest(!0,"/rpc/v1/transactions/estimate_gas_price")).data.mean_gas_price)}async fundAccountWithFaucet(e){let t=(await this.sendRequest(!0,`/rpc/v1/wallet/faucet/${e.toString()}`)).data;if("object"!=typeof t||null===t)throw new Error("Unexpected response format. Please try faucet later.");if(!("Accepted"in t))throw new Error("Faucet request failed — 'Accepted' field not found in response.");let r=t.Accepted;return{status:await this.waitForTransactionCompletion(r),transactionHash:r}}async isAccountExists(e){let t=await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}`);return!(null===t.data||202===t.status)}async getAccountInfo(e){let t=(await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}`)).data;if(!t||"object"!=typeof t)throw new Error("Account does not exist or an invalid account was provided.");return{sequence_number:BigInt(t.sequence_number),authentication_key:t.authentication_key}}async getAccountResources(e,t){let r=`/rpc/v1/accounts/${e.toString()}/resources?count=${t?.count??15}`;return t?.start&&(r+=`&start=${t.start}`),(await this.sendRequest(!0,r)).data.Resources}async getResourceData(e,t){let r=(await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}/resources/${t}`)).data?.result;if(!Array.isArray(r)||0===r.length||null==r[0])throw new Error(`Resource of type '${t}' not found for account ${e.toString()}.`);return r[0]}async getTransactionStatus(e){let t=await this.sendRequest(!0,`/rpc/v1/transactions/${e}`);return null==t.data?null:"Unexecuted"==t.data.status?"Pending":"Fail"==t.data.status?"Failed":t.data.status}getCoinChangeAmount(e,t){let r=new Map;t.forEach((t=>{if(("0x1::coin::CoinDeposit"===t.type||"0x1::coin::CoinWithdraw"===t.type)&&"0x"+t.data.account.substring(2,t.data.account).padStart(64,"0")===e)if("0x1::coin::CoinDeposit"===t.type){let e=r.get(t.data.coin_type);null!=e?r.set(t.data.coin_type,{totalDeposit:e.totalDeposit+BigInt(t.data.amount),totalWithdraw:e.totalWithdraw}):r.set(t.data.coin_type,{totalDeposit:BigInt(t.data.amount),totalWithdraw:BigInt(0)})}else if("0x1::coin::CoinWithdraw"===t.type){let e=r.get(t.data.coin_type);null!=e?r.set(t.data.coin_type,{totalDeposit:e.totalDeposit,totalWithdraw:e.totalWithdraw+BigInt(t.data.amount)}):r.set(t.data.coin_type,{totalDeposit:BigInt(0),totalWithdraw:BigInt(t.data.amount)})}}));let n=[];return r.forEach(((e,t)=>{n.push({coinType:t,amount:e.totalDeposit-e.totalWithdraw})})),n}getTransactionInsights(e,t){let r={coinReceiver:"",coinChange:[{amount:BigInt(0),coinType:""}],type:"EntryFunctionCall"};if("entry_function_payload"===t.payload.Move.type)if("0x1::supra_account::transfer"===t.payload.Move.function){let n=BigInt(t.payload.Move.arguments[1]);e===t.header.sender.Move&&(n*=BigInt(-1)),r.coinReceiver=t.payload.Move.arguments[0],r.coinChange[0]={amount:n,coinType:O},r.type="CoinTransfer"}else if("0x1::supra_account::transfer_coins"===t.payload.Move.function||"0x1::coin::transfer"===t.payload.Move.function){let n=BigInt(t.payload.Move.arguments[1]);e===t.header.sender.Move&&(n*=BigInt(-1)),r.coinReceiver=t.payload.Move.arguments[0],r.coinChange[0]={amount:n,coinType:t.payload.Move.type_arguments[0]},r.type="CoinTransfer"}else"Success"===t.status&&(r.coinChange=this.getCoinChangeAmount(e,t.output.Move.events));else{if("script_payload"===t.payload.Move.type)r.type="ScriptCall";else if("automation_registration_payload"===t.payload.Move.type)r.type="AutomationRegistration";else{if("multisig_payload"!==t.payload.Move.type)throw new Error("Unsupported transaction payload type.");r.type="MultisigPayload"}"Success"===t.status&&(r.coinChange=this.getCoinChangeAmount(e,t.output.Move.events))}return r}async getTransactionDetail(e,t){let r=await this.sendRequest(!0,`/rpc/v1/transactions/${t}`);return null==r.data?null:"Pending"===r.data.status||null===r.data.output||null===r.data.header?{txHash:t,sender:r.data.header.sender.Move,sequenceNumber:r.data.header.sequence_number,maxGasAmount:r.data.header.max_gas_amount,gasUnitPrice:r.data.header.gas_unit_price,gasUsed:void 0,transactionCost:void 0,txExpirationTimestamp:Number(r.data.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:void 0,status:r.data.status,events:void 0,blockNumber:void 0,blockHash:void 0,transactionInsights:this.getTransactionInsights(e.toString(),r.data),vm_status:void 0}:{txHash:t,sender:r.data.header.sender.Move,sequenceNumber:r.data.header.sequence_number,maxGasAmount:r.data.header.max_gas_amount,gasUnitPrice:r.data.header.gas_unit_price,gasUsed:r.data.output?.Move.gas_used,transactionCost:r.data.header.gas_unit_price*r.data.output?.Move.gas_used,txExpirationTimestamp:Number(r.data.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:Number(r.data.block_header.timestamp.microseconds_since_unix_epoch),status:"Fail"==r.data.status||"Invalid"==r.data.status?"Failed":r.data.status,events:r.data.output?.Move.events,blockNumber:r.data.block_header.height,blockHash:r.data.block_header.hash,transactionInsights:this.getTransactionInsights(e.toString(),r.data),vm_status:r.data.output.Move.vm_status}}async getAccountTransactionsDetail(e,t){let r=`/rpc/v1/accounts/${e.toString()}/transactions?count=${t?.count??15}`;t?.start&&(r+=`&start=${t.start}`);let n=await this.sendRequest(!0,r);if(null==n.data.record)throw new Error("Account does not exist or an invalid account was provided.");let s=[];return n.data.record.forEach((t=>{s.push({txHash:t.hash,sender:t.header.sender.Move,sequenceNumber:t.header.sequence_number,maxGasAmount:t.header.max_gas_amount,gasUnitPrice:t.header.gas_unit_price,gasUsed:t.output.Move.gas_used,transactionCost:t.header.gas_unit_price*t.output.Move.gas_used,txExpirationTimestamp:Number(t.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:Number(t.block_header.timestamp.microseconds_since_unix_epoch),status:"Fail"===t.status||"Invalid"===t.status?"Failed":t.status,events:t.output.Move.events,blockNumber:t.block_header.height,blockHash:t.block_header.hash,transactionInsights:this.getTransactionInsights(e.toString(),t),vm_status:t.output.Move.vm_status})})),s}async getCoinTransactionsDetail(e,t){let r=`/rpc/v1/accounts/${e.toString()}/coin_transactions?count=${t?.count??15}`;t?.start&&(r+=`&start=${t?.start}`);let n=await this.sendRequest(!0,r);if(null==n.data.record)throw new Error("Account does not exist or an invalid account was provided.");let s=[];return n.data.record.forEach((t=>{s.push({txHash:t.hash,sender:t.header.sender.Move,sequenceNumber:t.header.sequence_number,maxGasAmount:t.header.max_gas_amount,gasUnitPrice:t.header.gas_unit_price,gasUsed:t.output.Move.gas_used,transactionCost:t.header.gas_unit_price*t.output.Move.gas_used,txExpirationTimestamp:Number(t.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:Number(t.block_header.timestamp.microseconds_since_unix_epoch),status:"Fail"===t.status||"Invalid"===t.status?"Failed":t.status,events:t.output.Move.events,blockNumber:t.block_header.height,blockHash:t.block_header.hash,transactionInsights:this.getTransactionInsights(e.toString(),t),vm_status:t.output.Move.vm_status})})),{transactions:s,cursor:n.data.cursor}}async getAccountCompleteTransactionsDetail(e,t=15){let r=await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}/coin_transactions?count=${t}`),n=await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}/transactions?count=${t}`),s=[];null!=r.data.record&&s.push(...r.data.record),null!=n.data.record&&s.push(...n.data.record);let i=s.filter(((e,t,r)=>t===r.findIndex((t=>t.hash===e.hash))));i.sort(((e,t)=>e.block_header.timestamp.microseconds_since_unix_epoch<t.block_header.timestamp.microseconds_since_unix_epoch?1:-1));let o=[];return i.forEach((t=>{o.push({txHash:t.hash,sender:t.header.sender.Move,sequenceNumber:t.header.sequence_number,maxGasAmount:t.header.max_gas_amount,gasUnitPrice:t.header.gas_unit_price,gasUsed:t.output.Move.gas_used,transactionCost:t.header.gas_unit_price*t.output.Move.gas_used,txExpirationTimestamp:Number(t.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:Number(t.block_header.timestamp.microseconds_since_unix_epoch),status:"Fail"===t.status||"Invalid"===t.status?"Failed":t.status,events:t.output.Move.events,blockNumber:t.block_header.height,blockHash:t.block_header.hash,transactionInsights:this.getTransactionInsights(e.toString(),t),vm_status:t.output.Move.vm_status})})),o}async getCoinInfo(e){let t=await this.getResourceData(new g.HexString(e.split("::")[0]),`${P}::coin::CoinInfo<${e}>`);return{name:t.name,symbol:t.symbol,decimals:t.decimals}}async getAccountSupraCoinBalance(e){return await this.getAccountCoinBalance(e,O)}async getAccountCoinBalance(e,t){return BigInt((await this.invokeViewMethod("0x1::coin::balance",[t],[e.toString()]))[0])}async invokeViewMethod(e,t,r){return(await this.sendRequest(!1,"/rpc/v1/view",{function:e,type_arguments:t,arguments:r})).data.result}async getTableItemByKey(e,t,r,n){return(await this.sendRequest(!1,`/rpc/v1/tables/${e}/item`,{key_type:t,value_type:r,key:n})).data}async waitForTransactionCompletion(e){for(let t=0;t<300;t++){let t=await this.getTransactionStatus(e);if(null!==t&&"Pending"!=t)return t;await x(1e3)}return"Pending"}async sendTx(e,t){!0===(t?.enableTransactionSimulation??L)&&await this.simulateTx(e);let r=await this.sendRequest(!1,"/rpc/v1/transactions/submit",e);return console.log("Transaction Request Sent, Waiting For Completion"),{txHash:r.data,result:!0===(t?.enableWaitForTransaction??C)?await this.waitForTransactionCompletion(r.data):"Pending"}}static getSupraTransactionSignatureMessage(e){let t=Uint8Array.from(Buffer.from(K.default.sha3_256(e instanceof g.TxnBuilderTypes.RawTransaction?M:H),"hex")),r=new Uint8Array(g.BCS.bcsToBytes(e)),n=new Uint8Array(t.length+r.length);return n.set(t),n.set(r,t.length),n}static signSupraTransaction(t,r){return t.signBuffer(e.getSupraTransactionSignatureMessage(r))}static signSupraMultiTransaction(t,r){let n=new g.TxnBuilderTypes.Ed25519Signature(e.signSupraTransaction(t,r).toUint8Array());return new g.TxnBuilderTypes.AccountAuthenticatorEd25519(new g.TxnBuilderTypes.Ed25519PublicKey(t.signingKey.publicKey),n)}getTransactionPayloadJSON(e){if(e instanceof g.TxnBuilderTypes.TransactionPayloadEntryFunction)return{EntryFunction:{module:{address:e.value.module_name.address.toHexString().toString(),name:e.value.module_name.name.value},function:e.value.function_name.value,ty_args:m(e.value.ty_args),args:k(e.value.args)}};if(e instanceof g.TxnBuilderTypes.TransactionPayloadScript)return{Script:{code:Array.from(e.value.code),ty_args:m(e.value.ty_args),args:w(e.value.args)}};if(e instanceof g.TxnBuilderTypes.TransactionPayloadAutomationRegistration){if(e.value instanceof g.TxnBuilderTypes.AutomationRegistrationParamsV1)return{AutomationRegistration:{V1:{automated_function:{module:{address:e.value.value.automated_function.module_name.address.toHexString().toString(),name:e.value.value.automated_function.module_name.name.value},function:e.value.value.automated_function.function_name.value,ty_args:m(e.value.value.automated_function.ty_args),args:k(e.value.value.automated_function.args)},max_gas_amount:Number(e.value.value.max_gas_amount),gas_price_cap:Number(e.value.value.gas_price_cap),automation_fee_cap_for_epoch:Number(e.value.value.automation_fee_cap_for_epoch),expiration_timestamp_secs:Number(e.value.value.expiration_timestamp_secs),aux_data:k(e.value.value.aux_data)}}};throw new Error("Unknown variant of `AutomationRegistrationParams`")}throw new Error("Unknown variant of `TransactionPayload`")}getRawTxnJSON(e){return{sender:e.sender.toHexString().toString(),sequence_number:Number(e.sequence_number),payload:this.getTransactionPayloadJSON(e.payload),max_gas_amount:Number(e.max_gas_amount),gas_unit_price:Number(e.gas_unit_price),expiration_timestamp_secs:Number(e.expiration_timestamp_secs),chain_id:e.chain_id.value}}getSendTxPayload(t,r){return{Move:{raw_txn:this.getRawTxnJSON(r),authenticator:{Ed25519:{public_key:t.pubKey().toString(),signature:e.signSupraTransaction(t,r).toString()}}}}}async sendTxUsingSerializedRawTransaction(e,t,r){let n=this.getSendTxPayload(e,g.TxnBuilderTypes.RawTransaction.deserialize(new g.BCS.Deserializer(t)));return await this.sendTx(n,r)}async sendTxUsingSerializedRawTransactionAndSignature(e,t,r,n){let s={Move:{raw_txn:this.getRawTxnJSON(g.TxnBuilderTypes.RawTransaction.deserialize(new g.BCS.Deserializer(r))),authenticator:{Ed25519:{public_key:e.toString(),signature:t.toString()}}}};return await this.sendTx(s,n)}async sendSponsorTransaction(e,t,r,n,s,i=[],o){let a=[];i.forEach((e=>{a.push(this.getED25519AuthenticatorJSON(e))}));let c={Move:{raw_txn:this.getRawTxnJSON(r),authenticator:{FeePayer:{sender:this.getED25519AuthenticatorJSON(n),secondary_signer_addresses:t,secondary_signers:a,fee_payer_address:e,fee_payer_signer:this.getED25519AuthenticatorJSON(s)}}}};return await this.sendTx(c,o)}async sendMultiAgentTransaction(e,t,r,n,s){let i=[];n.forEach((e=>{i.push(this.getED25519AuthenticatorJSON(e))}));let o={Move:{raw_txn:this.getRawTxnJSON(t),authenticator:{MultiAgent:{sender:this.getED25519AuthenticatorJSON(r),secondary_signer_addresses:e,secondary_signers:i}}}};return await this.sendTx(o,s)}getED25519AuthenticatorJSON(e){return{Ed25519:{public_key:Buffer.from(e.public_key.value).toString("hex"),signature:Buffer.from(e.signature.value).toString("hex")}}}createRawTxObjectInner(e,t,r,n){return new g.TxnBuilderTypes.RawTransaction(new g.TxnBuilderTypes.AccountAddress(e.toUint8Array()),t,r,n?.maxGas??T,n?.gasUnitPrice??R,n?.txExpiryTime??BigInt(Math.ceil(Date.now()/z)+U),this.chainId)}async createRawTxObject(e,t,r,n,s,i,o,a){let c=new g.TxnBuilderTypes.TransactionPayloadEntryFunction(new g.TxnBuilderTypes.EntryFunction(new g.TxnBuilderTypes.ModuleId(new g.TxnBuilderTypes.AccountAddress(new g.HexString(S(r)).toUint8Array()),new g.TxnBuilderTypes.Identifier(n)),new g.TxnBuilderTypes.Identifier(s),i,o));return this.createRawTxObjectInner(e,t,c,a)}async createSerializedRawTxObject(e,t,r,n,s,i,o,a){return g.BCS.bcsToBytes(await this.createRawTxObject(e,t,r,n,s,i,o,a))}createSerializedScriptTxPayloadRawTxObject(e,t,r,n,s,i){let o=new g.TxnBuilderTypes.TransactionPayloadScript(new g.TxnBuilderTypes.Script(r,n,s));return g.BCS.bcsToBytes(this.createRawTxObjectInner(e,t,o,i))}createSerializedAutomationRegistrationTxPayloadRawTxObject(e,t,r,n,s,i,o,a,c,u,l,d,h){let f=new g.TxnBuilderTypes.TransactionPayloadAutomationRegistration(new g.TxnBuilderTypes.AutomationRegistrationParamsV1(new g.TxnBuilderTypes.AutomationRegistrationParamsV1Data(new g.TxnBuilderTypes.EntryFunction(new g.TxnBuilderTypes.ModuleId(new g.TxnBuilderTypes.AccountAddress(new g.HexString(S(r)).toUint8Array()),new g.TxnBuilderTypes.Identifier(n)),new g.TxnBuilderTypes.Identifier(s),i,o),a,c,u,l,d)));return g.BCS.bcsToBytes(this.createRawTxObjectInner(e,t,f,h))}static createSignedTransaction(t,r){return new g.TxnBuilderTypes.SignedTransaction(r,new g.TxnBuilderTypes.AccountAuthenticatorEd25519(new g.TxnBuilderTypes.Ed25519PublicKey(t.pubKey().toUint8Array()),new g.TxnBuilderTypes.Ed25519Signature(e.signSupraTransaction(t,r).toUint8Array())))}static deriveTransactionHash(e){return K.default.keccak256(g.BCS.bcsToBytes(e))}async transferSupraCoin(e,t,r,n){if(n?.optionalTransactionPayloadArgs&&!n?.optionalTransactionPayloadArgs?.maxGas){let e=BigInt(N);0==await this.isAccountExists(t)&&(e=BigInt(W)),n.optionalTransactionPayloadArgs.maxGas=e}let s=this.getSendTxPayload(e,await this.createRawTxObject(e.address(),(await this.getAccountInfo(e.address())).sequence_number,P,"supra_account","transfer",[],[t.toUint8Array(),g.BCS.bcsSerializeUint64(r)],n?.optionalTransactionPayloadArgs));return await this.sendTx(s,n?.enableTransactionWaitAndSimulationArgs)}async transferCoin(e,t,r,n,s){let i=this.getSendTxPayload(e,await this.createRawTxObject(e.address(),(await this.getAccountInfo(e.address())).sequence_number,P,"supra_account","transfer_coins",[new g.TxnBuilderTypes.TypeTagParser(n).parseTypeTag()],[t.toUint8Array(),g.BCS.bcsSerializeUint64(r)],s?.optionalTransactionPayloadArgs));return await this.sendTx(i,s?.enableTransactionWaitAndSimulationArgs)}async publishPackage(e,t,r,n){let s=new g.BCS.Serializer,i=[];for(let e=0;e<r.length;e++)i.push(new g.TxnBuilderTypes.Module(Uint8Array.from(r[e])));g.BCS.serializeVector(i,s);let o=this.getSendTxPayload(e,await this.createRawTxObject(e.address(),(await this.getAccountInfo(e.address())).sequence_number,P,"code","publish_package_txn",[],[g.BCS.bcsSerializeBytes(t),s.getBytes()],n?.optionalTransactionPayloadArgs));return await this.sendTx(o,n?.enableTransactionWaitAndSimulationArgs)}async simulateTx(e){let t=e.Move.authenticator,r=JSON.parse(JSON.stringify(t));e.Move.authenticator=r,this.unsetAuthenticatorSignatures(e.Move.authenticator);let n=await this.sendRequest(!1,"/rpc/v1/transactions/simulate",e);if(e.Move.authenticator=t,"Executed successfully"!==n.data.output.Move.vm_status)throw new Error(`Transaction simulation failed. Reason: ${n?.data?.output?.Move?.vm_status}`);return console.log("Transaction Simulation Done"),n.data}unsetAuthenticatorSignatures(e){let t="0x"+"0".repeat(128);"Ed25519"in e?e.Ed25519.signature=t:"FeePayer"in e?(e.FeePayer.sender.Ed25519.signature=t,e.FeePayer.fee_payer_signer.Ed25519.signature=t,e.FeePayer.secondary_signers.forEach((e=>{e.Ed25519.signature=t}))):(e.MultiAgent.sender.Ed25519.signature=t,e.MultiAgent.secondary_signers.forEach((e=>{e.Ed25519.signature=t})))}async simulateTxUsingSerializedRawTransaction(e,t){let r={Move:{raw_txn:this.getRawTxnJSON(g.TxnBuilderTypes.RawTransaction.deserialize(new g.BCS.Deserializer(t))),authenticator:e}};return await this.simulateTx(r)}}},18948:(e,t)=>{"use strict";function r(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function s(e){this.tokens=[].slice.call(e)}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var i=-1;function o(e,t){if(e)throw TypeError("Decoder error");return t||65533}var a="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var t=e.fatal,n=0,s=0,a=0,c=128,u=191;this.handler=function(e,l){if(-1===l&&0!==a)return a=0,o(t);if(-1===l)return i;if(0===a){if(r(l,0,127))return l;if(r(l,194,223))a=1,n=l-192;else if(r(l,224,239))224===l&&(c=160),237===l&&(u=159),a=2,n=l-224;else{if(!r(l,240,244))return o(t);240===l&&(c=144),244===l&&(u=143),a=3,n=l-240}return n<<=6*a,null}if(!r(l,c,u))return n=a=s=0,c=128,u=191,e.prepend(l),o(t);if(c=128,u=191,n+=l-128<<6*(a-(s+=1)),s!==a)return null;var d=n;return n=a=s=0,d}}function d(e){e.fatal;this.handler=function(e,t){if(-1===t)return i;if(r(t,0,127))return t;var n,s;r(t,128,2047)?(n=1,s=192):r(t,2048,65535)?(n=2,s=224):r(t,65536,1114111)&&(n=3,s=240);for(var o=[(t>>6*n)+s];n>0;){var a=t>>6*(n-1);o.push(128|63&a),n-=1}return o}}c.prototype={decode:function(e,t){var r;r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var o,a=new s(r),c=[];!a.endOfStream()&&(o=this._decoder.handler(a,a.read()))!==i;)null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o));if(!this._streaming){do{if((o=this._decoder.handler(a,a.read()))===i)break;null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(c)}},u.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(t.stream);for(var r,o=[],a=new s(function(e){for(var t=String(e),r=t.length,n=0,s=[];n<r;){var i=t.charCodeAt(n);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(n===r-1)s.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=1023&i,c=1023&o;s.push(65536+(a<<10)+c),n+=1}else s.push(65533)}n+=1}return s}(e));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==i;)Array.isArray(r)?o.push.apply(o,r):o.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==i;)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)}},t.TextEncoder=u,t.TextDecoder=c},7453:(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),a=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function g(e,t,r,n,s){var i,o=0;for(i=0;i<s;i++)o|=e[t+i]^r[n+i];return(1&o-1>>>8)-1}function y(e,t,r,n){return g(e,t,r,n,16)}function b(e,t,r,n){return g(e,t,r,n,32)}function m(e,t,r,n){!function(e,t,r,n){for(var s,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,k=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=i,x=o,_=a,A=c,v=u,I=l,E=d,B=h,T=f,R=p,U=g,z=y,P=b,O=m,L=w,C=k,N=0;N<20;N+=2)S^=(s=(P^=(s=(T^=(s=(v^=(s=S+P|0)<<7|s>>>25)+S|0)<<9|s>>>23)+v|0)<<13|s>>>19)+T|0)<<18|s>>>14,I^=(s=(x^=(s=(O^=(s=(R^=(s=I+x|0)<<7|s>>>25)+I|0)<<9|s>>>23)+R|0)<<13|s>>>19)+O|0)<<18|s>>>14,U^=(s=(E^=(s=(_^=(s=(L^=(s=U+E|0)<<7|s>>>25)+U|0)<<9|s>>>23)+L|0)<<13|s>>>19)+_|0)<<18|s>>>14,C^=(s=(z^=(s=(B^=(s=(A^=(s=C+z|0)<<7|s>>>25)+C|0)<<9|s>>>23)+A|0)<<13|s>>>19)+B|0)<<18|s>>>14,S^=(s=(A^=(s=(_^=(s=(x^=(s=S+A|0)<<7|s>>>25)+S|0)<<9|s>>>23)+x|0)<<13|s>>>19)+_|0)<<18|s>>>14,I^=(s=(v^=(s=(B^=(s=(E^=(s=I+v|0)<<7|s>>>25)+I|0)<<9|s>>>23)+E|0)<<13|s>>>19)+B|0)<<18|s>>>14,U^=(s=(R^=(s=(T^=(s=(z^=(s=U+R|0)<<7|s>>>25)+U|0)<<9|s>>>23)+z|0)<<13|s>>>19)+T|0)<<18|s>>>14,C^=(s=(L^=(s=(O^=(s=(P^=(s=C+L|0)<<7|s>>>25)+C|0)<<9|s>>>23)+P|0)<<13|s>>>19)+O|0)<<18|s>>>14;S=S+i|0,x=x+o|0,_=_+a|0,A=A+c|0,v=v+u|0,I=I+l|0,E=E+d|0,B=B+h|0,T=T+f|0,R=R+p|0,U=U+g|0,z=z+y|0,P=P+b|0,O=O+m|0,L=L+w|0,C=C+k|0,e[0]=S>>>0&255,e[1]=S>>>8&255,e[2]=S>>>16&255,e[3]=S>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=v>>>0&255,e[17]=v>>>8&255,e[18]=v>>>16&255,e[19]=v>>>24&255,e[20]=I>>>0&255,e[21]=I>>>8&255,e[22]=I>>>16&255,e[23]=I>>>24&255,e[24]=E>>>0&255,e[25]=E>>>8&255,e[26]=E>>>16&255,e[27]=E>>>24&255,e[28]=B>>>0&255,e[29]=B>>>8&255,e[30]=B>>>16&255,e[31]=B>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=R>>>0&255,e[37]=R>>>8&255,e[38]=R>>>16&255,e[39]=R>>>24&255,e[40]=U>>>0&255,e[41]=U>>>8&255,e[42]=U>>>16&255,e[43]=U>>>24&255,e[44]=z>>>0&255,e[45]=z>>>8&255,e[46]=z>>>16&255,e[47]=z>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=O>>>0&255,e[53]=O>>>8&255,e[54]=O>>>16&255,e[55]=O>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=C>>>0&255,e[61]=C>>>8&255,e[62]=C>>>16&255,e[63]=C>>>24&255}(e,t,r,n)}function w(e,t,r,n){!function(e,t,r,n){for(var s,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,k=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=0;S<20;S+=2)i^=(s=(b^=(s=(f^=(s=(u^=(s=i+b|0)<<7|s>>>25)+i|0)<<9|s>>>23)+u|0)<<13|s>>>19)+f|0)<<18|s>>>14,l^=(s=(o^=(s=(m^=(s=(p^=(s=l+o|0)<<7|s>>>25)+l|0)<<9|s>>>23)+p|0)<<13|s>>>19)+m|0)<<18|s>>>14,g^=(s=(d^=(s=(a^=(s=(w^=(s=g+d|0)<<7|s>>>25)+g|0)<<9|s>>>23)+w|0)<<13|s>>>19)+a|0)<<18|s>>>14,k^=(s=(y^=(s=(h^=(s=(c^=(s=k+y|0)<<7|s>>>25)+k|0)<<9|s>>>23)+c|0)<<13|s>>>19)+h|0)<<18|s>>>14,i^=(s=(c^=(s=(a^=(s=(o^=(s=i+c|0)<<7|s>>>25)+i|0)<<9|s>>>23)+o|0)<<13|s>>>19)+a|0)<<18|s>>>14,l^=(s=(u^=(s=(h^=(s=(d^=(s=l+u|0)<<7|s>>>25)+l|0)<<9|s>>>23)+d|0)<<13|s>>>19)+h|0)<<18|s>>>14,g^=(s=(p^=(s=(f^=(s=(y^=(s=g+p|0)<<7|s>>>25)+g|0)<<9|s>>>23)+y|0)<<13|s>>>19)+f|0)<<18|s>>>14,k^=(s=(w^=(s=(m^=(s=(b^=(s=k+w|0)<<7|s>>>25)+k|0)<<9|s>>>23)+b|0)<<13|s>>>19)+m|0)<<18|s>>>14;e[0]=i>>>0&255,e[1]=i>>>8&255,e[2]=i>>>16&255,e[3]=i>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var k=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(e,t,r,n,s,i,o){var a,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=i[c];for(;s>=64;){for(m(l,u,o,k),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;s-=64,t+=64,n+=64}if(s>0)for(m(l,u,o,k),c=0;c<s;c++)e[t+c]=r[n+c]^l[c];return 0}function x(e,t,r,n,s){var i,o,a=new Uint8Array(16),c=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(m(c,a,s,k),o=0;o<64;o++)e[t+o]=c[o];for(i=1,o=8;o<16;o++)i=i+(255&a[o])|0,a[o]=255&i,i>>>=8;r-=64,t+=64}if(r>0)for(m(c,a,s,k),o=0;o<r;o++)e[t+o]=c[o];return 0}function _(e,t,r,n,s){var i=new Uint8Array(32);w(i,n,s,k);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return x(e,t,r,o,i)}function A(e,t,r,n,s,i,o){var a=new Uint8Array(32);w(a,i,o,k);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=i[u+16];return S(e,t,r,n,s,c,a)}var v=function(e){var t,r,n,s,i,o,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),s=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|s<<9),i=255&e[8]|(255&e[9])<<8,this.r[4]=255&(s>>>4|i<<12),this.r[5]=i>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(i>>>14|o<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function I(e,t,r,n,s,i){var o=new v(i);return o.update(r,n,s),o.finish(e,t),0}function E(e,t,r,n,s,i){var o=new Uint8Array(16);return I(o,0,r,n,s,i),y(e,t,o,0)}function B(e,t,r,n,s){var i;if(r<32)return-1;for(A(e,0,t,0,r,n,s),I(e,16,e,32,r-32,e),i=0;i<16;i++)e[i]=0;return 0}function T(e,t,r,n,s){var i,o=new Uint8Array(32);if(r<32)return-1;if(_(o,0,32,n,s),0!==E(t,16,t,32,r-32,o))return-1;for(A(e,0,t,0,r,n,s),i=0;i<32;i++)e[i]=0;return 0}function R(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function U(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function z(e,t,r){for(var n,s=~(r-1),i=0;i<16;i++)n=s&(e[i]^t[i]),e[i]^=n,t[i]^=n}function P(e,r){var n,s,i,o=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(U(a),U(a),U(a),s=0;s<2;s++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,z(a,o,1-i)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function O(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return P(r,e),P(n,t),b(r,0,n,0)}function L(e){var t=new Uint8Array(32);return P(t,e),1&t[0]}function C(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function N(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function W(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function M(e,t,r){var n,s,i=0,o=0,a=0,c=0,u=0,l=0,d=0,h=0,f=0,p=0,g=0,y=0,b=0,m=0,w=0,k=0,S=0,x=0,_=0,A=0,v=0,I=0,E=0,B=0,T=0,R=0,U=0,z=0,P=0,O=0,L=0,C=r[0],N=r[1],W=r[2],M=r[3],H=r[4],K=r[5],j=r[6],q=r[7],D=r[8],F=r[9],G=r[10],$=r[11],J=r[12],V=r[13],X=r[14],Z=r[15];i+=(n=t[0])*C,o+=n*N,a+=n*W,c+=n*M,u+=n*H,l+=n*K,d+=n*j,h+=n*q,f+=n*D,p+=n*F,g+=n*G,y+=n*$,b+=n*J,m+=n*V,w+=n*X,k+=n*Z,o+=(n=t[1])*C,a+=n*N,c+=n*W,u+=n*M,l+=n*H,d+=n*K,h+=n*j,f+=n*q,p+=n*D,g+=n*F,y+=n*G,b+=n*$,m+=n*J,w+=n*V,k+=n*X,S+=n*Z,a+=(n=t[2])*C,c+=n*N,u+=n*W,l+=n*M,d+=n*H,h+=n*K,f+=n*j,p+=n*q,g+=n*D,y+=n*F,b+=n*G,m+=n*$,w+=n*J,k+=n*V,S+=n*X,x+=n*Z,c+=(n=t[3])*C,u+=n*N,l+=n*W,d+=n*M,h+=n*H,f+=n*K,p+=n*j,g+=n*q,y+=n*D,b+=n*F,m+=n*G,w+=n*$,k+=n*J,S+=n*V,x+=n*X,_+=n*Z,u+=(n=t[4])*C,l+=n*N,d+=n*W,h+=n*M,f+=n*H,p+=n*K,g+=n*j,y+=n*q,b+=n*D,m+=n*F,w+=n*G,k+=n*$,S+=n*J,x+=n*V,_+=n*X,A+=n*Z,l+=(n=t[5])*C,d+=n*N,h+=n*W,f+=n*M,p+=n*H,g+=n*K,y+=n*j,b+=n*q,m+=n*D,w+=n*F,k+=n*G,S+=n*$,x+=n*J,_+=n*V,A+=n*X,v+=n*Z,d+=(n=t[6])*C,h+=n*N,f+=n*W,p+=n*M,g+=n*H,y+=n*K,b+=n*j,m+=n*q,w+=n*D,k+=n*F,S+=n*G,x+=n*$,_+=n*J,A+=n*V,v+=n*X,I+=n*Z,h+=(n=t[7])*C,f+=n*N,p+=n*W,g+=n*M,y+=n*H,b+=n*K,m+=n*j,w+=n*q,k+=n*D,S+=n*F,x+=n*G,_+=n*$,A+=n*J,v+=n*V,I+=n*X,E+=n*Z,f+=(n=t[8])*C,p+=n*N,g+=n*W,y+=n*M,b+=n*H,m+=n*K,w+=n*j,k+=n*q,S+=n*D,x+=n*F,_+=n*G,A+=n*$,v+=n*J,I+=n*V,E+=n*X,B+=n*Z,p+=(n=t[9])*C,g+=n*N,y+=n*W,b+=n*M,m+=n*H,w+=n*K,k+=n*j,S+=n*q,x+=n*D,_+=n*F,A+=n*G,v+=n*$,I+=n*J,E+=n*V,B+=n*X,T+=n*Z,g+=(n=t[10])*C,y+=n*N,b+=n*W,m+=n*M,w+=n*H,k+=n*K,S+=n*j,x+=n*q,_+=n*D,A+=n*F,v+=n*G,I+=n*$,E+=n*J,B+=n*V,T+=n*X,R+=n*Z,y+=(n=t[11])*C,b+=n*N,m+=n*W,w+=n*M,k+=n*H,S+=n*K,x+=n*j,_+=n*q,A+=n*D,v+=n*F,I+=n*G,E+=n*$,B+=n*J,T+=n*V,R+=n*X,U+=n*Z,b+=(n=t[12])*C,m+=n*N,w+=n*W,k+=n*M,S+=n*H,x+=n*K,_+=n*j,A+=n*q,v+=n*D,I+=n*F,E+=n*G,B+=n*$,T+=n*J,R+=n*V,U+=n*X,z+=n*Z,m+=(n=t[13])*C,w+=n*N,k+=n*W,S+=n*M,x+=n*H,_+=n*K,A+=n*j,v+=n*q,I+=n*D,E+=n*F,B+=n*G,T+=n*$,R+=n*J,U+=n*V,z+=n*X,P+=n*Z,w+=(n=t[14])*C,k+=n*N,S+=n*W,x+=n*M,_+=n*H,A+=n*K,v+=n*j,I+=n*q,E+=n*D,B+=n*F,T+=n*G,R+=n*$,U+=n*J,z+=n*V,P+=n*X,O+=n*Z,k+=(n=t[15])*C,o+=38*(x+=n*W),a+=38*(_+=n*M),c+=38*(A+=n*H),u+=38*(v+=n*K),l+=38*(I+=n*j),d+=38*(E+=n*q),h+=38*(B+=n*D),f+=38*(T+=n*F),p+=38*(R+=n*G),g+=38*(U+=n*$),y+=38*(z+=n*J),b+=38*(P+=n*V),m+=38*(O+=n*X),w+=38*(L+=n*Z),i=(n=(i+=38*(S+=n*N))+(s=1)+65535)-65536*(s=Math.floor(n/65536)),o=(n=o+s+65535)-65536*(s=Math.floor(n/65536)),a=(n=a+s+65535)-65536*(s=Math.floor(n/65536)),c=(n=c+s+65535)-65536*(s=Math.floor(n/65536)),u=(n=u+s+65535)-65536*(s=Math.floor(n/65536)),l=(n=l+s+65535)-65536*(s=Math.floor(n/65536)),d=(n=d+s+65535)-65536*(s=Math.floor(n/65536)),h=(n=h+s+65535)-65536*(s=Math.floor(n/65536)),f=(n=f+s+65535)-65536*(s=Math.floor(n/65536)),p=(n=p+s+65535)-65536*(s=Math.floor(n/65536)),g=(n=g+s+65535)-65536*(s=Math.floor(n/65536)),y=(n=y+s+65535)-65536*(s=Math.floor(n/65536)),b=(n=b+s+65535)-65536*(s=Math.floor(n/65536)),m=(n=m+s+65535)-65536*(s=Math.floor(n/65536)),w=(n=w+s+65535)-65536*(s=Math.floor(n/65536)),k=(n=k+s+65535)-65536*(s=Math.floor(n/65536)),i=(n=(i+=s-1+37*(s-1))+(s=1)+65535)-65536*(s=Math.floor(n/65536)),o=(n=o+s+65535)-65536*(s=Math.floor(n/65536)),a=(n=a+s+65535)-65536*(s=Math.floor(n/65536)),c=(n=c+s+65535)-65536*(s=Math.floor(n/65536)),u=(n=u+s+65535)-65536*(s=Math.floor(n/65536)),l=(n=l+s+65535)-65536*(s=Math.floor(n/65536)),d=(n=d+s+65535)-65536*(s=Math.floor(n/65536)),h=(n=h+s+65535)-65536*(s=Math.floor(n/65536)),f=(n=f+s+65535)-65536*(s=Math.floor(n/65536)),p=(n=p+s+65535)-65536*(s=Math.floor(n/65536)),g=(n=g+s+65535)-65536*(s=Math.floor(n/65536)),y=(n=y+s+65535)-65536*(s=Math.floor(n/65536)),b=(n=b+s+65535)-65536*(s=Math.floor(n/65536)),m=(n=m+s+65535)-65536*(s=Math.floor(n/65536)),w=(n=w+s+65535)-65536*(s=Math.floor(n/65536)),k=(n=k+s+65535)-65536*(s=Math.floor(n/65536)),i+=s-1+37*(s-1),e[0]=i,e[1]=o,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=g,e[11]=y,e[12]=b,e[13]=m,e[14]=w,e[15]=k}function H(e,t){M(e,t,t)}function K(e,r){var n,s=t();for(n=0;n<16;n++)s[n]=r[n];for(n=253;n>=0;n--)H(s,s),2!==n&&4!==n&&M(s,s,r);for(n=0;n<16;n++)e[n]=s[n]}function j(e,r){var n,s=t();for(n=0;n<16;n++)s[n]=r[n];for(n=250;n>=0;n--)H(s,s),1!==n&&M(s,s,r);for(n=0;n<16;n++)e[n]=s[n]}function q(e,r,n){var s,i,o=new Uint8Array(32),a=new Float64Array(80),u=t(),l=t(),d=t(),h=t(),f=t(),p=t();for(i=0;i<31;i++)o[i]=r[i];for(o[31]=127&r[31]|64,o[0]&=248,C(a,n),i=0;i<16;i++)l[i]=a[i],h[i]=u[i]=d[i]=0;for(u[0]=h[0]=1,i=254;i>=0;--i)z(u,l,s=o[i>>>3]>>>(7&i)&1),z(d,h,s),N(f,u,d),W(u,u,d),N(d,l,h),W(l,l,h),H(h,f),H(p,u),M(u,d,u),M(d,l,f),N(f,u,d),W(u,u,d),H(l,u),W(d,h,p),M(u,d,c),N(u,u,h),M(d,d,u),M(u,h,p),M(h,l,a),H(l,f),z(u,l,s),z(d,h,s);for(i=0;i<16;i++)a[i+16]=u[i],a[i+32]=d[i],a[i+48]=l[i],a[i+64]=h[i];var g=a.subarray(32),y=a.subarray(16);return K(g,g),M(y,y,g),P(e,y),0}function D(e,t){return q(e,t,i)}function F(e,t){return n(t,32),D(e,t)}function G(e,t,r){var n=new Uint8Array(32);return q(n,r,t),w(e,s,n,k)}v.prototype.blocks=function(e,t,r){for(var n,s,i,o,a,c,u,l,d,h,f,p,g,y,b,m,w,k,S,x=this.fin?0:2048,_=this.h[0],A=this.h[1],v=this.h[2],I=this.h[3],E=this.h[4],B=this.h[5],T=this.h[6],R=this.h[7],U=this.h[8],z=this.h[9],P=this.r[0],O=this.r[1],L=this.r[2],C=this.r[3],N=this.r[4],W=this.r[5],M=this.r[6],H=this.r[7],K=this.r[8],j=this.r[9];r>=16;)h=d=0,h+=(_+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*P,h+=(A+=8191&(n>>>13|(s=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*j),h+=(v+=8191&(s>>>10|(i=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*K),h+=(I+=8191&(i>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*H),d=(h+=(E+=8191&(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*M))>>>13,h&=8191,h+=(B+=a>>>1&8191)*(5*W),h+=(T+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*N),h+=(R+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*C),h+=(U+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*L),f=d+=(h+=(z+=l>>>5|x)*(5*O))>>>13,f+=_*O,f+=A*P,f+=v*(5*j),f+=I*(5*K),d=(f+=E*(5*H))>>>13,f&=8191,f+=B*(5*M),f+=T*(5*W),f+=R*(5*N),f+=U*(5*C),d+=(f+=z*(5*L))>>>13,f&=8191,p=d,p+=_*L,p+=A*O,p+=v*P,p+=I*(5*j),d=(p+=E*(5*K))>>>13,p&=8191,p+=B*(5*H),p+=T*(5*M),p+=R*(5*W),p+=U*(5*N),g=d+=(p+=z*(5*C))>>>13,g+=_*C,g+=A*L,g+=v*O,g+=I*P,d=(g+=E*(5*j))>>>13,g&=8191,g+=B*(5*K),g+=T*(5*H),g+=R*(5*M),g+=U*(5*W),y=d+=(g+=z*(5*N))>>>13,y+=_*N,y+=A*C,y+=v*L,y+=I*O,d=(y+=E*P)>>>13,y&=8191,y+=B*(5*j),y+=T*(5*K),y+=R*(5*H),y+=U*(5*M),b=d+=(y+=z*(5*W))>>>13,b+=_*W,b+=A*N,b+=v*C,b+=I*L,d=(b+=E*O)>>>13,b&=8191,b+=B*P,b+=T*(5*j),b+=R*(5*K),b+=U*(5*H),m=d+=(b+=z*(5*M))>>>13,m+=_*M,m+=A*W,m+=v*N,m+=I*C,d=(m+=E*L)>>>13,m&=8191,m+=B*O,m+=T*P,m+=R*(5*j),m+=U*(5*K),w=d+=(m+=z*(5*H))>>>13,w+=_*H,w+=A*M,w+=v*W,w+=I*N,d=(w+=E*C)>>>13,w&=8191,w+=B*L,w+=T*O,w+=R*P,w+=U*(5*j),k=d+=(w+=z*(5*K))>>>13,k+=_*K,k+=A*H,k+=v*M,k+=I*W,d=(k+=E*N)>>>13,k&=8191,k+=B*C,k+=T*L,k+=R*O,k+=U*P,S=d+=(k+=z*(5*j))>>>13,S+=_*j,S+=A*K,S+=v*H,S+=I*M,d=(S+=E*W)>>>13,S&=8191,S+=B*N,S+=T*C,S+=R*L,S+=U*O,_=h=8191&(d=(d=((d+=(S+=z*P)>>>13)<<2)+d|0)+(h&=8191)|0),A=f+=d>>>=13,v=p&=8191,I=g&=8191,E=y&=8191,B=b&=8191,T=m&=8191,R=w&=8191,U=k&=8191,z=S&=8191,t+=16,r-=16;this.h[0]=_,this.h[1]=A,this.h[2]=v,this.h[3]=I,this.h[4]=E,this.h[5]=B,this.h[6]=T,this.h[7]=R,this.h[8]=U,this.h[9]=z},v.prototype.finish=function(e,t){var r,n,s,i,o=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,i=1;i<10;i++)o[i]=this.h[i]+r,r=o[i]>>>13,o[i]&=8191;for(o[9]-=8192,n=(1^r)-1,i=0;i<10;i++)o[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|o[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),s=this.h[0]+this.pad[0],this.h[0]=65535&s,i=1;i<8;i++)s=(this.h[i]+this.pad[i]|0)+(s>>>16)|0,this.h[i]=65535&s;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},v.prototype.update=function(e,t,r){var n,s;if(this.leftover){for((s=16-this.leftover)>r&&(s=r),n=0;n<s;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=s,t+=s,this.leftover+=s,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(s=r-r%16,this.blocks(e,t,s),t+=s,r-=s),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var $=B,J=T;var V=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function X(e,t,r,n){for(var s,i,o,a,c,u,l,d,h,f,p,g,y,b,m,w,k,S,x,_,A,v,I,E,B,T,R=new Int32Array(16),U=new Int32Array(16),z=e[0],P=e[1],O=e[2],L=e[3],C=e[4],N=e[5],W=e[6],M=e[7],H=t[0],K=t[1],j=t[2],q=t[3],D=t[4],F=t[5],G=t[6],$=t[7],J=0;n>=128;){for(x=0;x<16;x++)_=8*x+J,R[x]=r[_+0]<<24|r[_+1]<<16|r[_+2]<<8|r[_+3],U[x]=r[_+4]<<24|r[_+5]<<16|r[_+6]<<8|r[_+7];for(x=0;x<80;x++)if(s=z,i=P,o=O,a=L,c=C,u=N,l=W,M,h=H,f=K,p=j,g=q,y=D,b=F,m=G,$,I=65535&(v=$),E=v>>>16,B=65535&(A=M),T=A>>>16,I+=65535&(v=(D>>>14|C<<18)^(D>>>18|C<<14)^(C>>>9|D<<23)),E+=v>>>16,B+=65535&(A=(C>>>14|D<<18)^(C>>>18|D<<14)^(D>>>9|C<<23)),T+=A>>>16,I+=65535&(v=D&F^~D&G),E+=v>>>16,B+=65535&(A=C&N^~C&W),T+=A>>>16,A=V[2*x],I+=65535&(v=V[2*x+1]),E+=v>>>16,B+=65535&A,T+=A>>>16,A=R[x%16],E+=(v=U[x%16])>>>16,B+=65535&A,T+=A>>>16,B+=(E+=(I+=65535&v)>>>16)>>>16,I=65535&(v=S=65535&I|E<<16),E=v>>>16,B=65535&(A=k=65535&B|(T+=B>>>16)<<16),T=A>>>16,I+=65535&(v=(H>>>28|z<<4)^(z>>>2|H<<30)^(z>>>7|H<<25)),E+=v>>>16,B+=65535&(A=(z>>>28|H<<4)^(H>>>2|z<<30)^(H>>>7|z<<25)),T+=A>>>16,E+=(v=H&K^H&j^K&j)>>>16,B+=65535&(A=z&P^z&O^P&O),T+=A>>>16,d=65535&(B+=(E+=(I+=65535&v)>>>16)>>>16)|(T+=B>>>16)<<16,w=65535&I|E<<16,I=65535&(v=g),E=v>>>16,B=65535&(A=a),T=A>>>16,E+=(v=S)>>>16,B+=65535&(A=k),T+=A>>>16,P=s,O=i,L=o,C=a=65535&(B+=(E+=(I+=65535&v)>>>16)>>>16)|(T+=B>>>16)<<16,N=c,W=u,M=l,z=d,K=h,j=f,q=p,D=g=65535&I|E<<16,F=y,G=b,$=m,H=w,x%16==15)for(_=0;_<16;_++)A=R[_],I=65535&(v=U[_]),E=v>>>16,B=65535&A,T=A>>>16,A=R[(_+9)%16],I+=65535&(v=U[(_+9)%16]),E+=v>>>16,B+=65535&A,T+=A>>>16,k=R[(_+1)%16],I+=65535&(v=((S=U[(_+1)%16])>>>1|k<<31)^(S>>>8|k<<24)^(S>>>7|k<<25)),E+=v>>>16,B+=65535&(A=(k>>>1|S<<31)^(k>>>8|S<<24)^k>>>7),T+=A>>>16,k=R[(_+14)%16],E+=(v=((S=U[(_+14)%16])>>>19|k<<13)^(k>>>29|S<<3)^(S>>>6|k<<26))>>>16,B+=65535&(A=(k>>>19|S<<13)^(S>>>29|k<<3)^k>>>6),T+=A>>>16,T+=(B+=(E+=(I+=65535&v)>>>16)>>>16)>>>16,R[_]=65535&B|T<<16,U[_]=65535&I|E<<16;I=65535&(v=H),E=v>>>16,B=65535&(A=z),T=A>>>16,A=e[0],E+=(v=t[0])>>>16,B+=65535&A,T+=A>>>16,T+=(B+=(E+=(I+=65535&v)>>>16)>>>16)>>>16,e[0]=z=65535&B|T<<16,t[0]=H=65535&I|E<<16,I=65535&(v=K),E=v>>>16,B=65535&(A=P),T=A>>>16,A=e[1],E+=(v=t[1])>>>16,B+=65535&A,T+=A>>>16,T+=(B+=(E+=(I+=65535&v)>>>16)>>>16)>>>16,e[1]=P=65535&B|T<<16,t[1]=K=65535&I|E<<16,I=65535&(v=j),E=v>>>16,B=65535&(A=O),T=A>>>16,A=e[2],E+=(v=t[2])>>>16,B+=65535&A,T+=A>>>16,T+=(B+=(E+=(I+=65535&v)>>>16)>>>16)>>>16,e[2]=O=65535&B|T<<16,t[2]=j=65535&I|E<<16,I=65535&(v=q),E=v>>>16,B=65535&(A=L),T=A>>>16,A=e[3],E+=(v=t[3])>>>16,B+=65535&A,T+=A>>>16,T+=(B+=(E+=(I+=65535&v)>>>16)>>>16)>>>16,e[3]=L=65535&B|T<<16,t[3]=q=65535&I|E<<16,I=65535&(v=D),E=v>>>16,B=65535&(A=C),T=A>>>16,A=e[4],E+=(v=t[4])>>>16,B+=65535&A,T+=A>>>16,T+=(B+=(E+=(I+=65535&v)>>>16)>>>16)>>>16,e[4]=C=65535&B|T<<16,t[4]=D=65535&I|E<<16,I=65535&(v=F),E=v>>>16,B=65535&(A=N),T=A>>>16,A=e[5],E+=(v=t[5])>>>16,B+=65535&A,T+=A>>>16,T+=(B+=(E+=(I+=65535&v)>>>16)>>>16)>>>16,e[5]=N=65535&B|T<<16,t[5]=F=65535&I|E<<16,I=65535&(v=G),E=v>>>16,B=65535&(A=W),T=A>>>16,A=e[6],E+=(v=t[6])>>>16,B+=65535&A,T+=A>>>16,T+=(B+=(E+=(I+=65535&v)>>>16)>>>16)>>>16,e[6]=W=65535&B|T<<16,t[6]=G=65535&I|E<<16,I=65535&(v=$),E=v>>>16,B=65535&(A=M),T=A>>>16,A=e[7],E+=(v=t[7])>>>16,B+=65535&A,T+=A>>>16,T+=(B+=(E+=(I+=65535&v)>>>16)>>>16)>>>16,e[7]=M=65535&B|T<<16,t[7]=$=65535&I|E<<16,J+=128,n-=128}return n}function Z(e,t,r){var n,s=new Int32Array(8),i=new Int32Array(8),o=new Uint8Array(256),a=r;for(s[0]=1779033703,s[1]=3144134277,s[2]=1013904242,s[3]=2773480762,s[4]=1359893119,s[5]=2600822924,s[6]=528734635,s[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,X(s,i,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,p(o,r-8,a/536870912|0,a<<3),X(s,i,o,r),n=0;n<8;n++)p(e,8*n,s[n],i[n]);return 0}function Y(e,r){var n=t(),s=t(),i=t(),o=t(),a=t(),c=t(),u=t(),d=t(),h=t();W(n,e[1],e[0]),W(h,r[1],r[0]),M(n,n,h),N(s,e[0],e[1]),N(h,r[0],r[1]),M(s,s,h),M(i,e[3],r[3]),M(i,i,l),M(o,e[2],r[2]),N(o,o,o),W(a,s,n),W(c,o,i),N(u,o,i),N(d,s,n),M(e[0],a,c),M(e[1],d,u),M(e[2],u,c),M(e[3],a,d)}function Q(e,t,r){var n;for(n=0;n<4;n++)z(e[n],t[n],r)}function ee(e,r){var n=t(),s=t(),i=t();K(i,r[2]),M(n,r[0],i),M(s,r[1],i),P(e,s),e[31]^=L(n)<<7}function te(e,t,r){var n,s;for(R(e[0],o),R(e[1],a),R(e[2],a),R(e[3],o),s=255;s>=0;--s)Q(e,t,n=r[s/8|0]>>(7&s)&1),Y(t,e),Y(e,e),Q(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];R(n[0],d),R(n[1],h),R(n[2],a),M(n[3],d,h),te(e,n,r)}function ne(e,r,s){var i,o=new Uint8Array(64),a=[t(),t(),t(),t()];for(s||n(r,32),Z(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64,re(a,o),ee(e,a),i=0;i<32;i++)r[i+32]=e[i];return 0}var se=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,s,i;for(n=63;n>=32;--n){for(r=0,s=n-32,i=n-12;s<i;++s)t[s]+=r-16*t[n]*se[s-(n-32)],r=Math.floor((t[s]+128)/256),t[s]-=256*r;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;s++)t[s]+=r-(t[31]>>4)*se[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;s++)t[s]-=r*se[s];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function ae(e,r,n,s){var i,o,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),d=[t(),t(),t(),t()];Z(a,s,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=n+64;for(i=0;i<n;i++)e[64+i]=r[i];for(i=0;i<32;i++)e[32+i]=a[32+i];for(Z(u,e.subarray(32),n+32),oe(u),re(d,u),ee(e,d),i=32;i<64;i++)e[i]=s[i];for(Z(c,e,n+64),oe(c),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=u[i];for(i=0;i<32;i++)for(o=0;o<32;o++)l[i+o]+=c[i]*a[o];return ie(e.subarray(32),l),h}function ce(e,r,n,s){var i,c=new Uint8Array(32),l=new Uint8Array(64),d=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),s=t(),i=t(),c=t(),l=t(),d=t(),h=t();return R(e[2],a),C(e[1],r),H(i,e[1]),M(c,i,u),W(i,i,e[2]),N(c,e[2],c),H(l,c),H(d,l),M(h,d,l),M(n,h,i),M(n,n,c),j(n,n),M(n,n,i),M(n,n,c),M(n,n,c),M(e[0],n,c),H(s,e[0]),M(s,s,c),O(s,i)&&M(e[0],e[0],f),H(s,e[0]),M(s,s,c),O(s,i)?-1:(L(e[0])===r[31]>>7&&W(e[0],o,e[0]),M(e[3],e[0],e[1]),0)}(h,s))return-1;for(i=0;i<n;i++)e[i]=r[i];for(i=0;i<32;i++)e[i+32]=s[i];if(Z(l,e,n),oe(l),te(d,h,l),re(h,r.subarray(32)),Y(d,h),ee(c,d),n-=64,b(r,0,c,0)){for(i=0;i<n;i++)e[i]=0;return-1}for(i=0;i<n;i++)e[i]=r[i+64];return n}var ue=16,le=64,de=32,he=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ge(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:A,crypto_stream:_,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:x,crypto_onetimeauth:I,crypto_onetimeauth_verify:E,crypto_verify_16:y,crypto_verify_32:b,crypto_secretbox:B,crypto_secretbox_open:T,crypto_scalarmult:q,crypto_scalarmult_base:D,crypto_box_beforenm:G,crypto_box_afternm:$,crypto_box:function(e,t,r,n,s,i){var o=new Uint8Array(32);return G(o,s,i),$(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,s,i){var o=new Uint8Array(32);return G(o,s,i),J(e,t,r,n,o)},crypto_box_keypair:F,crypto_hash:Z,crypto_sign:ae,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:he,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:se,pack25519:P,unpack25519:C,M,A:N,S:H,Z:W,pow2523:j,add:Y,set25519:R,modL:ie,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),fe(r,t);for(var n=new Uint8Array(32+e.length),s=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+32]=e[i];return B(s,n,n.length,t,r),s.subarray(ue)},e.secretbox.open=function(e,t,r){pe(e,t,r),fe(r,t);for(var n=new Uint8Array(ue+e.length),s=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+ue]=e[i];return n.length<32||0!==T(s,n,n.length,t,r)?null:s.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ue,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return q(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return D(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,s){var i=e.box.before(n,s);return e.secretbox(t,r,i)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return G(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,s){var i=e.box.before(n,s);return e.secretbox.open(t,r,i)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return F(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return D(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==he)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var s=new Uint8Array(n),i=0;i<s.length;i++)s[i]=r[i];return s},e.sign.detached=function(t,r){for(var n=e.sign(t,r),s=new Uint8Array(le),i=0;i<s.length;i++)s[i]=n[i];return s},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==de)throw new Error("bad public key size");var n,s=new Uint8Array(le+e.length),i=new Uint8Array(le+e.length);for(n=0;n<le;n++)s[n]=t[n];for(n=0;n<e.length;n++)s[n+le]=e[n];return ce(i,s,s.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(he);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==he)throw new Error("bad secret key size");for(var t=new Uint8Array(de),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),r=new Uint8Array(he),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=he,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===g(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,s=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(s.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=s[n];ge(s)}))}else(t=r(10620))&&t.randomBytes&&e.setPRNG((function(e,r){var n,s=t.randomBytes(r);for(n=0;n<r;n++)e[n]=s[n];ge(s)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},81298:(e,t,r)=>{"use strict";var n;r.d(t,{v4:()=>d});var s=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(e){return"string"==typeof e&&o.test(e)};for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};const d=function(e,t,r){var n=(e=e||{}).random||(e.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=n[s];return t}return l(n)}},97164:(e,t,r)=>{"use strict";function n(e,t){return function(){return e.apply(t,arguments)}}const{toString:s}=Object.prototype,{getPrototypeOf:i}=Object,{iterator:o,toStringTag:a}=Symbol,c=(u=Object.create(null),e=>{const t=s.call(e);return u[t]||(u[t]=t.slice(8,-1).toLowerCase())});var u;const l=e=>(e=e.toLowerCase(),t=>c(t)===e),d=e=>t=>typeof t===e,{isArray:h}=Array,f=d("undefined");const p=l("ArrayBuffer");const g=d("string"),y=d("function"),b=d("number"),m=e=>null!==e&&"object"==typeof e,w=e=>{if("object"!==c(e))return!1;const t=i(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||a in e||o in e)},k=l("Date"),S=l("File"),x=l("Blob"),_=l("FileList"),A=l("URLSearchParams"),[v,I,E,B]=["ReadableStream","Request","Response","Headers"].map(l);function T(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,s;if("object"!=typeof e&&(e=[e]),h(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let o;for(n=0;n<i;n++)o=s[n],t.call(null,e[o],o,e)}}function R(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,s=r.length;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,z=e=>!f(e)&&e!==U;const P=(O="undefined"!=typeof Uint8Array&&i(Uint8Array),e=>O&&e instanceof O);var O;const L=l("HTMLFormElement"),C=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),N=l("RegExp"),W=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};T(r,((r,s)=>{let i;!1!==(i=t(r,s,e))&&(n[s]=i||r)})),Object.defineProperties(e,n)};const M=l("AsyncFunction"),H=(K="function"==typeof setImmediate,j=y(U.postMessage),K?setImmediate:j?(q=`axios@${Math.random()}`,D=[],U.addEventListener("message",(({source:e,data:t})=>{e===U&&t===q&&D.length&&D.shift()()}),!1),e=>{D.push(e),U.postMessage(q,"*")}):e=>setTimeout(e));var K,j,q,D;const F="undefined"!=typeof queueMicrotask?queueMicrotask.bind(U):"undefined"!=typeof process&&process.nextTick||H;var G={isArray:h,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=c(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:g,isNumber:b,isBoolean:e=>!0===e||!1===e,isObject:m,isPlainObject:w,isReadableStream:v,isRequest:I,isResponse:E,isHeaders:B,isUndefined:f,isDate:k,isFile:S,isBlob:x,isRegExp:N,isFunction:y,isStream:e=>m(e)&&y(e.pipe),isURLSearchParams:A,isTypedArray:P,isFileList:_,forEach:T,merge:function e(){const{caseless:t}=z(this)&&this||{},r={},n=(n,s)=>{const i=t&&R(r,s)||s;w(r[i])&&w(n)?r[i]=e(r[i],n):w(n)?r[i]=e({},n):h(n)?r[i]=n.slice():r[i]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&T(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:s}={})=>(T(t,((t,s)=>{r&&y(t)?e[s]=n(t,r):e[s]=t}),{allOwnKeys:s}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let s,o,a;const c={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)a=s[o],n&&!n(a,e,t)||c[a]||(t[a]=e[a],c[a]=!0);e=!1!==r&&i(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:l,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(h(e))return e;let t=e.length;if(!b(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[o]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:L,hasOwnProperty:C,hasOwnProp:C,reduceDescriptors:W,freezeMethods:e=>{W(e,((t,r)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];y(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return h(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:R,global:U,isContextDefined:z,isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[a]&&e[o])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(m(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const s=h(e)?[]:{};return T(e,((e,t)=>{const i=r(e,n+1);!f(i)&&(s[t]=i)})),t[n]=void 0,s}}return e};return r(e,0)},isAsyncFn:M,isThenable:e=>e&&(m(e)||y(e))&&y(e.then)&&y(e.catch),setImmediate:H,asap:F,isIterable:e=>null!=e&&y(e[o])};function $(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}G.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const J=$.prototype,V={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{V[e]={value:e}})),Object.defineProperties($,V),Object.defineProperty(J,"isAxiosError",{value:!0}),$.from=(e,t,r,n,s,i)=>{const o=Object.create(J);return G.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),$.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};function X(e){return G.isPlainObject(e)||G.isArray(e)}function Z(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function Y(e,t,r){return e?e.concat(t).map((function(e,t){return e=Z(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Q=G.toFlatObject(G,{},null,(function(e){return/^is[A-Z]/.test(e)}));function ee(e,t,r){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!G.isUndefined(t[e])}))).metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(s))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(G.isDate(e))return e.toISOString();if(!a&&G.isBlob(e))throw new $("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(e)||G.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,s){let a=e;if(e&&!s&&"object"==typeof e)if(G.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(G.isArray(e)&&function(e){return G.isArray(e)&&!e.some(X)}(e)||(G.isFileList(e)||G.endsWith(r,"[]"))&&(a=G.toArray(e)))return r=Z(r),a.forEach((function(e,n){!G.isUndefined(e)&&null!==e&&t.append(!0===o?Y([r],n,i):null===o?r:r+"[]",c(e))})),!1;return!!X(e)||(t.append(Y(s,r,i),c(e)),!1)}const l=[],d=Object.assign(Q,{defaultVisitor:u,convertValue:c,isVisitable:X});if(!G.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!G.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),G.forEach(r,(function(r,i){!0===(!(G.isUndefined(r)||null===r)&&s.call(t,r,G.isString(i)?i.trim():i,n,d))&&e(r,n?n.concat(i):[i])})),l.pop()}}(e),t}function te(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function re(e,t){this._pairs=[],e&&ee(e,this,t)}const ne=re.prototype;function se(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ie(e,t,r){if(!t)return e;const n=r&&r.encode||se;G.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(i=s?s(t,r):G.isURLSearchParams(t)?t.toString():new re(t,r).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){const t=e?function(t){return e.call(this,t,te)}:te;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var oe=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ae={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ce={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:re,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ue="undefined"!=typeof window&&"undefined"!=typeof document,le="object"==typeof navigator&&navigator||void 0,de=ue&&(!le||["ReactNative","NativeScript","NS"].indexOf(le.product)<0),he="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,fe=ue&&window.location.href||"http://localhost";var pe={...Object.freeze({__proto__:null,hasBrowserEnv:ue,hasStandardBrowserWebWorkerEnv:he,hasStandardBrowserEnv:de,navigator:le,origin:fe}),...ce};function ge(e){function t(e,r,n,s){let i=e[s++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),a=s>=e.length;if(i=!i&&G.isArray(n)?n.length:i,a)return G.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!o;n[i]&&G.isObject(n[i])||(n[i]=[]);return t(e,r,n[i],s)&&G.isArray(n[i])&&(n[i]=function(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}(n[i])),!o}if(G.isFormData(e)&&G.isFunction(e.entries)){const r={};return G.forEachEntry(e,((e,n)=>{t(function(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null}const ye={transitional:ae,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,s=G.isObject(e);s&&G.isHTMLForm(e)&&(e=new FormData(e));if(G.isFormData(e))return n?JSON.stringify(ge(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ee(e,new pe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return pe.isNode&&G.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=G.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ee(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),function(e,t,r){if(G.isString(e))try{return(t||JSON.parse)(e),G.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ye.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw $.from(e,$.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],(e=>{ye.headers[e]={}}));var be=ye;const me=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const we=Symbol("internals");function ke(e){return e&&String(e).trim().toLowerCase()}function Se(e){return!1===e||null==e?e:G.isArray(e)?e.map(Se):String(e)}function xe(e,t,r,n,s){return G.isFunction(n)?n.call(this,t,r):(s&&(t=r),G.isString(t)?G.isString(n)?-1!==t.indexOf(n):G.isRegExp(n)?n.test(t):void 0:void 0)}class _e{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function s(e,t,r){const s=ke(t);if(!s)throw new Error("header name must be a non-empty string");const i=G.findKey(n,s);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=Se(e))}const i=(e,t)=>G.forEach(e,((e,r)=>s(e,r,t)));if(G.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(G.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let r,n,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),r=e.substring(0,s).trim().toLowerCase(),n=e.substring(s+1).trim(),!r||t[r]&&me[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(G.isObject(e)&&G.isIterable(e)){let r,n,s={};for(const t of e){if(!G.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[n=t[0]]=(r=s[n])?G.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,r);return this}get(e,t){if(e=ke(e)){const r=G.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(G.isFunction(t))return t.call(this,e,r);if(G.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ke(e)){const r=G.findKey(this,e);return!(!r||void 0===this[r]||t&&!xe(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function s(e){if(e=ke(e)){const s=G.findKey(r,e);!s||t&&!xe(0,r[s],s,t)||(delete r[s],n=!0)}}return G.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const s=t[r];e&&!xe(0,this[s],s,e,!0)||(delete this[s],n=!0)}return n}normalize(e){const t=this,r={};return G.forEach(this,((n,s)=>{const i=G.findKey(r,s);if(i)return t[i]=Se(n),void delete t[s];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(s):String(s).trim();o!==s&&delete t[s],t[o]=Se(n),r[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return G.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&G.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[we]=this[we]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=ke(e);t[n]||(!function(e,t){const r=G.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,s){return this[n].call(this,t,e,r,s)},configurable:!0})}))}(r,e),t[n]=!0)}return G.isArray(e)?e.forEach(n):n(e),this}}_e.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),G.reduceDescriptors(_e.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),G.freezeMethods(_e);var Ae=_e;function ve(e,t){const r=this||be,n=t||r,s=Ae.from(n.headers);let i=n.data;return G.forEach(e,(function(e){i=e.call(r,i,s.normalize(),t?t.status:void 0)})),s.normalize(),i}function Ie(e){return!(!e||!e.__CANCEL__)}function Ee(e,t,r){$.call(this,null==e?"canceled":e,$.ERR_CANCELED,t,r),this.name="CanceledError"}function Be(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new $("Request failed with status code "+r.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}G.inherits(Ee,$,{__CANCEL__:!0});const Te=(e,t,r=3)=>{let n=0;const s=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s,i=0,o=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=n[o];s||(s=c),r[i]=a,n[i]=c;let l=o,d=0;for(;l!==i;)d+=r[l++],l%=e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-s<t)return;const h=u&&c-u;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let r,n,s=0,i=1e3/t;const o=(t,i=Date.now())=>{s=i,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-s;a>=i?o(e,t):(r=e,n||(n=setTimeout((()=>{n=null,o(r)}),i-a)))},()=>r&&o(r)]}((r=>{const i=r.loaded,o=r.lengthComputable?r.total:void 0,a=i-n,c=s(a);n=i;e({loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&i<=o?(o-i)/c:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),r)},Re=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ue=e=>(...t)=>G.asap((()=>e(...t)));var ze=pe.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,pe.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(pe.origin),pe.navigator&&/(msie|trident)/i.test(pe.navigator.userAgent)):()=>!0,Pe=pe.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];G.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),G.isString(n)&&o.push("path="+n),G.isString(s)&&o.push("domain="+s),!0===i&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Oe(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Le=e=>e instanceof Ae?{...e}:e;function Ce(e,t){t=t||{};const r={};function n(e,t,r,n){return G.isPlainObject(e)&&G.isPlainObject(t)?G.merge.call({caseless:n},e,t):G.isPlainObject(t)?G.merge({},t):G.isArray(t)?t.slice():t}function s(e,t,r,s){return G.isUndefined(t)?G.isUndefined(e)?void 0:n(void 0,e,0,s):n(e,t,0,s)}function i(e,t){if(!G.isUndefined(t))return n(void 0,t)}function o(e,t){return G.isUndefined(t)?G.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,s,i){return i in t?n(r,s):i in e?n(void 0,r):void 0}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,r)=>s(Le(e),Le(t),0,!0)};return G.forEach(Object.keys(Object.assign({},e,t)),(function(n){const i=c[n]||s,o=i(e[n],t[n],n);G.isUndefined(o)&&i!==a||(r[n]=o)})),r}var Ne=e=>{const t=Ce({},e);let r,{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:c}=t;if(t.headers=a=Ae.from(a),t.url=ie(Oe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),G.isFormData(n))if(pe.hasStandardBrowserEnv||pe.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(pe.hasStandardBrowserEnv&&(s&&G.isFunction(s)&&(s=s(t)),s||!1!==s&&ze(t.url))){const e=i&&o&&Pe.read(o);e&&a.set(i,e)}return t};var We="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Ne(e);let s=n.data;const i=Ae.from(n.headers).normalize();let o,a,c,u,l,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=n;function p(){u&&u(),l&&l(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let g=new XMLHttpRequest;function y(){if(!g)return;const n=Ae.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Be((function(e){t(e),p()}),(function(e){r(e),p()}),{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(y)},g.onabort=function(){g&&(r(new $("Request aborted",$.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new $("Network Error",$.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const s=n.transitional||ae;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new $(t,s.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,g)),g=null},void 0===s&&i.setContentType(null),"setRequestHeader"in g&&G.forEach(i.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),G.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),d&&"json"!==d&&(g.responseType=n.responseType),f&&([c,l]=Te(f,!0),g.addEventListener("progress",c)),h&&g.upload&&([a,u]=Te(h),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(o=t=>{g&&(r(!t||t.type?new Ee(null,e,g):t),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);b&&-1===pe.protocols.indexOf(b)?r(new $("Unsupported protocol "+b+":",$.ERR_BAD_REQUEST,e)):g.send(s||null)}))};var Me=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const s=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof $?t:new Ee(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,s(new $(`timeout ${t} of ms exceeded`,$.ETIMEDOUT))}),t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:a}=n;return a.unsubscribe=()=>G.asap(o),a}};const He=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,s=0;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},Ke=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},je=(e,t,r,n)=>{const s=async function*(e,t){for await(const r of Ke(e))yield*He(r,t)}(e,t);let i,o=0,a=e=>{i||(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await s.next();if(t)return a(),void e.close();let i=n.byteLength;if(r){let e=o+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},qe="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,De=qe&&"function"==typeof ReadableStream,Fe=qe&&("function"==typeof TextEncoder?(Ge=new TextEncoder,e=>Ge.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ge;const $e=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Je=De&&$e((()=>{let e=!1;const t=new Request(pe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ve=De&&$e((()=>G.isReadableStream(new Response("").body))),Xe={stream:Ve&&(e=>e.body)};var Ze;qe&&(Ze=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Xe[e]&&(Xe[e]=G.isFunction(Ze[e])?t=>t[e]():(t,r)=>{throw new $(`Response type '${e}' is not supported`,$.ERR_NOT_SUPPORT,r)})})));const Ye=async(e,t)=>{const r=G.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(G.isBlob(e))return e.size;if(G.isSpecCompliantForm(e)){const t=new Request(pe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return G.isArrayBufferView(e)||G.isArrayBuffer(e)?e.byteLength:(G.isURLSearchParams(e)&&(e+=""),G.isString(e)?(await Fe(e)).byteLength:void 0)})(t):r};const Qe={http:null,xhr:We,fetch:qe&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:h}=Ne(e);u=u?(u+"").toLowerCase():"text";let f,p=Me([s,i&&i.toAbortSignal()],o);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(c&&Je&&"get"!==r&&"head"!==r&&0!==(y=await Ye(l,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(G.isFormData(n)&&(e=r.headers.get("content-type"))&&l.setContentType(e),r.body){const[e,t]=Re(y,Te(Ue(c)));n=je(r.body,65536,e,t)}}G.isString(d)||(d=d?"include":"omit");const s="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:s?d:void 0});let i=await fetch(f);const o=Ve&&("stream"===u||"response"===u);if(Ve&&(a||o&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=G.toFiniteNumber(i.headers.get("content-length")),[r,n]=a&&Re(t,Te(Ue(a),!0))||[];i=new Response(je(i.body,65536,r,(()=>{n&&n(),g&&g()})),e)}u=u||"text";let b=await Xe[G.findKey(Xe,u)||"text"](i,e);return!o&&g&&g(),await new Promise(((t,r)=>{Be(t,r,{data:b,headers:Ae.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})}))}catch(t){if(g&&g(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new $("Network Error",$.ERR_NETWORK,e,f),{cause:t.cause||t});throw $.from(t,t&&t.code,e,f)}})};G.forEach(Qe,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const et=e=>`- ${e}`,tt=e=>G.isFunction(e)||null===e||!1===e;var rt=e=>{e=G.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){let t;if(r=e[i],n=r,!tt(r)&&(n=Qe[(t=String(r)).toLowerCase()],void 0===n))throw new $(`Unknown adapter '${t}'`);if(n)break;s[t||"#"+i]=n}if(!n){const e=Object.entries(s).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new $("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(et).join("\n"):" "+et(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function st(e){nt(e),e.headers=Ae.from(e.headers),e.data=ve.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return rt(e.adapter||be.adapter)(e).then((function(t){return nt(e),t.data=ve.call(e,e.transformResponse,t),t.headers=Ae.from(t.headers),t}),(function(t){return Ie(t)||(nt(e),t&&t.response&&(t.response.data=ve.call(e,e.transformResponse,t.response),t.response.headers=Ae.from(t.response.headers))),Promise.reject(t)}))}const it="1.9.0",ot={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ot[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const at={};ot.transitional=function(e,t,r){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,s,i)=>{if(!1===e)throw new $(n(s," has been removed"+(t?" in "+t:"")),$.ERR_DEPRECATED);return t&&!at[s]&&(at[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,s,i)}},ot.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};var ct={assertOptions:function(e,t,r){if("object"!=typeof e)throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const t=e[i],r=void 0===t||o(t,i,e);if(!0!==r)throw new $("option "+i+" must be "+r,$.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new $("Unknown option "+i,$.ERR_BAD_OPTION)}},validators:ot};const ut=ct.validators;class lt{constructor(e){this.defaults=e||{},this.interceptors={request:new oe,response:new oe}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Ce(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:s}=t;void 0!==r&&ct.assertOptions(r,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1),null!=n&&(G.isFunction(n)?t.paramsSerializer={serialize:n}:ct.assertOptions(n,{encode:ut.function,serialize:ut.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ct.assertOptions(t,{baseUrl:ut.spelling("baseURL"),withXsrfToken:ut.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&G.merge(s.common,s[t.method]);s&&G.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=Ae.concat(i,s);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,d=0;if(!a){const e=[st.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);d<l;)u=u.then(e[d++],e[d++]);return u}l=o.length;let h=t;for(d=0;d<l;){const e=o[d++],t=o[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{u=st.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,l=c.length;d<l;)u=u.then(c[d++],c[d++]);return u}getUri(e){return ie(Oe((e=Ce(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],(function(e){lt.prototype[e]=function(t,r){return this.request(Ce(r||{},{method:e,url:t,data:(r||{}).data}))}})),G.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,s){return this.request(Ce(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}lt.prototype[e]=t(),lt.prototype[e+"Form"]=t(!0)}));var dt=lt;class ht{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,s){r.reason||(r.reason=new Ee(e,n,s),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ht((function(t){e=t})),cancel:e}}}var ft=ht;const pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pt).forEach((([e,t])=>{pt[t]=e}));var gt=pt;const yt=function e(t){const r=new dt(t),s=n(dt.prototype.request,r);return G.extend(s,dt.prototype,r,{allOwnKeys:!0}),G.extend(s,r,null,{allOwnKeys:!0}),s.create=function(r){return e(Ce(t,r))},s}(be);yt.Axios=dt,yt.CanceledError=Ee,yt.CancelToken=ft,yt.isCancel=Ie,yt.VERSION=it,yt.toFormData=ee,yt.AxiosError=$,yt.Cancel=yt.CanceledError,yt.all=function(e){return Promise.all(e)},yt.spread=function(e){return function(t){return e.apply(null,t)}},yt.isAxiosError=function(e){return G.isObject(e)&&!0===e.isAxiosError},yt.mergeConfig=Ce,yt.AxiosHeaders=Ae,yt.formToJSON=e=>ge(G.isHTMLForm(e)?new FormData(e):e),yt.getAdapter=rt,yt.HttpStatusCode=gt,yt.default=yt,e.exports=yt},40538:(e,t,r)=>{"use strict";r.d(t,{Am:()=>Yt});var n=r(45695),s=r(70508);const i=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}),o=e=>t=>{const r=(0,n.Ik)(e,t),{encode:o,decode:a}=i(r),c=r;return c.decode=(e,t)=>{const r=a(e,t);return(0,s.oU)(Buffer.from(r))},c.encode=(t,r,n)=>{const i=(0,s.k$)(t,e);return o(i,r,n)},c},a=e=>t=>{const r=(0,n.Ik)(e,t),{encode:o,decode:a}=i(r),c=r;return c.decode=(e,t)=>{const r=a(e,t);return(0,s.Q5)(Buffer.from(r))},c.encode=(t,r,n)=>{const i=(0,s.zP)(t,e);return o(i,r,n)},c},c=o(8);a(8),o(16),a(16),o(24),a(24),o(32),a(32);new(r(2027).Z)("1e+18");var u=r(34042),l=r(14509),d=r(1876),h=r.n(d),f=r(91927),p=r.n(f),g=r(8181),y=r(76547),b=8078e3,m=8078001,w=8078004,k=8078005,S=8078006,x=8078011;function _(e){if(Array.isArray(e)){return"%5B"+e.map(_).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function A([e,t]){return`${e}=${_(t)}`}function v(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${function(e){const t=Object.entries(e).map(A).join("&");return btoa(t)}(t)}'`),`${r}\``}}var I=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...s}=t;e&&(n={cause:e}),Object.keys(s).length>0&&(r=s)}super(v(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function E(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function B(e){return Object.freeze({...e,encode:t=>{const r=new Uint8Array(E(t,e));return e.write(t,r,0),r}})}function T(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function R(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function U(e,t){if(R(e)!==R(t))throw new I(w);if(R(e)&&R(t)&&e.fixedSize!==t.fixedSize)throw new I(k,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!R(e)&&!R(t)&&e.maxSize!==t.maxSize)throw new I(S,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function z(e,t,r,n=0){const s=r.length-n;if(s<t)throw new I(m,{bytesLength:s,codecDescription:e,expected:t})}function P(e,t,r,n){if(n<t||n>r)throw new I(x,{codecDescription:e,max:r,min:t,value:n})}function O(e){return 1!==e?.endian}function L(e){return B({fixedSize:e.size,write(t,r,n){e.range&&P(e.name,e.range[0],e.range[1],t);const s=new ArrayBuffer(e.size);return e.set(new DataView(s),t,O(e.config)),r.set(new Uint8Array(s),n),n+e.size}})}function C(e){return T({fixedSize:e.size,read(t,r=0){!function(e,t,r=0){if(t.length-r<=0)throw new I(b,{codecDescription:e})}(e.name,t,r),z(e.name,e.size,t,r);const n=new DataView(function(e,t,r){const n=e.byteOffset+(t??0),s=r??e.byteLength;return e.buffer.slice(n,n+s)}(t,r,e.size));return[e.get(n,O(e.config)),r+e.size]}})}var N=(e={})=>L({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),W=(e={})=>U(N(e),((e={})=>C({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}))(e)),M=r(14385),H=(r(6275),r(55838),r(62774)),K=r(29800);l.UN.utils.randomPrivateKey;const j=()=>{const e=l.UN.utils.randomPrivateKey(),t=q(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},q=l.UN.getPublicKey;function D(e){try{return l.UN.ExtendedPoint.fromHex(e),!0}catch{return!1}}const F=(e,t)=>l.UN.sign(e,t.slice(0,32)),G=l.UN.verify,$=e=>u.Buffer.isBuffer(e)?e:e instanceof Uint8Array?u.Buffer.from(e.buffer,e.byteOffset,e.byteLength):u.Buffer.from(e);class J{constructor(e){Object.assign(this,e)}encode(){return u.Buffer.from((0,y.serialize)(V,this))}static decode(e){return(0,y.deserialize)(V,this,e)}static decodeUnchecked(e){return(0,y.deserializeUnchecked)(V,this,e)}}const V=new Map;var X;const Z=32;let Y=1;class Q extends J{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=p().decode(e);if(t.length!=Z)throw new Error("Invalid public key input");this._bn=new(h())(t)}else this._bn=new(h())(e);if(this._bn.byteLength()>Z)throw new Error("Invalid public key input")}}static unique(){const e=new Q(Y);return Y+=1,new Q(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return p().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(u.Buffer);if(e.length===Z)return e;const t=u.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=u.Buffer.concat([e.toBuffer(),u.Buffer.from(t),r.toBuffer()]),s=(0,g.JQ)(n);return new Q(s)}static createProgramAddressSync(e,t){let r=u.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=u.Buffer.concat([r,$(e)])})),r=u.Buffer.concat([r,t.toBuffer(),u.Buffer.from("ProgramDerivedAddress")]);const n=(0,g.JQ)(r);if(D(n))throw new Error("Invalid seeds, address must fall off the curve");return new Q(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const s=e.concat(u.Buffer.from([n]));r=this.createProgramAddressSync(s,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return D(new Q(e).toBytes())}}X=Q,Q.default=new X("11111111111111111111111111111111"),V.set(Q,{kind:"struct",fields:[["_bn","u256"]]});new Q("BPFLoader1111111111111111111111111111111111");const ee=1232;class te extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(te.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class re extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(re.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ne extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ne.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class se{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,r)=>{t.set(e.toBase58(),r)}));const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((e=>r(e.pubkey))),data:e.data})))}}const ie=(e="publicKey")=>n.Ik(32,e),oe=(e="string")=>{const t=n.n_([n.Jq("length"),n.Jq("lengthPadding"),n.Ik(n.cv(n.Jq(),-8),"chars")],e),r=t.decode.bind(t),s=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const n={chars:u.Buffer.from(e,"utf8")};return s(n,t,r)},i.alloc=e=>n.Jq().span+n.Jq().span+u.Buffer.from(e,"utf8").length,i};function ae(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}else if("fields"in e)return ae({layout:e},t[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}function ce(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0==(128&n))break}return t}function ue(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function le(e,t){if(!e)throw new Error(t||"Assertion failed")}class de{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,n=e=>{const t=e.toBase58();let n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},s=n(t);s.isSigner=!0,s.isWritable=!0;for(const t of e){n(t.programId).isInvoked=!0;for(const e of t.keys){const t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new de(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];le(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),r=e.filter((([,e])=>e.isSigner&&!e.isWritable)),n=e.filter((([,e])=>!e.isSigner&&e.isWritable)),s=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),i={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{le(t.length>0,"Expected at least one writable signer key");const[e]=t[0];le(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[i,[...t.map((([e])=>new Q(e))),...r.map((([e])=>new Q(e))),...n.map((([e])=>new Q(e))),...s.map((([e])=>new Q(e)))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[n,s]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[s,i]of this.keyMetaMap.entries())if(t(i)){const t=new Q(s),i=e.findIndex((e=>e.equals(t)));i>=0&&(le(i<256,"Max lookup table index exceeded"),r.push(i),n.push(t),this.keyMetaMap.delete(s))}return[r,n]}}const he="Reached end of buffer unexpectedly";function fe(e){if(0===e.length)throw new Error(he);return e.shift()}function pe(e,...t){const[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw new Error(he);return e.splice(...t)}class ge{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Q(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:p().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new se(this.staticAccountKeys)}static compile(e){const t=de.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),s=new se(n).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:p().encode(e.data)})));return new ge({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];ue(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(p().decode(e.data));let s=[];ue(s,t.length);let i=[];return ue(i,n.length),{programIdIndex:r,keyIndicesCount:u.Buffer.from(s),keyIndices:t,dataLength:u.Buffer.from(i),data:n}}));let s=[];ue(s,r.length);let i=u.Buffer.alloc(ee);u.Buffer.from(s).copy(i);let o=s.length;r.forEach((e=>{const t=n.n_([n.u8("programIdIndex"),n.Ik(e.keyIndicesCount.length,"keyIndicesCount"),n.A9(n.u8("keyIndex"),e.keyIndices.length,"keyIndices"),n.Ik(e.dataLength.length,"dataLength"),n.A9(n.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const a=n.n_([n.Ik(1,"numRequiredSignatures"),n.Ik(1,"numReadonlySignedAccounts"),n.Ik(1,"numReadonlyUnsignedAccounts"),n.Ik(t.length,"keyCount"),n.A9(ie("key"),e,"keys"),ie("recentBlockhash")]),c={numRequiredSignatures:u.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:u.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:u.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:u.Buffer.from(t),keys:this.accountKeys.map((e=>$(e.toBytes()))),recentBlockhash:p().decode(this.recentBlockhash)};let l=u.Buffer.alloc(2048);const d=a.encode(c,l);return i.copy(l,d),l.slice(0,d+i.length)}static from(e){let t=[...e];const r=fe(t);if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=fe(t),s=fe(t),i=ce(t);let o=[];for(let e=0;e<i;e++){const e=pe(t,0,Z);o.push(new Q(u.Buffer.from(e)))}const a=pe(t,0,Z),c=ce(t);let l=[];for(let e=0;e<c;e++){const e=fe(t),r=pe(t,0,ce(t)),n=pe(t,0,ce(t)),s=p().encode(u.Buffer.from(n));l.push({programIdIndex:e,accounts:r,data:s})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:s},recentBlockhash:p().encode(u.Buffer.from(a)),accountKeys:o,instructions:l};return new ge(d)}}const ye=u.Buffer.alloc(64).fill(0);class be{constructor(e){this.keys=void 0,this.programId=void 0,this.data=u.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class me{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new be(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const n=[],s=[];t.forEach((e=>{e.keys.forEach((e=>{s.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{s.push({pubkey:new Q(e),isSigner:!1,isWritable:!1})}));const i=[];s.forEach((e=>{const t=e.pubkey.toString(),r=i.findIndex((e=>e.pubkey.toString()===t));r>-1?(i[r].isWritable=i[r].isWritable||e.isWritable,i[r].isSigner=i[r].isSigner||e.isSigner):i.push(e)})),i.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=i.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=i.splice(o,1);e.isSigner=!0,e.isWritable=!0,i.unshift(e)}else i.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=i.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);i[t].isSigner||(i[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],d=[];i.forEach((({pubkey:e,isSigner:t,isWritable:r})=>{t?(l.push(e.toString()),a+=1,r||(c+=1)):(d.push(e.toString()),r||(u+=1))}));const h=l.concat(d),f=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:p().encode(t)}}));return f.forEach((e=>{le(e.programIdIndex>=0),e.accounts.forEach((e=>le(e>=0)))})),new ge({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map((e=>({signature:null,publicKey:e.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach((e=>{const t=F(r,e.secretKey);this._addSignature(e.publicKey,$(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){le(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=u.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:n,publicKey:s}of this.signatures)null===n?t&&(r.missing||=[]).push(s):G(n,e,s.toBytes())||(r.invalid||=[]).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){const e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];ue(r,t.length);const n=r.length+64*t.length+e.length,s=u.Buffer.alloc(n);return le(t.length<256),u.Buffer.from(r).copy(s,0),t.forEach((({signature:e},t)=>{null!==e&&(le(64===e.length,"signature has invalid length"),u.Buffer.from(e).copy(s,r.length+64*t))})),e.copy(s,r.length+64*t.length),le(s.length<=ee,`Transaction too large: ${s.length} > 1232`),s}get keys(){return le(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return le(1===this.instructions.length),this.instructions[0].programId}get data(){return le(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=ce(t);let n=[];for(let e=0;e<r;e++){const e=pe(t,0,64);n.push(p().encode(u.Buffer.from(e)))}return me.populate(ge.from(t),n)}static populate(e,t=[]){const r=new me;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const s={signature:t==p().encode(ye)?null:p().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(s)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new be({keys:n,programId:e.accountKeys[t.programIdIndex],data:p().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}const we=new Q("SysvarC1ock11111111111111111111111111111111"),ke=(new Q("SysvarEpochSchedu1e111111111111111111111111"),new Q("Sysvar1nstructions1111111111111111111111111"),new Q("SysvarRecentB1ockHashes11111111111111111111")),Se=new Q("SysvarRent111111111111111111111111111111111"),xe=(new Q("SysvarRewards111111111111111111111111111111"),new Q("SysvarS1otHashes111111111111111111111111111"),new Q("SysvarS1otHistory11111111111111111111111111"),new Q("SysvarStakeHistory1111111111111111111111111"));class _e extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){const s=n?`Logs: \n${JSON.stringify(n.slice(-10),null,2)}. `:"",i="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(e){case"send":o=`Transaction ${t} resulted in an error. \n${r}. `+s+i;break;case"simulate":o=`Simulation failed. \nMessage: ${r}. \n`+s+i;break;default:o=`Unknown action '${e}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,r)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(new Error("Log messages not found"))})).catch(r)}))),await this.transactionLogs}}async function Ae(e,t,r,n){const s=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},i=await e.sendTransaction(t,r,s);let o;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)o=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:i,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:r}=t.nonceInfo,s=r.keys[0].pubkey;o=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:t.nonceInfo.nonce,signature:i},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await e.confirmTransaction(i,n&&n.commitment)).value;if(o.err){if(null!=i)throw new _e({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${i} failed (${JSON.stringify(o)})`)}return i}function ve(e){return new Promise((t=>setTimeout(t,e)))}function Ie(e,t){const r=e.layout.span>=0?e.layout.span:ae(e,t),n=u.Buffer.alloc(r),s=Object.assign({instruction:e.index},t);return e.layout.encode(s,n),n}const Ee=n._O("lamportsPerSignature"),Be=n.n_([n.Jq("version"),n.Jq("state"),ie("authorizedPubkey"),ie("nonce"),n.n_([Ee],"feeCalculator")]),Te=Be.span;function Re(e){const t=(0,n.Ik)(8,e),r=t.decode.bind(t),s=t.encode.bind(t),i=t,o=W();return i.decode=(e,t)=>{const n=r(e,t);return o.decode(n)},i.encode=(e,t,r)=>{const n=o.encode(e);return s(n,t,r)},i}const Ue=Object.freeze({Create:{index:0,layout:n.n_([n.Jq("instruction"),n.gM("lamports"),n.gM("space"),ie("programId")])},Assign:{index:1,layout:n.n_([n.Jq("instruction"),ie("programId")])},Transfer:{index:2,layout:n.n_([n.Jq("instruction"),Re("lamports")])},CreateWithSeed:{index:3,layout:n.n_([n.Jq("instruction"),ie("base"),oe("seed"),n.gM("lamports"),n.gM("space"),ie("programId")])},AdvanceNonceAccount:{index:4,layout:n.n_([n.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:n.n_([n.Jq("instruction"),n.gM("lamports")])},InitializeNonceAccount:{index:6,layout:n.n_([n.Jq("instruction"),ie("authorized")])},AuthorizeNonceAccount:{index:7,layout:n.n_([n.Jq("instruction"),ie("authorized")])},Allocate:{index:8,layout:n.n_([n.Jq("instruction"),n.gM("space")])},AllocateWithSeed:{index:9,layout:n.n_([n.Jq("instruction"),ie("base"),oe("seed"),n.gM("space"),ie("programId")])},AssignWithSeed:{index:10,layout:n.n_([n.Jq("instruction"),ie("base"),oe("seed"),ie("programId")])},TransferWithSeed:{index:11,layout:n.n_([n.Jq("instruction"),Re("lamports"),oe("seed"),ie("programId")])},UpgradeNonceAccount:{index:12,layout:n.n_([n.Jq("instruction")])}});class ze{constructor(){}static createAccount(e){const t=Ie(Ue.Create,{lamports:e.lamports,space:e.space,programId:$(e.programId.toBuffer())});return new be({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=Ie(Ue.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:$(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=Ie(Ue.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new be({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=Ie(Ue.AssignWithSeed,{base:$(e.basePubkey.toBuffer()),seed:e.seed,programId:$(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Ie(Ue.Assign,{programId:$(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new be({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ie(Ue.CreateWithSeed,{base:$(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:$(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new be({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new me;"basePubkey"in e&&"seed"in e?t.add(ze.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Te,programId:this.programId})):t.add(ze.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Te,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ie(Ue.InitializeNonceAccount,{authorized:$(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ke,isSigner:!1,isWritable:!1},{pubkey:Se,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new be(r)}static nonceAdvance(e){const t=Ie(Ue.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ke,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new be(r)}static nonceWithdraw(e){const t=Ie(Ue.WithdrawNonceAccount,{lamports:e.lamports});return new be({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ke,isSigner:!1,isWritable:!1},{pubkey:Se,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Ie(Ue.AuthorizeNonceAccount,{authorized:$(e.newAuthorizedPubkey.toBuffer())});return new be({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=Ie(Ue.AllocateWithSeed,{base:$(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:$(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Ie(Ue.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new be({keys:r,programId:this.programId,data:t})}}ze.programId=new Q("11111111111111111111111111111111");class Pe{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Pe.chunkSize)+1+1)}static async load(e,t,r,s,i){{const n=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new me,a.add(ze.allocate({accountPubkey:r.publicKey,space:i.length}))),o.owner.equals(s)||(a=a||new me,a.add(ze.assign({accountPubkey:r.publicKey,programId:s}))),o.lamports<n&&(a=a||new me,a.add(ze.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:n-o.lamports})))}else a=(new me).add(ze.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:n>0?n:1,space:i.length,programId:s}));null!==a&&await Ae(e,a,[t,r],{commitment:"confirmed"})}const o=n.n_([n.Jq("instruction"),n.Jq("offset"),n.Jq("bytesLength"),n.Jq("bytesLengthPadding"),n.A9(n.u8("byte"),n.cv(n.Jq(),-8),"bytes")]),a=Pe.chunkSize;let c=0,l=i,d=[];for(;l.length>0;){const n=l.slice(0,a),i=u.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:n,bytesLength:0,bytesLengthPadding:0},i);const h=(new me).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:i});if(d.push(Ae(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await ve(1e3/e)}c+=a,l=l.slice(a)}await Promise.all(d);{const i=n.n_([n.Jq("instruction")]),o=u.Buffer.alloc(i.span);i.encode({instruction:1},o);const a=(new me).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Se,isSigner:!1,isWritable:!1}],programId:s,data:o}),c="processed",l=await e.sendTransaction(a,[t,r],{preflightCommitment:c}),{context:d,value:h}=await e.confirmTransaction({signature:l,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(h.err)throw new Error(`Transaction ${l} failed (${JSON.stringify(h)})`);for(;;){try{if(await e.getSlot({commitment:c})>d.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}Pe.chunkSize=932;new Q("BPFLoader2111111111111111111111111111111111");globalThis.fetch;n.n_([n.Jq("typeIndex"),Re("deactivationSlot"),n._O("lastExtendedSlot"),n.u8("lastExtendedStartIndex"),n.u8(),n.A9(ie(),n.cv(n.u8(),-1),"authority")]);const Oe=(0,M.oQ)((0,M.eE)(Q),(0,M.Z_)(),(e=>new Q(e))),Le=(0,M.bc)([(0,M.Z_)(),(0,M.i0)("base64")]),Ce=(0,M.oQ)((0,M.eE)(u.Buffer),Le,(e=>u.Buffer.from(e[0],"base64")));function Ne(e){return(0,M.G0)([(0,M.dt)({jsonrpc:(0,M.i0)("2.0"),id:(0,M.Z_)(),result:e}),(0,M.dt)({jsonrpc:(0,M.i0)("2.0"),id:(0,M.Z_)(),error:(0,M.dt)({code:(0,M._4)(),message:(0,M.Z_)(),data:(0,M.jt)((0,M.Yj)())})})])}const We=Ne((0,M._4)());function Me(e){return(0,M.oQ)(Ne(e),We,(t=>"error"in t?t:{...t,result:(0,M.Ue)(t.result,e)}))}function He(e){return Me((0,M.dt)({context:(0,M.dt)({slot:(0,M.Rx)()}),value:e}))}function Ke(e){return(0,M.dt)({context:(0,M.dt)({slot:(0,M.Rx)()}),value:e})}const je=(0,M.dt)({foundation:(0,M.Rx)(),foundationTerm:(0,M.Rx)(),initial:(0,M.Rx)(),taper:(0,M.Rx)(),terminal:(0,M.Rx)()}),qe=(Me((0,M.IX)((0,M.AG)((0,M.dt)({epoch:(0,M.Rx)(),effectiveSlot:(0,M.Rx)(),amount:(0,M.Rx)(),postBalance:(0,M.Rx)(),commission:(0,M.jt)((0,M.AG)((0,M.Rx)()))})))),(0,M.IX)((0,M.dt)({slot:(0,M.Rx)(),prioritizationFee:(0,M.Rx)()}))),De=(0,M.dt)({total:(0,M.Rx)(),validator:(0,M.Rx)(),foundation:(0,M.Rx)(),epoch:(0,M.Rx)()}),Fe=(0,M.dt)({epoch:(0,M.Rx)(),slotIndex:(0,M.Rx)(),slotsInEpoch:(0,M.Rx)(),absoluteSlot:(0,M.Rx)(),blockHeight:(0,M.jt)((0,M.Rx)()),transactionCount:(0,M.jt)((0,M.Rx)())}),Ge=(0,M.dt)({slotsPerEpoch:(0,M.Rx)(),leaderScheduleSlotOffset:(0,M.Rx)(),warmup:(0,M.O7)(),firstNormalEpoch:(0,M.Rx)(),firstNormalSlot:(0,M.Rx)()}),$e=(0,M.IM)((0,M.Z_)(),(0,M.IX)((0,M.Rx)())),Je=(0,M.AG)((0,M.G0)([(0,M.dt)({}),(0,M.Z_)()])),Ve=(0,M.dt)({err:Je}),Xe=(0,M.i0)("receivedSignature"),Ze=((0,M.dt)({"solana-core":(0,M.Z_)(),"feature-set":(0,M.jt)((0,M.Rx)())}),(0,M.dt)({program:(0,M.Z_)(),programId:Oe,parsed:(0,M._4)()})),Ye=(0,M.dt)({programId:Oe,accounts:(0,M.IX)(Oe),data:(0,M.Z_)()});He((0,M.dt)({err:(0,M.AG)((0,M.G0)([(0,M.dt)({}),(0,M.Z_)()])),logs:(0,M.AG)((0,M.IX)((0,M.Z_)())),accounts:(0,M.jt)((0,M.AG)((0,M.IX)((0,M.AG)((0,M.dt)({executable:(0,M.O7)(),owner:(0,M.Z_)(),lamports:(0,M.Rx)(),data:(0,M.IX)((0,M.Z_)()),rentEpoch:(0,M.jt)((0,M.Rx)())}))))),unitsConsumed:(0,M.jt)((0,M.Rx)()),returnData:(0,M.jt)((0,M.AG)((0,M.dt)({programId:(0,M.Z_)(),data:(0,M.bc)([(0,M.Z_)(),(0,M.i0)("base64")])}))),innerInstructions:(0,M.jt)((0,M.AG)((0,M.IX)((0,M.dt)({index:(0,M.Rx)(),instructions:(0,M.IX)((0,M.G0)([Ze,Ye]))}))))})),He((0,M.dt)({byIdentity:(0,M.IM)((0,M.Z_)(),(0,M.IX)((0,M.Rx)())),range:(0,M.dt)({firstSlot:(0,M.Rx)(),lastSlot:(0,M.Rx)()})}));Me(je),Me(De),Me(qe),Me(Fe),Me(Ge),Me($e),Me((0,M.Rx)()),He((0,M.dt)({total:(0,M.Rx)(),circulating:(0,M.Rx)(),nonCirculating:(0,M.Rx)(),nonCirculatingAccounts:(0,M.IX)(Oe)}));const Qe=(0,M.dt)({amount:(0,M.Z_)(),uiAmount:(0,M.AG)((0,M.Rx)()),decimals:(0,M.Rx)(),uiAmountString:(0,M.jt)((0,M.Z_)())}),et=(He((0,M.IX)((0,M.dt)({address:Oe,amount:(0,M.Z_)(),uiAmount:(0,M.AG)((0,M.Rx)()),decimals:(0,M.Rx)(),uiAmountString:(0,M.jt)((0,M.Z_)())}))),He((0,M.IX)((0,M.dt)({pubkey:Oe,account:(0,M.dt)({executable:(0,M.O7)(),owner:Oe,lamports:(0,M.Rx)(),data:Ce,rentEpoch:(0,M.Rx)()})}))),(0,M.dt)({program:(0,M.Z_)(),parsed:(0,M._4)(),space:(0,M.Rx)()})),tt=(He((0,M.IX)((0,M.dt)({pubkey:Oe,account:(0,M.dt)({executable:(0,M.O7)(),owner:Oe,lamports:(0,M.Rx)(),data:et,rentEpoch:(0,M.Rx)()})}))),He((0,M.IX)((0,M.dt)({lamports:(0,M.Rx)(),address:Oe}))),(0,M.dt)({executable:(0,M.O7)(),owner:Oe,lamports:(0,M.Rx)(),data:Ce,rentEpoch:(0,M.Rx)()})),rt=((0,M.dt)({pubkey:Oe,account:tt}),(0,M.oQ)((0,M.G0)([(0,M.eE)(u.Buffer),et]),(0,M.G0)([Le,et]),(e=>Array.isArray(e)?(0,M.Ue)(e,Ce):e))),nt=(0,M.dt)({executable:(0,M.O7)(),owner:Oe,lamports:(0,M.Rx)(),data:rt,rentEpoch:(0,M.Rx)()}),st=((0,M.dt)({pubkey:Oe,account:nt}),(0,M.dt)({state:(0,M.G0)([(0,M.i0)("active"),(0,M.i0)("inactive"),(0,M.i0)("activating"),(0,M.i0)("deactivating")]),active:(0,M.Rx)(),inactive:(0,M.Rx)()}),Me((0,M.IX)((0,M.dt)({signature:(0,M.Z_)(),slot:(0,M.Rx)(),err:Je,memo:(0,M.AG)((0,M.Z_)()),blockTime:(0,M.jt)((0,M.AG)((0,M.Rx)()))}))),Me((0,M.IX)((0,M.dt)({signature:(0,M.Z_)(),slot:(0,M.Rx)(),err:Je,memo:(0,M.AG)((0,M.Z_)()),blockTime:(0,M.jt)((0,M.AG)((0,M.Rx)()))}))),(0,M.dt)({subscription:(0,M.Rx)(),result:Ke(tt)}),(0,M.dt)({pubkey:Oe,account:tt})),it=((0,M.dt)({subscription:(0,M.Rx)(),result:Ke(st)}),(0,M.dt)({parent:(0,M.Rx)(),slot:(0,M.Rx)(),root:(0,M.Rx)()})),ot=((0,M.dt)({subscription:(0,M.Rx)(),result:it}),(0,M.G0)([(0,M.dt)({type:(0,M.G0)([(0,M.i0)("firstShredReceived"),(0,M.i0)("completed"),(0,M.i0)("optimisticConfirmation"),(0,M.i0)("root")]),slot:(0,M.Rx)(),timestamp:(0,M.Rx)()}),(0,M.dt)({type:(0,M.i0)("createdBank"),parent:(0,M.Rx)(),slot:(0,M.Rx)(),timestamp:(0,M.Rx)()}),(0,M.dt)({type:(0,M.i0)("frozen"),slot:(0,M.Rx)(),timestamp:(0,M.Rx)(),stats:(0,M.dt)({numTransactionEntries:(0,M.Rx)(),numSuccessfulTransactions:(0,M.Rx)(),numFailedTransactions:(0,M.Rx)(),maxTransactionsPerEntry:(0,M.Rx)()})}),(0,M.dt)({type:(0,M.i0)("dead"),slot:(0,M.Rx)(),timestamp:(0,M.Rx)(),err:(0,M.Z_)()})])),at=((0,M.dt)({subscription:(0,M.Rx)(),result:ot}),(0,M.dt)({subscription:(0,M.Rx)(),result:Ke((0,M.G0)([Ve,Xe]))}),(0,M.dt)({subscription:(0,M.Rx)(),result:(0,M.Rx)()}),(0,M.dt)({pubkey:(0,M.Z_)(),gossip:(0,M.AG)((0,M.Z_)()),tpu:(0,M.AG)((0,M.Z_)()),rpc:(0,M.AG)((0,M.Z_)()),version:(0,M.AG)((0,M.Z_)())}),(0,M.dt)({votePubkey:(0,M.Z_)(),nodePubkey:(0,M.Z_)(),activatedStake:(0,M.Rx)(),epochVoteAccount:(0,M.O7)(),epochCredits:(0,M.IX)((0,M.bc)([(0,M.Rx)(),(0,M.Rx)(),(0,M.Rx)()])),commission:(0,M.Rx)(),lastVote:(0,M.Rx)(),rootSlot:(0,M.AG)((0,M.Rx)())})),ct=(Me((0,M.dt)({current:(0,M.IX)(at),delinquent:(0,M.IX)(at)})),(0,M.G0)([(0,M.i0)("processed"),(0,M.i0)("confirmed"),(0,M.i0)("finalized")])),ut=(0,M.dt)({slot:(0,M.Rx)(),confirmations:(0,M.AG)((0,M.Rx)()),err:Je,confirmationStatus:(0,M.jt)(ct)}),lt=(He((0,M.IX)((0,M.AG)(ut))),Me((0,M.Rx)()),(0,M.dt)({accountKey:Oe,writableIndexes:(0,M.IX)((0,M.Rx)()),readonlyIndexes:(0,M.IX)((0,M.Rx)())})),dt=(0,M.dt)({signatures:(0,M.IX)((0,M.Z_)()),message:(0,M.dt)({accountKeys:(0,M.IX)((0,M.Z_)()),header:(0,M.dt)({numRequiredSignatures:(0,M.Rx)(),numReadonlySignedAccounts:(0,M.Rx)(),numReadonlyUnsignedAccounts:(0,M.Rx)()}),instructions:(0,M.IX)((0,M.dt)({accounts:(0,M.IX)((0,M.Rx)()),data:(0,M.Z_)(),programIdIndex:(0,M.Rx)()})),recentBlockhash:(0,M.Z_)(),addressTableLookups:(0,M.jt)((0,M.IX)(lt))})}),ht=(0,M.dt)({pubkey:Oe,signer:(0,M.O7)(),writable:(0,M.O7)(),source:(0,M.jt)((0,M.G0)([(0,M.i0)("transaction"),(0,M.i0)("lookupTable")]))}),ft=(0,M.dt)({accountKeys:(0,M.IX)(ht),signatures:(0,M.IX)((0,M.Z_)())}),pt=(0,M.dt)({parsed:(0,M._4)(),program:(0,M.Z_)(),programId:Oe}),gt=(0,M.dt)({accounts:(0,M.IX)(Oe),data:(0,M.Z_)(),programId:Oe}),yt=(0,M.G0)([gt,pt]),bt=(0,M.G0)([(0,M.dt)({parsed:(0,M._4)(),program:(0,M.Z_)(),programId:(0,M.Z_)()}),(0,M.dt)({accounts:(0,M.IX)((0,M.Z_)()),data:(0,M.Z_)(),programId:(0,M.Z_)()})]),mt=(0,M.oQ)(yt,bt,(e=>"accounts"in e?(0,M.Ue)(e,gt):(0,M.Ue)(e,pt))),wt=(0,M.dt)({signatures:(0,M.IX)((0,M.Z_)()),message:(0,M.dt)({accountKeys:(0,M.IX)(ht),instructions:(0,M.IX)(mt),recentBlockhash:(0,M.Z_)(),addressTableLookups:(0,M.jt)((0,M.AG)((0,M.IX)(lt)))})}),kt=(0,M.dt)({accountIndex:(0,M.Rx)(),mint:(0,M.Z_)(),owner:(0,M.jt)((0,M.Z_)()),programId:(0,M.jt)((0,M.Z_)()),uiTokenAmount:Qe}),St=(0,M.dt)({writable:(0,M.IX)(Oe),readonly:(0,M.IX)(Oe)}),xt=(0,M.dt)({err:Je,fee:(0,M.Rx)(),innerInstructions:(0,M.jt)((0,M.AG)((0,M.IX)((0,M.dt)({index:(0,M.Rx)(),instructions:(0,M.IX)((0,M.dt)({accounts:(0,M.IX)((0,M.Rx)()),data:(0,M.Z_)(),programIdIndex:(0,M.Rx)()}))})))),preBalances:(0,M.IX)((0,M.Rx)()),postBalances:(0,M.IX)((0,M.Rx)()),logMessages:(0,M.jt)((0,M.AG)((0,M.IX)((0,M.Z_)()))),preTokenBalances:(0,M.jt)((0,M.AG)((0,M.IX)(kt))),postTokenBalances:(0,M.jt)((0,M.AG)((0,M.IX)(kt))),loadedAddresses:(0,M.jt)(St),computeUnitsConsumed:(0,M.jt)((0,M.Rx)())}),_t=(0,M.dt)({err:Je,fee:(0,M.Rx)(),innerInstructions:(0,M.jt)((0,M.AG)((0,M.IX)((0,M.dt)({index:(0,M.Rx)(),instructions:(0,M.IX)(mt)})))),preBalances:(0,M.IX)((0,M.Rx)()),postBalances:(0,M.IX)((0,M.Rx)()),logMessages:(0,M.jt)((0,M.AG)((0,M.IX)((0,M.Z_)()))),preTokenBalances:(0,M.jt)((0,M.AG)((0,M.IX)(kt))),postTokenBalances:(0,M.jt)((0,M.AG)((0,M.IX)(kt))),loadedAddresses:(0,M.jt)(St),computeUnitsConsumed:(0,M.jt)((0,M.Rx)())}),At=(0,M.G0)([(0,M.i0)(0),(0,M.i0)("legacy")]),vt=(0,M.dt)({pubkey:(0,M.Z_)(),lamports:(0,M.Rx)(),postBalance:(0,M.AG)((0,M.Rx)()),rewardType:(0,M.AG)((0,M.Z_)()),commission:(0,M.jt)((0,M.AG)((0,M.Rx)()))}),It=(Me((0,M.AG)((0,M.dt)({blockhash:(0,M.Z_)(),previousBlockhash:(0,M.Z_)(),parentSlot:(0,M.Rx)(),transactions:(0,M.IX)((0,M.dt)({transaction:dt,meta:(0,M.AG)(xt),version:(0,M.jt)(At)})),rewards:(0,M.jt)((0,M.IX)(vt)),blockTime:(0,M.AG)((0,M.Rx)()),blockHeight:(0,M.AG)((0,M.Rx)())}))),Me((0,M.AG)((0,M.dt)({blockhash:(0,M.Z_)(),previousBlockhash:(0,M.Z_)(),parentSlot:(0,M.Rx)(),rewards:(0,M.jt)((0,M.IX)(vt)),blockTime:(0,M.AG)((0,M.Rx)()),blockHeight:(0,M.AG)((0,M.Rx)())}))),Me((0,M.AG)((0,M.dt)({blockhash:(0,M.Z_)(),previousBlockhash:(0,M.Z_)(),parentSlot:(0,M.Rx)(),transactions:(0,M.IX)((0,M.dt)({transaction:ft,meta:(0,M.AG)(xt),version:(0,M.jt)(At)})),rewards:(0,M.jt)((0,M.IX)(vt)),blockTime:(0,M.AG)((0,M.Rx)()),blockHeight:(0,M.AG)((0,M.Rx)())}))),Me((0,M.AG)((0,M.dt)({blockhash:(0,M.Z_)(),previousBlockhash:(0,M.Z_)(),parentSlot:(0,M.Rx)(),transactions:(0,M.IX)((0,M.dt)({transaction:wt,meta:(0,M.AG)(_t),version:(0,M.jt)(At)})),rewards:(0,M.jt)((0,M.IX)(vt)),blockTime:(0,M.AG)((0,M.Rx)()),blockHeight:(0,M.AG)((0,M.Rx)())}))),Me((0,M.AG)((0,M.dt)({blockhash:(0,M.Z_)(),previousBlockhash:(0,M.Z_)(),parentSlot:(0,M.Rx)(),transactions:(0,M.IX)((0,M.dt)({transaction:ft,meta:(0,M.AG)(_t),version:(0,M.jt)(At)})),rewards:(0,M.jt)((0,M.IX)(vt)),blockTime:(0,M.AG)((0,M.Rx)()),blockHeight:(0,M.AG)((0,M.Rx)())}))),Me((0,M.AG)((0,M.dt)({blockhash:(0,M.Z_)(),previousBlockhash:(0,M.Z_)(),parentSlot:(0,M.Rx)(),rewards:(0,M.jt)((0,M.IX)(vt)),blockTime:(0,M.AG)((0,M.Rx)()),blockHeight:(0,M.AG)((0,M.Rx)())}))),Me((0,M.AG)((0,M.dt)({blockhash:(0,M.Z_)(),previousBlockhash:(0,M.Z_)(),parentSlot:(0,M.Rx)(),transactions:(0,M.IX)((0,M.dt)({transaction:dt,meta:(0,M.AG)(xt)})),rewards:(0,M.jt)((0,M.IX)(vt)),blockTime:(0,M.AG)((0,M.Rx)())}))),Me((0,M.AG)((0,M.dt)({blockhash:(0,M.Z_)(),previousBlockhash:(0,M.Z_)(),parentSlot:(0,M.Rx)(),signatures:(0,M.IX)((0,M.Z_)()),blockTime:(0,M.AG)((0,M.Rx)())}))),Me((0,M.AG)((0,M.dt)({slot:(0,M.Rx)(),meta:(0,M.AG)(xt),blockTime:(0,M.jt)((0,M.AG)((0,M.Rx)())),transaction:dt,version:(0,M.jt)(At)}))),Me((0,M.AG)((0,M.dt)({slot:(0,M.Rx)(),transaction:wt,meta:(0,M.AG)(_t),blockTime:(0,M.jt)((0,M.AG)((0,M.Rx)())),version:(0,M.jt)(At)}))),He((0,M.dt)({blockhash:(0,M.Z_)(),lastValidBlockHeight:(0,M.Rx)()})),He((0,M.O7)()),(0,M.dt)({slot:(0,M.Rx)(),numTransactions:(0,M.Rx)(),numSlots:(0,M.Rx)(),samplePeriodSecs:(0,M.Rx)()})),Et=(Me((0,M.IX)(It)),He((0,M.AG)((0,M.dt)({feeCalculator:(0,M.dt)({lamportsPerSignature:(0,M.Rx)()})}))),Me((0,M.Z_)()),Me((0,M.Z_)()),(0,M.dt)({err:Je,logs:(0,M.IX)((0,M.Z_)()),signature:(0,M.Z_)()}));(0,M.dt)({result:Ke(Et),subscription:(0,M.Rx)()});class Bt{constructor(e){this._keypair=void 0,this._keypair=e??j()}static generate(){return new Bt(j())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),n=q(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw new Error("provided secretKey is invalid")}return new Bt({publicKey:r,secretKey:e})}static fromSeed(e){const t=q(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Bt({publicKey:t,secretKey:r})}get publicKey(){return new Q(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Tt=Object.freeze({CreateLookupTable:{index:0,layout:n.n_([n.Jq("instruction"),Re("recentSlot"),n.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:n.n_([n.Jq("instruction")])},ExtendLookupTable:{index:2,layout:n.n_([n.Jq("instruction"),Re(),n.A9(ie(),n.cv(n.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:n.n_([n.Jq("instruction")])},CloseLookupTable:{index:4,layout:n.n_([n.Jq("instruction")])}});class Rt{constructor(){}static createLookupTable(e){const[t,r]=Q.findProgramAddressSync([e.authority.toBuffer(),N().encode(e.recentSlot)],this.programId),n=Ie(Tt.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ze.programId,isSigner:!1,isWritable:!1}];return[new be({programId:this.programId,keys:s,data:n}),t]}static freezeLookupTable(e){const t=Ie(Tt.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new be({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=Ie(Tt.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ze.programId,isSigner:!1,isWritable:!1}),new be({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=Ie(Tt.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new be({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=Ie(Tt.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new be({programId:this.programId,keys:r,data:t})}}Rt.programId=new Q("AddressLookupTab1e1111111111111111111111111");const Ut=Object.freeze({RequestUnits:{index:0,layout:n.n_([n.u8("instruction"),n.Jq("units"),n.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:n.n_([n.u8("instruction"),n.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:n.n_([n.u8("instruction"),n.Jq("units")])},SetComputeUnitPrice:{index:3,layout:n.n_([n.u8("instruction"),Re("microLamports")])}});class zt{constructor(){}static requestUnits(e){const t=Ie(Ut.RequestUnits,e);return new be({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Ie(Ut.RequestHeapFrame,e);return new be({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=Ie(Ut.SetComputeUnitLimit,e);return new be({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=Ie(Ut.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new be({keys:[],programId:this.programId,data:t})}}zt.programId=new Q("ComputeBudget111111111111111111111111111111");const Pt=n.n_([n.u8("numSignatures"),n.u8("padding"),n.KB("signatureOffset"),n.KB("signatureInstructionIndex"),n.KB("publicKeyOffset"),n.KB("publicKeyInstructionIndex"),n.KB("messageDataOffset"),n.KB("messageDataSize"),n.KB("messageInstructionIndex")]);class Ot{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:s}=e;le(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),le(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const i=Pt.span,o=i+t.length,a=o+n.length,c=u.Buffer.alloc(a+r.length),l=null==s?65535:s;return Pt.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:l,publicKeyOffset:i,publicKeyInstructionIndex:l,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:l},c),c.fill(t,i),c.fill(n,o),c.fill(r,a),new be({keys:[],programId:Ot.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;le(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Bt.fromSecretKey(t),s=e.publicKey.toBytes(),i=F(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:i,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Ot.programId=new Q("Ed25519SigVerify111111111111111111111111111");K.kA.utils.isValidPrivateKey;const Lt=K.kA.getPublicKey,Ct=n.n_([n.u8("numSignatures"),n.KB("signatureOffset"),n.u8("signatureInstructionIndex"),n.KB("ethAddressOffset"),n.u8("ethAddressInstructionIndex"),n.KB("messageDataOffset"),n.KB("messageDataSize"),n.u8("messageInstructionIndex"),n.Ik(20,"ethAddress"),n.Ik(64,"signature"),n.u8("recoveryId")]);class Nt{constructor(){}static publicKeyToEthAddress(e){le(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return u.Buffer.from((0,H.fr)($(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:s,instructionIndex:i}=e;return Nt.createInstructionWithEthAddress({ethAddress:Nt.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:s,instructionIndex:i})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:s,instructionIndex:i=0}=e;let o;o="string"==typeof t?t.startsWith("0x")?u.Buffer.from(t.substr(2),"hex"):u.Buffer.from(t,"hex"):t,le(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,c=a+n.length+1,l=u.Buffer.alloc(Ct.span+r.length);return Ct.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:i,ethAddressOffset:12,ethAddressInstructionIndex:i,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:i,signature:$(n),ethAddress:$(o),recoveryId:s},l),l.fill($(r),Ct.span),new be({keys:[],programId:Nt.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;le(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=$(t),s=Lt(e,!1).slice(1),i=u.Buffer.from((0,H.fr)($(r))),[o,a]=((e,t)=>{const r=K.kA.sign(e,t);return[r.toCompactRawBytes(),r.recovery]})(i,e);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:o,recoveryId:a,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var Wt;Nt.programId=new Q("KeccakSecp256k11111111111111111111111111111");const Mt=new Q("StakeConfig11111111111111111111111111111111");class Ht{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Wt=Ht,Ht.default=new Wt(0,0,Q.default);const Kt=Object.freeze({Initialize:{index:0,layout:n.n_([n.Jq("instruction"),((e="authorized")=>n.n_([ie("staker"),ie("withdrawer")],e))(),((e="lockup")=>n.n_([n.gM("unixTimestamp"),n.gM("epoch"),ie("custodian")],e))()])},Authorize:{index:1,layout:n.n_([n.Jq("instruction"),ie("newAuthorized"),n.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:n.n_([n.Jq("instruction")])},Split:{index:3,layout:n.n_([n.Jq("instruction"),n.gM("lamports")])},Withdraw:{index:4,layout:n.n_([n.Jq("instruction"),n.gM("lamports")])},Deactivate:{index:5,layout:n.n_([n.Jq("instruction")])},Merge:{index:7,layout:n.n_([n.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:n.n_([n.Jq("instruction"),ie("newAuthorized"),n.Jq("stakeAuthorizationType"),oe("authoritySeed"),ie("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class jt{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,s=n||Ht.default,i=Ie(Kt.Initialize,{authorized:{staker:$(r.staker.toBuffer()),withdrawer:$(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:$(s.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Se,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new be(o)}static createAccountWithSeed(e){const t=new me;t.add(ze.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:s}))}static createAccount(e){const t=new me;t.add(ze.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,s=Ie(Kt.Delegate);return(new me).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:xe,isSigner:!1,isWritable:!1},{pubkey:Mt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:s,custodianPubkey:i}=e,o=Ie(Kt.Authorize,{newAuthorized:$(n.toBuffer()),stakeAuthorizationType:s.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:we,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&a.push({pubkey:i,isSigner:!0,isWritable:!1}),(new me).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:s,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:a}=e,c=Ie(Kt.AuthorizeWithSeed,{newAuthorized:$(i.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:$(s.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:we,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new me).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:s}=e,i=Ie(Kt.Split,{lamports:s});return new be({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static split(e,t){const r=new me;return r.add(ze.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:s,basePubkey:i,seed:o,lamports:a}=e,c=new me;return c.add(ze.allocate({accountPubkey:s,basePubkey:i,seed:o,space:this.space,programId:this.programId})),t&&t>0&&c.add(ze.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:s,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,s=Ie(Kt.Merge);return(new me).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:xe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:s,custodianPubkey:i}=e,o=Ie(Kt.Withdraw,{lamports:s}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:xe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&a.push({pubkey:i,isSigner:!0,isWritable:!1}),(new me).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=Ie(Kt.Deactivate);return(new me).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}jt.programId=new Q("Stake11111111111111111111111111111111111111"),jt.space=200;const qt=Object.freeze({InitializeAccount:{index:0,layout:n.n_([n.Jq("instruction"),((e="voteInit")=>n.n_([ie("nodePubkey"),ie("authorizedVoter"),ie("authorizedWithdrawer"),n.u8("commission")],e))()])},Authorize:{index:1,layout:n.n_([n.Jq("instruction"),ie("newAuthorized"),n.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:n.n_([n.Jq("instruction"),n.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:n.n_([n.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:n.n_([n.Jq("instruction"),((e="voteAuthorizeWithSeedArgs")=>n.n_([n.Jq("voteAuthorizationType"),ie("currentAuthorityDerivedKeyOwnerPubkey"),oe("currentAuthorityDerivedKeySeed"),ie("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Dt{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,s=Ie(qt.InitializeAccount,{voteInit:{nodePubkey:$(n.nodePubkey.toBuffer()),authorizedVoter:$(n.authorizedVoter.toBuffer()),authorizedWithdrawer:$(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),i={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Se,isSigner:!1,isWritable:!1},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new be(i)}static createAccount(e){const t=new me;return t.add(ze.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:s}=e,i=Ie(qt.Authorize,{newAuthorized:$(n.toBuffer()),voteAuthorizationType:s.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new me).add({keys:o,programId:this.programId,data:i})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:s,voteAuthorizationType:i,votePubkey:o}=e,a=Ie(qt.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:$(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:$(s.toBuffer()),voteAuthorizationType:i.index}}),c=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:we,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new me).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:s}=e,i=Ie(qt.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new me).add({keys:o,programId:this.programId,data:i})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Dt.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,s=Ie(qt.UpdateValidatorIdentity),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new me).add({keys:i,programId:this.programId,data:s})}}Dt.programId=new Q("Vote111111111111111111111111111111111111111"),Dt.space=3762;new Q("Va1idator1nfo111111111111111111111111111111"),(0,M.dt)({name:(0,M.Z_)(),website:(0,M.jt)((0,M.Z_)()),details:(0,M.jt)((0,M.Z_)()),iconUrl:(0,M.jt)((0,M.Z_)()),keybaseUsername:(0,M.jt)((0,M.Z_)())});new Q("Vote111111111111111111111111111111111111111"),n.n_([ie("nodePubkey"),ie("authorizedWithdrawer"),n.u8("commission"),n._O(),n.A9(n.n_([n._O("slot"),n.Jq("confirmationCount")]),n.cv(n.Jq(),-8),"votes"),n.u8("rootSlotValid"),n._O("rootSlot"),n._O(),n.A9(n.n_([n._O("epoch"),ie("authorizedVoter")]),n.cv(n.Jq(),-8),"authorizedVoters"),n.n_([n.A9(n.n_([ie("authorizedPubkey"),n._O("epochOfLastAuthorizedSwitch"),n._O("targetEpoch")]),32,"buf"),n._O("idx"),n.u8("isEmpty")],"priorVoters"),n._O(),n.A9(n.n_([n._O("epoch"),n._O("credits"),n._O("prevCredits")]),n.cv(n.Jq(),-8),"epochCredits"),n.n_([n._O("slot"),n._O("timestamp")],"lastTimestamp")]);const Ft=e=>{const t=(0,n.Ik)(32,e),{encode:r,decode:s}=i(t),o=t;return o.decode=(e,t)=>{const r=s(e,t);return new Q(r)},o.encode=(e,t,n)=>{const s=e.toBuffer();return r(s,t,n)},o};var Gt=r(16257);const $t=new Gt.nh("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Jt=(new Gt.nh("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new Gt.nh("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"));new Gt.nh("So11111111111111111111111111111111111111112"),new Gt.nh("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");class Vt extends Error{constructor(e){super(e)}}class Xt extends Vt{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const Zt=(0,n.n_)([(0,n.Jq)("mintAuthorityOption"),Ft("mintAuthority"),c("supply"),(0,n.u8)("decimals"),(e=>{const t=(0,n.u8)(e),{encode:r,decode:s}=i(t),o=t;return o.decode=(e,t)=>!!s(e,t),o.encode=(e,t,n)=>{const s=Number(e);return r(s,t,n)},o})("isInitialized"),(0,n.Jq)("freezeAuthorityOption"),Ft("freezeAuthority")]);Zt.span;async function Yt(e,t,r=!1,n=$t,s=Jt){if(!r&&!Gt.nh.isOnCurve(t.toBuffer()))throw new Xt;const[i]=await Gt.nh.findProgramAddress([t.toBuffer(),n.toBuffer(),e.toBuffer()],s);return i}},14385:(e,t,r)=>{"use strict";r.d(t,{AG:()=>S,G0:()=>B,IM:()=>A,IX:()=>y,O7:()=>b,Rx:()=>x,Ue:()=>d,Yj:()=>g,Z_:()=>v,_4:()=>T,bc:()=>I,dt:()=>E,eE:()=>m,i0:()=>w,jt:()=>_,oQ:()=>R});class n extends TypeError{constructor(e,t){let r;const{message:n,explanation:s,...i}=e,{path:o}=e,a=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(s??a),null!=s&&(this.cause=a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function s(e){return"object"==typeof e&&null!=e}function i(e){return s(e)&&!Array.isArray(e)}function o(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function a(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:s,branch:i}=t,{type:a}=r,{refinement:c,message:u=`Expected a value of type \`${a}\`${c?` with refinement \`${c}\``:""}, but received: \`${o(n)}\``}=e;return{value:n,type:a,refinement:c,key:s[s.length-1],path:s,branch:i,...e,message:u}}function*c(e,t,r,n){var i;s(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const s of e){const e=a(s,t,r,n);e&&(yield e)}}function*u(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:a=!1}=r,c={path:n,branch:i,mask:a};o&&(e=t.coercer(e,c));let l="valid";for(const n of t.validator(e,c))n.explanation=r.message,l="not_valid",yield[n,void 0];for(let[d,h,f]of t.entries(e,c)){const t=u(h,f,{path:void 0===d?n:[...n,d],branch:void 0===d?i:[...i,h],coerce:o,mask:a,message:r.message});for(const r of t)r[0]?(l=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):o&&(h=r[1],void 0===d?e=h:e instanceof Map?e.set(d,h):e instanceof Set?e.add(h):s(e)&&(void 0!==h||d in e)&&(e[d]=h))}if("not_valid"!==l)for(const n of t.refiner(e,c))n.explanation=r.message,l="not_refined",yield[n,void 0];"valid"===l&&(yield[void 0,e])}class l{constructor(e){const{type:t,schema:r,validator:n,refiner:s,coercer:i=(e=>e),entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=i,this.validator=n?(e,t)=>c(n(e,t),t,this,e):()=>[],this.refiner=s?(e,t)=>c(s(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,r){const n=f(e,t,{message:r});if(n[0])throw n[0]}(e,this,t)}create(e,t){return d(e,this,t)}is(e){return h(e,this)}mask(e,t){return function(e,t,r){const n=f(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}(e,this,t)}validate(e,t={}){return f(e,this,t)}}function d(e,t,r){const n=f(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function h(e,t){return!f(e,t)[0]}function f(e,t,r={}){const s=u(e,t,r),i=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(s);if(i[0]){return[new n(i[0],(function*(){for(const e of s)e[0]&&(yield e[0])})),void 0]}return[void 0,i[1]]}function p(e,t){return new l({type:e,schema:null,validator:t})}function g(){return p("any",(()=>!0))}function y(e){return new l({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${o(e)}`})}function b(){return p("boolean",(e=>"boolean"==typeof e))}function m(e){return p("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${o(t)}`))}function w(e){const t=o(e),r=typeof e;return new l({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${o(r)}`})}function k(){return p("never",(()=>!1))}function S(e){return new l({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function x(){return p("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${o(e)}`))}function _(e){return new l({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function A(e,t){return new l({type:"record",schema:null,*entries(r){if(s(r))for(const n in r){const s=r[n];yield[n,n,e],yield[n,s,t]}},validator:e=>i(e)||`Expected an object, but received: ${o(e)}`,coercer:e=>i(e)?{...e}:e})}function v(){return p("string",(e=>"string"==typeof e||`Expected a string, but received: ${o(e)}`))}function I(e){const t=k();return new l({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let s=0;s<n;s++)yield[s,r[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${o(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function E(e){const t=Object.keys(e);return new l({type:"type",schema:e,*entries(r){if(s(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>i(e)||`Expected an object, but received: ${o(e)}`,coercer:e=>i(e)?{...e}:e})}function B(e){const t=e.map((e=>e.type)).join(" | ");return new l({type:"union",schema:null,coercer(t,r){for(const n of e){const[e,s]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return s}return t},validator(r,n){const s=[];for(const t of e){const[...e]=u(r,t,n),[i]=e;if(!i[0])return[];for(const[t]of e)t&&s.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${o(r)}`,...s]}})}function T(){return p("unknown",(()=>!0))}function R(e,t,r){return new l({...e,coercer:(n,s)=>h(n,t)?e.coercer(r(n,s),s):e.coercer(n,s)})}}}]);