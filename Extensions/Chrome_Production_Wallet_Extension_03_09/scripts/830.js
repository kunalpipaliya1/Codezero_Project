(self.webpackChunk_portal_portal_extension=self.webpackChunk_portal_portal_extension||[]).push([[830],{15129:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function n(e,...t){if(!((r=e)instanceof Uint8Array||ArrayBuffer.isView(r)&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.anumber=r,t.abytes=n,t.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)},t.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},t.aoutput=function(e,t){n(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}},14802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLAKE=t.SIGMA=void 0;const n=r(15129),i=r(91485);t.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class s extends i.Hash{constructor(e,t,r={},s,o,a){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,n.anumber)(e),(0,n.anumber)(t),(0,n.anumber)(s),t<0||t>s)throw new Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>s))throw new Error("key length must be undefined or 1.."+s);if(void 0!==r.salt&&r.salt.length!==o)throw new Error("salt must be undefined or "+o);if(void 0!==r.personalization&&r.personalization.length!==a)throw new Error("personalization must be undefined or "+a);this.buffer=new Uint8Array(e),this.buffer32=(0,i.u32)(this.buffer)}update(e){(0,n.aexists)(this);const{blockLen:t,buffer:r,buffer32:s}=this,o=(e=(0,i.toBytes)(e)).length,a=e.byteOffset,c=e.buffer;for(let n=0;n<o;){this.pos===t&&(i.isLE||(0,i.byteSwap32)(s),this.compress(s,0,!1),i.isLE||(0,i.byteSwap32)(s),this.pos=0);const u=Math.min(t-this.pos,o-n),l=a+n;if(u!==t||l%4||!(n+u<o))r.set(e.subarray(n,n+u),this.pos),this.pos+=u,this.length+=u,n+=u;else{const e=new Uint32Array(c,l,Math.floor((o-n)/4));i.isLE||(0,i.byteSwap32)(e);for(let r=0;n+t<o;r+=s.length,n+=t)this.length+=t,this.compress(e,r,!1);i.isLE||(0,i.byteSwap32)(e)}}return this}digestInto(e){(0,n.aexists)(this),(0,n.aoutput)(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),i.isLE||(0,i.byteSwap32)(r),this.compress(r,0,!0),i.isLE||(0,i.byteSwap32)(r);const s=(0,i.u32)(e);this.get().forEach(((e,t)=>s[t]=(0,i.byteSwapIfBE)(e)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:n,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=r,e.finished=n,e.destroyed=i,e.outputLen=s,e.buffer.set(t),e.pos=o,e}}t.BLAKE=s},61886:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=void 0,t.fromBig=i,t.split=s,t.add=w;const r=BigInt(2**32-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function s(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=i(e[s],t);[r[s],n[s]]=[o,a]}return[r,n]}const o=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=o;const a=(e,t,r)=>e>>>r;t.shrSH=a;const c=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=c;const u=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=u;const l=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=l;const d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;const h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;const f=(e,t)=>t;t.rotr32H=f;const p=(e,t)=>e;t.rotr32L=p;const y=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=y;const g=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=g;const b=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=b;const m=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}t.rotlBL=m;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=k;const S=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;t.add3H=S;const x=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=x;const v=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;t.add4H=v;const A=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=A;const E=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;t.add5H=E;const B={fromBig:i,split:s,toBig:o,shrSH:a,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:y,rotlSL:g,rotlBH:b,rotlBL:m,add:w,add3L:k,add3H:S,add4L:x,add4H:v,add5H:E,add5L:A};t.default=B},27327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2b=t.BLAKE2b=void 0;const n=r(14802),i=r(61886),s=r(91485),o=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=new Uint32Array(32);function c(e,t,r,n,s,o){const c=s[o],u=s[o+1];let l=a[2*e],d=a[2*e+1],h=a[2*t],f=a[2*t+1],p=a[2*r],y=a[2*r+1],g=a[2*n],b=a[2*n+1],m=i.default.add3L(l,h,c);d=i.default.add3H(m,d,f,u),l=0|m,({Dh:b,Dl:g}={Dh:b^d,Dl:g^l}),({Dh:b,Dl:g}={Dh:i.default.rotr32H(b,g),Dl:i.default.rotr32L(b,g)}),({h:y,l:p}=i.default.add(y,p,b,g)),({Bh:f,Bl:h}={Bh:f^y,Bl:h^p}),({Bh:f,Bl:h}={Bh:i.default.rotrSH(f,h,24),Bl:i.default.rotrSL(f,h,24)}),a[2*e]=l,a[2*e+1]=d,a[2*t]=h,a[2*t+1]=f,a[2*r]=p,a[2*r+1]=y,a[2*n]=g,a[2*n+1]=b}function u(e,t,r,n,s,o){const c=s[o],u=s[o+1];let l=a[2*e],d=a[2*e+1],h=a[2*t],f=a[2*t+1],p=a[2*r],y=a[2*r+1],g=a[2*n],b=a[2*n+1],m=i.default.add3L(l,h,c);d=i.default.add3H(m,d,f,u),l=0|m,({Dh:b,Dl:g}={Dh:b^d,Dl:g^l}),({Dh:b,Dl:g}={Dh:i.default.rotrSH(b,g,16),Dl:i.default.rotrSL(b,g,16)}),({h:y,l:p}=i.default.add(y,p,b,g)),({Bh:f,Bl:h}={Bh:f^y,Bl:h^p}),({Bh:f,Bl:h}={Bh:i.default.rotrBH(f,h,63),Bl:i.default.rotrBL(f,h,63)}),a[2*e]=l,a[2*e+1]=d,a[2*t]=h,a[2*t+1]=f,a[2*r]=p,a[2*r+1]=y,a[2*n]=g,a[2*n+1]=b}class l extends n.BLAKE{constructor(e={}){super(128,void 0===e.dkLen?64:e.dkLen,e,64,16,16),this.v0l=0|o[0],this.v0h=0|o[1],this.v1l=0|o[2],this.v1h=0|o[3],this.v2l=0|o[4],this.v2h=0|o[5],this.v3l=0|o[6],this.v3h=0|o[7],this.v4l=0|o[8],this.v4h=0|o[9],this.v5l=0|o[10],this.v5h=0|o[11],this.v6l=0|o[12],this.v6h=0|o[13],this.v7l=0|o[14],this.v7h=0|o[15];const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const t=(0,s.u32)((0,s.toBytes)(e.salt));this.v4l^=(0,s.byteSwapIfBE)(t[0]),this.v4h^=(0,s.byteSwapIfBE)(t[1]),this.v5l^=(0,s.byteSwapIfBE)(t[2]),this.v5h^=(0,s.byteSwapIfBE)(t[3])}if(e.personalization){const t=(0,s.u32)((0,s.toBytes)(e.personalization));this.v6l^=(0,s.byteSwapIfBE)(t[0]),this.v6h^=(0,s.byteSwapIfBE)(t[1]),this.v7l^=(0,s.byteSwapIfBE)(t[2]),this.v7h^=(0,s.byteSwapIfBE)(t[3])}if(e.key){const t=new Uint8Array(this.blockLen);t.set((0,s.toBytes)(e.key)),this.update(t)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:s,v3l:o,v3h:a,v4l:c,v4h:u,v5l:l,v5h:d,v6l:h,v6h:f,v7l:p,v7h:y}=this;return[e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y]}set(e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|c,this.v4h=0|u,this.v5l=0|l,this.v5h=0|d,this.v6l=0|h,this.v6h=0|f,this.v7l=0|p,this.v7h=0|y}compress(e,t,r){this.get().forEach(((e,t)=>a[t]=e)),a.set(o,16);let{h:s,l}=i.default.fromBig(BigInt(this.length));a[24]=o[8]^l,a[25]=o[9]^s,r&&(a[28]=~a[28],a[29]=~a[29]);let d=0;const h=n.SIGMA;for(let r=0;r<12;r++)c(0,4,8,12,e,t+2*h[d++]),u(0,4,8,12,e,t+2*h[d++]),c(1,5,9,13,e,t+2*h[d++]),u(1,5,9,13,e,t+2*h[d++]),c(2,6,10,14,e,t+2*h[d++]),u(2,6,10,14,e,t+2*h[d++]),c(3,7,11,15,e,t+2*h[d++]),u(3,7,11,15,e,t+2*h[d++]),c(0,5,10,15,e,t+2*h[d++]),u(0,5,10,15,e,t+2*h[d++]),c(1,6,11,12,e,t+2*h[d++]),u(1,6,11,12,e,t+2*h[d++]),c(2,7,8,13,e,t+2*h[d++]),u(2,7,8,13,e,t+2*h[d++]),c(3,4,9,14,e,t+2*h[d++]),u(3,4,9,14,e,t+2*h[d++]);this.v0l^=a[0]^a[16],this.v0h^=a[1]^a[17],this.v1l^=a[2]^a[18],this.v1h^=a[3]^a[19],this.v2l^=a[4]^a[20],this.v2h^=a[5]^a[21],this.v3l^=a[6]^a[22],this.v3h^=a[7]^a[23],this.v4l^=a[8]^a[24],this.v4h^=a[9]^a[25],this.v5l^=a[10]^a[26],this.v5h^=a[11]^a[27],this.v6l^=a[12]^a[28],this.v6h^=a[13]^a[29],this.v7l^=a[14]^a[30],this.v7h^=a[15]^a[31],a.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.BLAKE2b=l,t.blake2b=(0,s.wrapConstructorWithOpts)((e=>new l(e)))},62657:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},91485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.isLE=void 0,t.isBytes=function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name},t.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},t.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},t.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},t.rotr=function(e,t){return e<<32-t|e>>>t},t.rotl=function(e,t){return e<<t|e>>>32-t>>>0},t.byteSwap=s,t.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=s(e[t])},t.bytesToHex=function(e){(0,i.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=c(e.charCodeAt(i)),s=c(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=u,t.toBytes=l,t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.abytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!=={}.toString.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(l(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(l(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return n.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")};const n=r(62657),i=r(15129);function s(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],t.byteSwapIfBE=t.isLE?e=>e:e=>s(e);const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const a={_0:48,_9:57,A:65,F:70,a:97,f:102};function c(e){return e>=a._0&&e<=a._9?e-a._0:e>=a.A&&e<=a.F?e-(a.A-10):e>=a.a&&e<=a.f?e-(a.a-10):void 0}function u(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function l(e){return"string"==typeof e&&(e=u(e)),(0,i.abytes)(e),e}t.nextTick=async()=>{};t.Hash=class{clone(){return this._cloneInto()}}},77268:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mnemonicToSeedSync=t.mnemonicToSeed=t.validateMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.generateMnemonic=void 0;const n=r(71885),i=r(69074),s=r(47469),o=r(89681),a=r(9690),c=r(9760),u=e=>"あいこくしん"===e[0];function l(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function d(e){const t=l(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}function h(e){n.default.bytes(e,16,20,24,28,32)}t.generateMnemonic=function(e,t=128){if(n.default.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return g((0,a.randomBytes)(t/8),e)};const f=e=>{const t=8-e.length/4;return new Uint8Array([(0,s.sha256)(e)[0]>>t<<t])};function p(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),c.utils.chain(c.utils.checksum(1,f),c.utils.radix2(11,!0),c.utils.alphabet(e))}function y(e,t){const{words:r}=d(e),n=p(t).decode(r);return h(n),n}function g(e,t){h(e);return p(t).encode(e).join(u(t)?"　":" ")}t.mnemonicToEntropy=y,t.entropyToMnemonic=g,t.validateMnemonic=function(e,t){try{y(e,t)}catch(e){return!1}return!0};const b=e=>l(`mnemonic${e}`);t.mnemonicToSeed=function(e,t=""){return(0,i.pbkdf2Async)(o.sha512,d(e).nfkd,b(t),{c:2048,dkLen:64})},t.mnemonicToSeedSync=function(e,t=""){return(0,i.pbkdf2)(o.sha512,d(e).nfkd,b(t),{c:2048,dkLen:64})}},71885:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Expected Uint8Array");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=i,t.hash=s,t.exists=o,t.output=a;const c={number:r,bool:n,bytes:i,hash:s,exists:o,output:a};t.default=c},1222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const n=r(71885),i=r(9690);class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a!==s)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}t.SHA2=s},51101:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function s(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=i(e[s],t);[r[s],n[s]]=[o,a]}return[r,n]}t.fromBig=i,t.split=s;const o=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=o;const a=(e,t,r)=>e>>>r;t.shrSH=a;const c=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=c;const u=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=u;const l=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=l;const d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;const h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;const f=(e,t)=>t;t.rotr32H=f;const p=(e,t)=>e;t.rotr32L=p;const y=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=y;const g=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=g;const b=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=b;const m=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}t.rotlBL=m,t.add=w;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=k;const S=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;t.add3H=S;const x=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=x;const v=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;t.add4H=v;const A=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=A;const E=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;t.add5H=E;const B={fromBig:i,split:s,toBig:o,shrSH:a,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:y,rotlSL:g,rotlBH:b,rotlBL:m,add:w,add3L:k,add3H:S,add4L:x,add4H:v,add5H:E,add5L:A};t.default=B},63318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const n=r(71885),i=r(9690);class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=s;t.hmac=(e,t,r)=>new s(e,t).update(r).digest(),t.hmac.create=(e,t)=>new s(e,t)},69074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pbkdf2Async=t.pbkdf2=void 0;const n=r(71885),i=r(57394),s=r(9690);function o(e,t,r,o){(0,n.hash)(e);const a=(0,s.checkOpts)({dkLen:32,asyncTick:10},o),{c,dkLen:u,asyncTick:l}=a;if((0,n.number)(c),(0,n.number)(u),(0,n.number)(l),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const d=(0,s.toBytes)(t),h=(0,s.toBytes)(r),f=new Uint8Array(u),p=i.hmac.create(e,d),y=p._cloneInto().update(h);return{c,dkLen:u,asyncTick:l,DK:f,PRF:p,PRFSalt:y}}function a(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}t.pbkdf2=function(e,t,r,n){const{c:i,dkLen:c,DK:u,PRF:l,PRFSalt:d}=o(e,t,r,n);let h;const f=new Uint8Array(4),p=(0,s.createView)(f),y=new Uint8Array(l.outputLen);for(let e=1,t=0;t<c;e++,t+=l.outputLen){const r=u.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(h=d._cloneInto(h)).update(f).digestInto(y),r.set(y.subarray(0,r.length));for(let e=1;e<i;e++){l._cloneInto(h).update(y).digestInto(y);for(let e=0;e<r.length;e++)r[e]^=y[e]}}return a(l,d,u,h,y)},t.pbkdf2Async=async function(e,t,r,n){const{c:i,dkLen:c,asyncTick:u,DK:l,PRF:d,PRFSalt:h}=o(e,t,r,n);let f;const p=new Uint8Array(4),y=(0,s.createView)(p),g=new Uint8Array(d.outputLen);for(let e=1,t=0;t<c;e++,t+=d.outputLen){const r=l.subarray(t,t+d.outputLen);y.setInt32(0,e,!1),(f=h._cloneInto(f)).update(p).digestInto(g),r.set(g.subarray(0,r.length)),await(0,s.asyncLoop)(i-1,u,(()=>{d._cloneInto(f).update(g).digestInto(g);for(let e=0;e<r.length;e++)r[e]^=g[e]}))}return a(d,h,l,f,g)}},47469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(1222),i=r(9690),s=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],r=c[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;c[e]=s+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:a,D:u,E:l,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+((p=l)&d^~p&h)+o[e]+c[e]|0,y=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+s(r,n,a)|0;f=h,h=d,d=l,l=u+t|0,u=a,a=n,n=r,r=t+y|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,n,a,u,l,d,h,f)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new u)),t.sha224=(0,i.wrapConstructor)((()=>new l))},89681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const n=r(1222),i=r(51101),s=r(9690),[o,a]=(()=>i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),u=new Uint32Array(80);class l extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y]}set(e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),u[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|u[e-15],n=i.default.rotrSH(t,r,1)^i.default.rotrSH(t,r,8)^i.default.shrSH(t,r,7),s=i.default.rotrSL(t,r,1)^i.default.rotrSL(t,r,8)^i.default.shrSL(t,r,7),o=0|c[e-2],a=0|u[e-2],l=i.default.rotrSH(o,a,19)^i.default.rotrBH(o,a,61)^i.default.shrSH(o,a,6),d=i.default.rotrSL(o,a,19)^i.default.rotrBL(o,a,61)^i.default.shrSL(o,a,6),h=i.default.add4L(s,d,u[e-7],u[e-16]),f=i.default.add4H(h,n,l,c[e-7],c[e-16]);c[e]=0|f,u[e]=0|h}let{Ah:r,Al:n,Bh:s,Bl:l,Ch:d,Cl:h,Dh:f,Dl:p,Eh:y,El:g,Fh:b,Fl:m,Gh:w,Gl:k,Hh:S,Hl:x}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(y,g,14)^i.default.rotrSH(y,g,18)^i.default.rotrBH(y,g,41),v=i.default.rotrSL(y,g,14)^i.default.rotrSL(y,g,18)^i.default.rotrBL(y,g,41),A=y&b^~y&w,E=g&m^~g&k,B=i.default.add5L(x,v,E,a[e],u[e]),_=i.default.add5H(B,S,t,A,o[e],c[e]),I=0|B,T=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),z=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),U=r&s^r&d^s&d,P=n&l^n&h^l&h;S=0|w,x=0|k,w=0|b,k=0|m,b=0|y,m=0|g,({h:y,l:g}=i.default.add(0|f,0|p,0|_,0|I)),f=0|d,p=0|h,d=0|s,h=0|l,s=0|r,l=0|n;const L=i.default.add3L(I,z,P);r=i.default.add3H(L,_,T,U),n=0|L}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l}=i.default.add(0|this.Bh,0|this.Bl,0|s,0|l)),({h:d,l:h}=i.default.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:f,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:y,l:g}=i.default.add(0|this.Eh,0|this.El,0|y,0|g)),({h:b,l:m}=i.default.add(0|this.Fh,0|this.Fl,0|b,0|m)),({h:w,l:k}=i.default.add(0|this.Gh,0|this.Gl,0|w,0|k)),({h:S,l:x}=i.default.add(0|this.Hh,0|this.Hl,0|S,0|x)),this.set(r,n,s,l,d,h,f,p,y,g,b,m,w,k,S,x)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class d extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class f extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,s.wrapConstructor)((()=>new l)),t.sha512_224=(0,s.wrapConstructor)((()=>new d)),t.sha512_256=(0,s.wrapConstructor)((()=>new h)),t.sha384=(0,s.wrapConstructor)((()=>new f))},9690:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const n=r(63318);t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!i(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t};const o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=o._0&&e<=o._9?e-o._0:e>=o._A&&e<=o._F?e-(o._A-10):e>=o._a&&e<=o._f?e-(o._a-10):void 0}t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=a(e.charCodeAt(i)),s=a(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n};function c(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function u(e){if("string"==typeof e&&(e=c(e)),!i(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=c,t.toBytes=u,t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!i(n))throw new Error("Uint8Array expected");t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};t.Hash=class{clone(){return this._cloneInto()}};const l={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==l.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(u(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},9760:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function n(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map((e=>e.encode)).reduceRight(r,t),decode:e.map((e=>e.decode)).reduce(r,t)}}function s(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function a(e,t="="){if(r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function c(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function u(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const s=[],o=Array.from(e);for(o.forEach((e=>{if(r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,r=!0;for(let s=i;s<o.length;s++){const a=o[s],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const u=Math.floor(c/n);if(o[s]=u,!Number.isSafeInteger(u)||u*n+e!==c)throw new Error("convertRadix: carry overflow");r&&(u?r=!1:i=s)}if(s.push(e),r)break}for(let t=0;t<e.length-1&&0===e[t];t++)s.push(0);return s.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hexnopad=t.base32hex=t.base32nopad=t.base32=t.base16=t.utils=void 0,t.assertNumber=r;const l=(e,t)=>t?l(t,e%t):e,d=(e,t)=>e+(t-l(e,t));function h(e,t,n,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(d(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${d(t,n)}`);let s=0,o=0;const a=2**n-1,c=[];for(const i of e){if(r(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(s=s<<t|i,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)c.push((s>>o-n&a)>>>0);s&=2**o-1}if(s=s<<n-o&a,!i&&o>=t)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&o>0&&c.push(s>>>0),c}function f(e){return r(e),{encode:t=>{if(!n(t))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(u(t,e,256))}}}function p(e,t=!1){if(r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(d(8,e)>32||d(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!n(r))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(h(r,e,8,t))}}}function y(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function g(e,t){if(r(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!n(r))throw new Error("checksum.encode: input should be Uint8Array");const i=t(r).slice(0,e),s=new Uint8Array(r.length+e);return s.set(r),s.set(i,r.length),s},decode(r){if(!n(r))throw new Error("checksum.decode: input should be Uint8Array");const i=r.slice(0,-e),s=t(i).slice(0,e),o=r.slice(-e);for(let t=0;t<e;t++)if(s[t]!==o[t])throw new Error("Invalid checksum");return i}}}t.utils={alphabet:s,chain:i,checksum:g,convertRadix:u,convertRadix2:h,radix:f,radix2:p,join:o,padding:a},t.base16=i(p(4),s("0123456789ABCDEF"),o("")),t.base32=i(p(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),a(5),o("")),t.base32nopad=i(p(5),s("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),t.base32hex=i(p(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),a(5),o("")),t.base32hexnopad=i(p(5),s("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),t.base32crockford=i(p(5),s("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),c((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=i(p(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),a(6),o("")),t.base64nopad=i(p(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),t.base64url=i(p(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(6),o("")),t.base64urlnopad=i(p(6),s("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const b=e=>i(f(58),s(e),o(""));t.base58=b("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=b("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=b("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const m=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let r="";for(let n=0;n<e.length;n+=8){const i=e.subarray(n,n+8);r+=t.base58.encode(i).padStart(m[i.length],"1")}return r},decode(e){let r=[];for(let n=0;n<e.length;n+=11){const i=e.slice(n,n+11),s=m.indexOf(i.length),o=t.base58.decode(i);for(let e=0;e<o.length-s;e++)if(0!==o[e])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(r)}};t.createBase58check=e=>i(g(4,(t=>e(e(t)))),t.base58),t.base58check=t.createBase58check;const w=i(s("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),k=[996825010,642813549,513874426,1027748829,705979059];function S(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<k.length;e++)1==(t>>e&1)&&(r^=k[e]);return r}function x(e,t,r=1){const n=e.length;let i=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);i=S(i)^r>>5}i=S(i);for(let t=0;t<n;t++)i=S(i)^31&e.charCodeAt(t);for(let e of t)i=S(i)^e;for(let e=0;e<6;e++)i=S(i);return i^=r,w.encode(h([i%2**30],30,5,!1))}function v(e){const t="bech32"===e?1:734539939,r=p(5),n=r.decode,i=r.encode,s=y(n);function o(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(r instanceof Uint8Array&&(r=Array.from(r)),!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);if(0===e.length)throw new TypeError(`Invalid prefix length ${e.length}`);const i=e.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);const s=e.toLowerCase(),o=x(s,r,t);return`${s}1${w.encode(r)}${o}`}function a(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=n.lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const s=n.slice(0,i),o=n.slice(i+1);if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=w.decode(o).slice(0,-6),c=x(s,a,t);if(!o.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:s,words:a}}return{encode:o,decode:a,encodeFromBytes:function(e,t){return o(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:y(a),fromWords:n,fromWordsUnsafe:s,toWords:i}}t.bech32=v("bech32"),t.bech32m=v("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=i(p(4),s("0123456789abcdef"),o(""),c((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const A={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},E="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";t.bytesToString=(e,t)=>{if("string"!=typeof e||!A.hasOwnProperty(e))throw new TypeError(E);if(!n(t))throw new TypeError("bytesToString() expects Uint8Array");return A[e].encode(t)},t.str=t.bytesToString;t.stringToBytes=(e,t)=>{if(!A.hasOwnProperty(e))throw new TypeError(E);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return A[e].decode(t)},t.bytes=t.stringToBytes},45695:(e,t,r)=>{"use strict";t._O=t.Jq=t.KB=t.u8=t.cv=void 0,t.Ik=t.A9=t.n_=t.gM=void 0;const n=r(34042);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}class o{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class c extends o{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends c{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){i(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class l extends c{constructor(e,t=0,r){if(!(e instanceof o))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof d||this.layout instanceof h}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}class d extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntLE(e,r,this.span),this.span}}class h extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readUIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeUIntBE(e,r,this.span),this.span}}class f extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntLE(t,this.span)}encode(e,t,r=0){return s(t).writeIntLE(e,r,this.span),this.span}}class p extends o{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return s(e).readIntBE(t,this.span)}encode(e,t,r=0){return s(t).writeIntBE(e,r,this.span),this.span}}const y=Math.pow(2,32);function g(e){const t=Math.floor(e/y);return{hi32:t,lo32:e-t*y}}function b(e,t){return e*y+t}class m extends o{constructor(e){super(8,e)}decode(e,t=0){const r=s(e),n=r.readUInt32LE(t);return b(r.readUInt32LE(t+4),n)}encode(e,t,r=0){const n=g(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class w extends o{constructor(e){super(8,e)}decode(e,t=0){const r=s(e);return b(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=g(e),i=s(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class k extends o{constructor(e){super(8,e)}decode(e,t=0){const r=s(e),n=r.readUInt32LE(t);return b(r.readInt32LE(t+4),n)}encode(e,t,r=0){const n=g(e),i=s(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class S extends o{constructor(e){super(8,e)}decode(e,t=0){const r=s(e);return b(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=g(e),i=s(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class x extends o{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatLE(t)}encode(e,t,r=0){return s(t).writeFloatLE(e,r),4}}class v extends o{constructor(e){super(4,e)}decode(e,t=0){return s(e).readFloatBE(t)}encode(e,t,r=0){return s(t).writeFloatBE(e,r),4}}class A extends o{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleLE(t)}encode(e,t,r=0){return s(t).writeDoubleLE(e,r),8}}class E extends o{constructor(e){super(8,e)}decode(e,t=0){return s(e).readDoubleBE(t)}encode(e,t,r=0){return s(t).writeDoubleBE(e,r),8}}class B extends o{constructor(e,t,r){if(!(e instanceof o))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof c)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof c&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){const r=[];let n=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){const n=this.elementLayout,i=e.reduce(((e,i)=>e+n.encode(i,t,r+e)),0);return this.count instanceof c&&this.count.encode(e.length,t,r),i}}class _ extends o{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof o),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(e){throw new RangeError("indeterminate span")}return r}decode(e,t=0){i(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const n=r;let i=0,s=0;for(const n of this.fields){let o=n.span;if(s=0<o?o:0,void 0!==n.property){const i=e[n.property];void 0!==i&&(s=n.encode(i,t,r),0>o&&(o=n.getSpan(t,r)))}i=r,r+=o}return i+s-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class I{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}class T extends I{constructor(e,t){if(!(e instanceof c&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class z extends o{constructor(e,t,r){let n;if(e instanceof d||e instanceof h)n=new T(new l(e));else if(e instanceof c&&e.isCount())n=new T(e);else{if(!(e instanceof I))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=e}if(void 0===t&&(t=null),!(null===t||t instanceof o))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof d||e instanceof h)&&(i+=n.layout.span)),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof d||e instanceof h,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const n=this.discriminator,i=n.decode(e,t),s=this.registry[i];if(void 0===s){const s=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[s.property]=s.decode(e,t+o)}else r=s.decode(e,t);return r}encode(e,t,r=0){const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(e[n.property],t,r),s+i.encode(e[i.property],t,r+s)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new U(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}class U extends o{constructor(e,t,r,n){if(!(e instanceof z))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof o))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function P(e){return 0>e&&(e+=4294967296),e}class L extends o{constructor(e,t,r){if(!(e instanceof d||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=P(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){const r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);for(const t of this.fields)void 0!==t.property&&(r[t.property]=t.decode(e));return r}encode(e,t,r=0){const n=this.word.decode(t,r);this._packedSetValue(n);for(const t of this.fields)if(void 0!==t.property){const r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new O(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new C(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class O{constructor(e,t,r){if(!(e instanceof L))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=P(this.valueMask<<this.start),this.property=r}decode(e,t){return P(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==P(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=P(e<<this.start);this.container._packedSetValue(P(t&~this.wordMask)|r)}}class C extends O{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}class R extends o{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof c||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),s(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof c&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const i=s(e);return s(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,t,r),n}}class H extends o{constructor(e){super(-1,e)}getSpan(e,t=0){i(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return s(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));const i=n.Buffer.from(e,"utf8"),o=i.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");const a=s(t);return i.copy(a,r),a[r+o]=0,o+1}}class N extends o{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return i(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return s(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!=typeof e&&(e=String(e));const i=n.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(s(t),r),o}}class M extends o{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}t.cv=(e,t,r)=>new l(e,t,r),t.u8=e=>new d(1,e),t.KB=e=>new d(2,e),t.Jq=e=>new d(4,e),t._O=e=>new m(e),t.gM=e=>new k(e),t.n_=(e,t,r)=>new _(e,t,r),t.A9=(e,t,r)=>new B(e,t,r),t.Ik=(e,t)=>new R(e,t)},67921:(e,t)=>{t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=r?i-1:0,h=r?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+e[t+d],d+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+e[t+d],d+=h,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(t*c-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+f]=255&o,f+=p,o/=256,u-=8);e[r+f-p]|=128*y}},6275:(e,t,r)=>{"use strict";const n=r(81298).v4,i=r(95847),s=function(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),this.options={reviver:void 0!==t.reviver?t.reviver:null,replacer:void 0!==t.replacer?t.replacer:null,generator:void 0!==t.generator?t.generator:function(){return n()},version:void 0!==t.version?t.version:2,notificationIdNull:"boolean"==typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=s,s.prototype.request=function(e,t,r,n){const s=this;let o=null;const a=Array.isArray(e)&&"function"==typeof t;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"==typeof e&&"function"==typeof t)n=t,o=e;else{"function"==typeof r&&(n=r,r=void 0);const s="function"==typeof n;try{o=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(e){if(s)return n(e);throw e}if(!s)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(e){return n(e)}return this.callServer(c,(function(e,t){s._parseResponse(e,t,n)})),o},s.prototype._parseResponse=function(e,t,r){if(e)return void r(e);if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(Array.isArray(n)){const e=function(e){return void 0!==e.error},t=function(t){return!e(t)};return r(null,n.filter(e),n.filter(t))}return r(null,n.error,n.result)}r(null,n)}},95847:(e,t,r)=>{"use strict";const n=r(81298).v4;e.exports=function(e,t,r,i){if("string"!=typeof e)throw new TypeError(e+" must be a string");const s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:e};if(2===s&&(o.jsonrpc="2.0"),t){if("object"!=typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");o.params=t}if(void 0===r){const e="function"==typeof i.generator?i.generator:function(){return n()};o.id=e(o,i)}else 2===s&&null===r?i.notificationIdNull&&(o.id=null):o.id=r;return o}},45865:(e,t,r)=>{var n;!function(){"use strict";var i="input is invalid type",s="object"==typeof window,o=s?window:{};o.JS_SHA3_NO_WINDOW&&(s=!1);var a=!s&&"object"==typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?o=r.g:a&&(o=self);for(var c=!o.JS_SHA3_NO_COMMON_JS&&e.exports,u=r.amdO,l=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[4,1024,262144,67108864],f=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],g=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],m={128:168,256:136},w=o.JS_SHA3_NO_NODE_JS||!Array.isArray?function(e){return"[object Array]"===Object.prototype.toString.call(e)}:Array.isArray,k=!l||!o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView?ArrayBuffer.isView:function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer},S=function(e){var t=typeof e;if("string"===t)return[e,!0];if("object"!==t||null===e)throw new Error(i);if(l&&e.constructor===ArrayBuffer)return[new Uint8Array(e),!1];if(!w(e)&&!k(e))throw new Error(i);return[e,!1]},x=function(e){return 0===S(e)[0].length},v=function(e){for(var t=[],r=0;r<e.length;++r)t[r]=e[r];return t},A=function(e,t,r){return function(n){return new M(e,t,e).update(n)[r]()}},E=function(e,t,r){return function(n,i){return new M(e,t,i).update(n)[r]()}},B=function(e,t,r){return function(t,n,i,s){return U["cshake"+e].update(t,n,i,s)[r]()}},_=function(e,t,r){return function(t,n,i,s){return U["kmac"+e].update(t,n,i,s)[r]()}},I=function(e,t,r,n){for(var i=0;i<b.length;++i){var s=b[i];e[s]=t(r,n,s)}return e},T=function(e,t){var r=A(e,t,"hex");return r.create=function(){return new M(e,t,e)},r.update=function(e){return r.create().update(e)},I(r,A,e,t)},z=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:T},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:T},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var r=E(e,t,"hex");return r.create=function(r){return new M(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},I(r,E,e,t)}},{name:"cshake",padding:h,bits:g,createMethod:function(e,t){var r=m[e],n=B(e,0,"hex");return n.create=function(n,i,s){return x(i)&&x(s)?U["shake"+e].create(n):new M(e,t,n).bytepad([i,s],r)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},I(n,B,e,t)}},{name:"kmac",padding:h,bits:g,createMethod:function(e,t){var r=m[e],n=_(e,0,"hex");return n.create=function(n,i,s){return new W(e,t,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},I(n,_,e,t)}}],U={},P=[],L=0;L<z.length;++L)for(var O=z[L],C=O.bits,R=0;R<C.length;++R){var H=O.name+"_"+C[R];if(P.push(H),U[H]=O.createMethod(C[R],O.padding),"sha3"!==O.name){var N=O.name+C[R];P.push(N),U[N]=U[H]}}function M(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function W(e,t,r){M.call(this,e,t,r)}M.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t=S(e);e=t[0];for(var r,n,i=t[1],s=this.blocks,o=this.byteCount,a=e.length,c=this.blockCount,u=0,l=this.s;u<a;){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<c+1;++r)s[r]=0;if(i)for(r=this.start;u<a&&r<o;++u)(n=e.charCodeAt(u))<128?s[r>>2]|=n<<f[3&r++]:n<2048?(s[r>>2]|=(192|n>>6)<<f[3&r++],s[r>>2]|=(128|63&n)<<f[3&r++]):n<55296||n>=57344?(s[r>>2]|=(224|n>>12)<<f[3&r++],s[r>>2]|=(128|n>>6&63)<<f[3&r++],s[r>>2]|=(128|63&n)<<f[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++u)),s[r>>2]|=(240|n>>18)<<f[3&r++],s[r>>2]|=(128|n>>12&63)<<f[3&r++],s[r>>2]|=(128|n>>6&63)<<f[3&r++],s[r>>2]|=(128|63&n)<<f[3&r++]);else for(r=this.start;u<a&&r<o;++u)s[r>>2]|=e[u]<<f[3&r++];if(this.lastByteIndex=r,r>=o){for(this.start=r-o,this.block=s[c],r=0;r<c;++r)l[r]^=s[r];K(l),this.reset=!0}else this.start=r}return this},M.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},M.prototype.encodeString=function(e){var t=S(e);e=t[0];var r=t[1],n=0,i=e.length;if(r)for(var s=0;s<e.length;++s){var o=e.charCodeAt(s);o<128?n+=1:o<2048?n+=2:o<55296||o>=57344?n+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++s)),n+=4)}else n=i;return n+=this.encode(8*n),this.update(e),n},M.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=(t-r%t)%t,s=[];return s.length=i,this.update(s),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];K(n)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a="";o<n;){for(s=0;s<t&&o<n;++s,++o)e=r[s],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];o%t==0&&(r=v(r),K(r),s=0)}return i&&(e=r[s],a+=d[e>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},M.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);o<n;){for(s=0;s<t&&o<n;++s,++o)c[o]=r[s];o%t==0&&(r=v(r),K(r))}return i&&(c[o]=r[s],e=e.slice(0,a)),e},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,c=[];a<i;){for(o=0;o<r&&a<i;++o,++a)e=a<<2,t=n[o],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r==0&&(n=v(n),K(n))}return s&&(e=a<<2,t=n[o],c[e]=255&t,s>1&&(c[e+1]=t>>8&255),s>2&&(c[e+2]=t>>16&255)),c},W.prototype=new M,W.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var K=function(e){var t,r,n,i,s,o,a,c,u,l,d,h,f,y,g,b,m,w,k,S,x,v,A,E,B,_,I,T,z,U,P,L,O,C,R,H,N,M,W,K,F,D,q,j,$,V,J,G,Z,Y,X,Q,ee,te,re,ne,ie,se,oe,ae,ce,ue,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|a>>>31),r=(f=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|u>>>31),r=s^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(l<<1|d>>>31),r=a^(d<<1|l>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(h<<1|f>>>31),r=u^(f<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=l^(i<<1|s>>>31),r=d^(s<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,y=e[0],g=e[1],V=e[11]<<4|e[10]>>>28,J=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,z=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,D=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,C=e[2]<<1|e[3]>>>31,R=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,m=e[12]<<12|e[13]>>>20,G=e[22]<<10|e[23]>>>22,Z=e[23]<<10|e[22]>>>22,U=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,H=e[14]<<6|e[15]>>>26,N=e[15]<<6|e[14]>>>26,w=e[25]<<11|e[24]>>>21,k=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,L=e[45]<<29|e[44]>>>3,O=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,B=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,M=e[26]<<25|e[27]>>>7,W=e[27]<<25|e[26]>>>7,S=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,j=e[8]<<27|e[9]>>>5,$=e[9]<<27|e[8]>>>5,_=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,K=e[38]<<8|e[39]>>>24,F=e[39]<<8|e[38]>>>24,v=e[48]<<14|e[49]>>>18,A=e[49]<<14|e[48]>>>18,e[0]=y^~b&w,e[1]=g^~m&k,e[10]=E^~_&T,e[11]=B^~I&z,e[20]=C^~H&M,e[21]=R^~N&W,e[30]=j^~V&G,e[31]=$^~J&Z,e[40]=te^~ne&se,e[41]=re^~ie&oe,e[2]=b^~w&S,e[3]=m^~k&x,e[12]=_^~T&U,e[13]=I^~z&P,e[22]=H^~M&K,e[23]=N^~W&F,e[32]=V^~G&Y,e[33]=J^~Z&X,e[42]=ne^~se&ae,e[43]=ie^~oe&ce,e[4]=w^~S&v,e[5]=k^~x&A,e[14]=T^~U&L,e[15]=z^~P&O,e[24]=M^~K&D,e[25]=W^~F&q,e[34]=G^~Y&Q,e[35]=Z^~X&ee,e[44]=se^~ae&ue,e[45]=oe^~ce&le,e[6]=S^~v&y,e[7]=x^~A&g,e[16]=U^~L&E,e[17]=P^~O&B,e[26]=K^~D&C,e[27]=F^~q&R,e[36]=Y^~Q&j,e[37]=X^~ee&$,e[46]=ae^~ue&te,e[47]=ce^~le&re,e[8]=v^~y&b,e[9]=A^~g&m,e[18]=L^~E&_,e[19]=O^~B&I,e[28]=D^~C&H,e[29]=q^~R&N,e[38]=Q^~j&V,e[39]=ee^~$&J,e[48]=ue^~te&ne,e[49]=le^~re&ie,e[0]^=p[n],e[1]^=p[n+1]};if(c)e.exports=U;else{for(L=0;L<P.length;++L)o[P[L]]=U[P[L]];u&&(void 0===(n=function(){return U}.call(t,r,t,e))||(e.exports=n))}}()},9494:(e,t,r)=>{var n=r(34042),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},42721:(e,t,r)=>{"use strict";var n=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of o(t))c.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=s(t,a))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?n(a(e)):{},l(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),h=(e,t,r,n)=>{for(var o,a=n>1?void 0:n?s(t,r):t,c=e.length-1;c>=0;c--)(o=e[c])&&(a=(n?o(t,r,a):o(a))||a);return n&&a&&i(t,r,a),a},f={};u(f,{BCS:()=>R,CKDPriv:()=>B,HexString:()=>U,SupraAccount:()=>Rt,TransactionBuilder:()=>Zt,TransactionBuilderABI:()=>Qt,TransactionBuilderEd25519:()=>Yt,TransactionBuilderMultiEd25519:()=>Xt,TransactionBuilderRemoteABI:()=>er,TxnBuilderTypes:()=>C,TypeTagParser:()=>qe,Types:()=>tr,argToTransactionArgument:()=>$t,derivePath:()=>T,ensureBigInt:()=>Ft,ensureBoolean:()=>Wt,ensureNumber:()=>Kt,getAddressFromAccountOrAddress:()=>Ht,getMasterKeyFromSeed:()=>E,getPublicKey:()=>_,isValidPath:()=>I,serializeArg:()=>Dt}),e.exports=(e=>l(i({},"__esModule",{value:!0}),e))(f);var p=d(r(7453)),y=d(r(77268)),g=r(58572),b=r(29897),m=r(72515),w=d(r(7453)),k=r(23537),S=r(34383),x=r(58572),v=/^m(\/[0-9]+')+$/,A=e=>e.replace("'",""),E=e=>{const t=k.hmac.create(S.sha512,"ed25519 seed").update((0,x.hexToBytes)(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}},B=({key:e,chainCode:t},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const i=new Uint8Array(n),s=new Uint8Array([0]),o=new Uint8Array([...s,...e,...i]),a=k.hmac.create(S.sha512,t).update(o).digest();return{key:a.slice(0,32),chainCode:a.slice(32)}},_=(e,t=!0)=>{const r=w.default.sign.keyPair.fromSeed(e).secretKey.subarray(32),n=new Uint8Array([0]);return t?new Uint8Array([...n,...r]):r},I=e=>!!v.test(e)&&!e.split("/").slice(1).map(A).some(Number.isNaN),T=(e,t,r=2147483648)=>{if(!I(e))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=E(t);return e.split("/").slice(1).map(A).map((e=>parseInt(e,10))).reduce(((e,t)=>B(e,t+r)),{key:n,chainCode:i})},z=r(58572),U=class e{static fromBuffer(t){return e.fromUint8Array(t)}static fromUint8Array(t){return new e((0,z.bytesToHex)(t))}static ensure(t){return"string"==typeof t?new e(t):t}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from((0,z.hexToBytes)(this.noPrefix()))}};function P(e){let t,r,n;return"object"==typeof e?(t=e.hashFunction,r=e.ttlMs,n=e.tags):t=e,(e,i,s)=>{if(null!=s.value)s.value=O(s.value,t,r,n);else{if(null==s.get)throw new Error("Only put a Memoize() decorator on a method or get accessor.");s.get=O(s.get,t,r,n)}}}var L=new Map;function O(e,t,r=0,n){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[i];if(Array.isArray(n))for(const e of n)L.has(e)?L.get(e).push(c):L.set(e,[c]);if(t||s.length>0||r>0){let n;n=!0===t?s.map((e=>e.toString())).join("!"):t?t.apply(a,s):s[0];const i=`${n}__timestamp`;let u=!1;if(r>0)if(c.has(i)){const e=c.get(i);u=Date.now()-e>r}else u=!0;c.has(n)&&!u?o=c.get(n):(o=e.apply(a,s),c.set(n,o),r>0&&c.set(i,Date.now()))}else{const t=a;c.has(t)?o=c.get(t):(o=e.apply(a,s),c.set(t,o))}return o}}var C={};u(C,{AccountAddress:()=>ae,AccountAuthenticator:()=>ke,AccountAuthenticatorEd25519:()=>Se,AccountAuthenticatorMultiEd25519:()=>xe,ArgumentABI:()=>_t,AuthenticationKey:()=>Lt,AutomationRegistrationParams:()=>lt,AutomationRegistrationParamsV1:()=>dt,AutomationRegistrationParamsV1Data:()=>ht,ChainId:()=>ft,ChangeSet:()=>Qe,Ed25519PublicKey:()=>ue,Ed25519Signature:()=>de,EntryFunction:()=>Je,EntryFunctionABI:()=>zt,FeePayerRawTransaction:()=>it,Identifier:()=>ve,Module:()=>Ye,ModuleId:()=>Xe,MultiAgentRawTransaction:()=>nt,MultiEd25519PublicKey:()=>he,MultiEd25519Signature:()=>pe,MultiSig:()=>Ze,MultiSigTransactionPayload:()=>Ge,RawTransaction:()=>$e,RawTransactionWithData:()=>rt,RotationProofChallenge:()=>Ot,Script:()=>Ve,ScriptABI:()=>It,SignedTransaction:()=>tt,StructTag:()=>Re,Transaction:()=>At,TransactionArgument:()=>pt,TransactionArgumentAddress:()=>St,TransactionArgumentBool:()=>vt,TransactionArgumentU128:()=>wt,TransactionArgumentU16:()=>gt,TransactionArgumentU256:()=>kt,TransactionArgumentU32:()=>bt,TransactionArgumentU64:()=>mt,TransactionArgumentU8:()=>yt,TransactionArgumentU8Vector:()=>xt,TransactionAuthenticator:()=>ye,TransactionAuthenticatorEd25519:()=>ge,TransactionAuthenticatorFeePayer:()=>we,TransactionAuthenticatorMultiAgent:()=>me,TransactionAuthenticatorMultiEd25519:()=>be,TransactionPayload:()=>st,TransactionPayloadAutomationRegistration:()=>ut,TransactionPayloadEntryFunction:()=>at,TransactionPayloadMultisig:()=>ct,TransactionPayloadScript:()=>ot,TransactionScriptABI:()=>Tt,TypeArgumentABI:()=>Bt,TypeTag:()=>Ae,TypeTagAddress:()=>Pe,TypeTagBool:()=>Ee,TypeTagParser:()=>qe,TypeTagParserError:()=>je,TypeTagSigner:()=>Le,TypeTagStruct:()=>Ce,TypeTagU128:()=>ze,TypeTagU16:()=>_e,TypeTagU256:()=>Ue,TypeTagU32:()=>Ie,TypeTagU64:()=>Te,TypeTagU8:()=>Be,TypeTagVector:()=>Oe,UserTransaction:()=>Et,WriteSet:()=>et,objectStructTag:()=>Me,optionStructTag:()=>Ne,stringStructTag:()=>He});var R={};u(R,{Deserializer:()=>F,Serializer:()=>W,bcsSerializeBool:()=>te,bcsSerializeBytes:()=>ne,bcsSerializeFixedBytes:()=>ie,bcsSerializeStr:()=>re,bcsSerializeU128:()=>Q,bcsSerializeU16:()=>Y,bcsSerializeU256:()=>ee,bcsSerializeU32:()=>X,bcsSerializeU8:()=>Z,bcsSerializeUint64:()=>G,bcsToBytes:()=>J,deserializeVector:()=>$,deserializeVectorOfBytes:()=>V,serializeVector:()=>D,serializeVectorOfBytes:()=>q,serializeVectorWithFunc:()=>j});var H=4294967295,N=18446744073709551615n,M=340282366920938463463374607431768211455n,W=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const e=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,r){this.ensureBufferWillHandleSize(t);const n=new DataView(this.buffer,this.offset);e.apply(n,[0,r,!0]),this.offset+=t}serializeStr(e){const t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if("boolean"!=typeof e)throw new Error("Value needs to be a boolean");const t=e?1:0;this.serialize(new Uint8Array([t]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const t=BigInt(e.toString())&BigInt(H),r=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(r))}serializeU128(e){const t=BigInt(e.toString())&N,r=BigInt(e.toString())>>BigInt(64);this.serializeU64(t),this.serializeU64(r)}serializeU256(e){const t=BigInt(e.toString())&M,r=BigInt(e.toString())>>BigInt(128);this.serializeU128(t),this.serializeU128(r)}serializeU32AsUleb128(e){let t=e;const r=[];for(;t>>>7!=0;)r.push(127&t|128),t>>>=7;r.push(t),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};function K(e,t,r){return(n,i,s)=>{const o=s.value;return s.value=function(n){const i=BigInt(n.toString());if(i>BigInt(t.toString())||i<BigInt(e.toString()))throw new Error(r||"Value is out of range");o.apply(this,[n])},s}}h([K(0,255)],W.prototype,"serializeU8",1),h([K(0,65535)],W.prototype,"serializeU16",1),h([K(0,H)],W.prototype,"serializeU32",1),h([K(BigInt(0),N)],W.prototype,"serializeU64",1),h([K(BigInt(0),M)],W.prototype,"serializeU128",1),h([K(BigInt(0),115792089237316195423570985008687907853269984665640564039457584007913129639935n)],W.prototype,"serializeU256",1),h([K(0,H)],W.prototype,"serializeU32AsUleb128",1);var F=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}deserializeStr(){const e=this.deserializeBytes();return(new TextDecoder).decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(1!==e&&0!==e)throw new Error("Invalid boolean value");return 1===e}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),t=this.deserializeU32();return BigInt(BigInt(t)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),t=this.deserializeU64();return BigInt(t<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),t=this.deserializeU128();return BigInt(t<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),t=0;for(;e<H;){const r=this.deserializeU8();if(e|=BigInt(127&r)<<BigInt(t),0==(128&r))break;t+=7}if(e>H)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function D(e,t){t.serializeU32AsUleb128(e.length),e.forEach((e=>{e.serialize(t)}))}function q(e,t){t.serializeU32AsUleb128(e.length),e.forEach((e=>{t.serializeBytes(e)}))}function j(e,t){const r=new W;r.serializeU32AsUleb128(e.length);const n=r[t];return e.forEach((e=>{n.call(r,e)})),r.getBytes()}function $(e,t){const r=e.deserializeUleb128AsU32(),n=[];for(let i=0;i<r;i+=1)n.push(t.deserialize(e));return n}function V(e){const t=e.deserializeUleb128AsU32(),r=[];for(let n=0;n<t;n+=1)r.push(e.deserializeBytes());return r}function J(e){const t=new W;return e.serialize(t),t.getBytes()}function G(e){const t=new W;return t.serializeU64(e),t.getBytes()}function Z(e){const t=new W;return t.serializeU8(e),t.getBytes()}function Y(e){const t=new W;return t.serializeU16(e),t.getBytes()}function X(e){const t=new W;return t.serializeU32(e),t.getBytes()}function Q(e){const t=new W;return t.serializeU128(e),t.getBytes()}function ee(e){const t=new W;return t.serializeU256(e),t.getBytes()}function te(e){const t=new W;return t.serializeBool(e),t.getBytes()}function re(e){const t=new W;return t.serializeStr(e),t.getBytes()}function ne(e){const t=new W;return t.serializeBytes(e),t.getBytes()}function ie(e){const t=new W;return t.serializeFixedBytes(e),t.getBytes()}var se=r(72515),oe=class e{constructor(t){if(t.length!==e.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let r=U.ensure(t);r.noPrefix().length%2!=0&&(r=new U(`0${r.noPrefix()}`));const n=r.toUint8Array();if(n.length>e.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(n.length===e.LENGTH)return new e(n);const i=new Uint8Array(e.LENGTH);return i.set(n,e.LENGTH-n.length),new e(i)}static isValid(t){if(""===t)return!1;let r=U.ensure(t);r.noPrefix().length%2!=0&&(r=new U(`0${r.noPrefix()}`));return r.toUint8Array().length<=e.LENGTH}toHexString(){return U.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(t){return new e(t.deserializeFixedBytes(e.LENGTH))}static standardizeAddress(e){const t=e.toLowerCase();return`0x${(t.startsWith("0x")?t.slice(2):t).padStart(64,"0")}`}};oe.LENGTH=32,oe.CORE_CODE_ADDRESS=oe.fromHex("0x1");var ae=oe,ce=class e{constructor(t){if(t.length!==e.LENGTH)throw new Error(`Ed25519PublicKey length should be ${e.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(t){const r=t.deserializeBytes();return new e(r)}};ce.LENGTH=32;var ue=ce,le=class e{constructor(t){if(this.value=t,t.length!==e.LENGTH)throw new Error(`Ed25519Signature length should be ${e.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(t){const r=t.deserializeBytes();return new e(r)}};le.LENGTH=64;var de=le,he=class e{constructor(e,t){if(this.public_keys=e,this.threshold=t,t>32)throw new Error('"threshold" cannot be larger than 32')}toBytes(){const e=new Uint8Array(this.public_keys.length*ue.LENGTH+1);return this.public_keys.forEach(((t,r)=>{e.set(t.value,r*ue.LENGTH)})),e[this.public_keys.length*ue.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(t){const r=t.deserializeBytes(),n=r[r.length-1],i=[];for(let e=0;e<r.length-1;e+=ue.LENGTH){const t=e;i.push(new ue(r.subarray(t,t+ue.LENGTH)))}return new e(i,n)}},fe=class e{constructor(t,r){if(this.signatures=t,this.bitmap=r,r.length!==e.BITMAP_LEN)throw new Error(`"bitmap" length should be ${e.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*de.LENGTH+e.BITMAP_LEN);return this.signatures.forEach(((e,r)=>{t.set(e.value,r*de.LENGTH)})),t.set(this.bitmap,this.signatures.length*de.LENGTH),t}static createBitmap(e){const t=new Uint8Array([0,0,0,0]),r=new Set;return e.forEach((e=>{if(e>=32)throw new Error(`Invalid bit value ${e}.`);if(r.has(e))throw new Error("Duplicated bits detected.");r.add(e);const n=Math.floor(e/8);let i=t[n];i|=128>>e%8,t[n]=i})),t}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(t){const r=t.deserializeBytes(),n=r.subarray(r.length-4),i=[];for(let e=0;e<r.length-n.length;e+=de.LENGTH){const t=e;i.push(new de(r.subarray(t,t+de.LENGTH)))}return new e(i,n)}};fe.BITMAP_LEN=4;var pe=fe,ye=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ge.load(e);case 1:return be.load(e);case 2:return me.load(e);case 3:return we.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},ge=class e extends ye{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const r=ue.deserialize(t),n=de.deserialize(t);return new e(r,n)}},be=class e extends ye{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const r=he.deserialize(t),n=pe.deserialize(t);return new e(r,n)}},me=class e extends ye{constructor(e,t,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),D(this.secondary_signer_addresses,e),D(this.secondary_signers,e)}static load(t){const r=ke.deserialize(t),n=$(t,ae),i=$(t,ke);return new e(r,n,i)}},we=class e extends ye{constructor(e,t,r,n){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r,this.fee_payer=n}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),D(this.secondary_signer_addresses,e),D(this.secondary_signers,e),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(t){const r=ke.deserialize(t),n=$(t,ae),i=$(t,ke),s=ae.deserialize(t),o=ke.deserialize(t);return new e(r,n,i,{address:s,authenticator:o})}},ke=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Se.load(e);case 1:return xe.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}},Se=class e extends ke{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const r=ue.deserialize(t),n=de.deserialize(t);return new e(r,n)}},xe=class e extends ke{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){const r=he.deserialize(t),n=pe.deserialize(t);return new e(r,n)}},ve=class e{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(t){const r=t.deserializeStr();return new e(r)}},Ae=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Ee.load(e);case 1:return Be.load(e);case 2:return Te.load(e);case 3:return ze.load(e);case 4:return Pe.load(e);case 5:return Le.load(e);case 6:return Oe.load(e);case 7:return Ce.load(e);case 8:return _e.load(e);case 9:return Ie.load(e);case 10:return Ue.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}},Ee=class e extends Ae{serialize(e){e.serializeU32AsUleb128(0)}static load(t){return new e}},Be=class e extends Ae{serialize(e){e.serializeU32AsUleb128(1)}static load(t){return new e}},_e=class e extends Ae{serialize(e){e.serializeU32AsUleb128(8)}static load(t){return new e}},Ie=class e extends Ae{serialize(e){e.serializeU32AsUleb128(9)}static load(t){return new e}},Te=class e extends Ae{serialize(e){e.serializeU32AsUleb128(2)}static load(t){return new e}},ze=class e extends Ae{serialize(e){e.serializeU32AsUleb128(3)}static load(t){return new e}},Ue=class e extends Ae{serialize(e){e.serializeU32AsUleb128(10)}static load(t){return new e}},Pe=class e extends Ae{serialize(e){e.serializeU32AsUleb128(4)}static load(t){return new e}},Le=class e extends Ae{serialize(e){e.serializeU32AsUleb128(5)}static load(t){return new e}},Oe=class e extends Ae{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(t){const r=Ae.deserialize(t);return new e(r)}},Ce=class e extends Ae{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(t){const r=Re.deserialize(t);return new e(r)}isStringTypeTag(){return"string"===this.value.module_name.value&&"String"===this.value.name.value&&this.value.address.toHexString()===ae.CORE_CODE_ADDRESS.toHexString()}},Re=class e{constructor(e,t,r,n){this.address=e,this.module_name=t,this.name=r,this.type_args=n}static fromString(t){const r=new qe(t).parseTypeTag();return new e(r.value.address,r.value.module_name,r.value.name,r.value.type_args)}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),D(this.type_args,e)}static deserialize(t){const r=ae.deserialize(t),n=ve.deserialize(t),i=ve.deserialize(t),s=$(t,Ae);return new e(r,n,i,s)}},He=new Re(ae.fromHex("0x1"),new ve("string"),new ve("String"),[]);function Ne(e){return new Re(ae.fromHex("0x1"),new ve("option"),new ve("Option"),[e])}function Me(e){return new Re(ae.fromHex("0x1"),new ve("object"),new ve("Object"),[e])}function We(e){throw new je(e)}function Ke(e){return!!e.match(/\s/)}function Fe(e){return!!e.match(/[_A-Za-z0-9]/g)}function De(e,t){const r=e[t];if(":"===r){if("::"===e.slice(t,t+2))return[["COLON","::"],2];We("Unrecognized token.")}else{if("<"===r)return[["LT","<"],1];if(">"===r)return[["GT",">"],1];if(","===r)return[["COMMA",","],1];if(Ke(r)){let r="";for(let n=t;n<e.length;n+=1){const t=e[n];if(!Ke(t))break;r=`${r}${t}`}return[["SPACE",r],r.length]}if(Fe(r)){let r="";for(let n=t;n<e.length;n+=1){const t=e[n];if(!Fe(t))break;r=`${r}${t}`}return function(e){return!!e.match(/T\d+/g)}(r)?[["GENERIC",r],r.length]:[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}var qe=class e{constructor(e,t){this.typeTags=[],this.tokens=function(e){let t=0;const r=[];for(;t<e.length;){const[n,i]=De(e,t);"SPACE"!==n[0]&&r.push(n),t+=i}return r}(e),this.typeTags=t||[]}consume(e){const t=this.tokens.shift();t&&t[1]===e||We("Invalid type tag.")}consumeWholeGeneric(){for(this.consume("<");">"!==this.tokens[0][1];)"<"===this.tokens[0][1]?this.consumeWholeGeneric():this.tokens.shift();this.consume(">")}parseCommaList(e,t){const r=[];for(this.tokens.length<=0&&We("Invalid type tag.");!(this.tokens[0][1]===e||(r.push(this.parseTypeTag()),this.tokens.length>0&&this.tokens[0][1]===e)||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&t));)this.tokens.length<=0&&We("Invalid type tag.");return r}parseTypeTag(){0===this.tokens.length&&We("Invalid type tag.");const[t,r]=this.tokens.shift();if("u8"===r)return new Be;if("u16"===r)return new _e;if("u32"===r)return new Ie;if("u64"===r)return new Te;if("u128"===r)return new ze;if("u256"===r)return new Ue;if("bool"===r)return new Ee;if("address"===r)return new Pe;if("vector"===r){this.consume("<");const e=this.parseTypeTag();return this.consume(">"),new Oe(e)}if("string"===r)return new Ce(He);if("IDENT"===t&&(r.startsWith("0x")||r.startsWith("0X"))){const e=ae.fromHex(r);this.consume("::");const[t,n]=this.tokens.shift();"IDENT"!==t&&We("Invalid type tag."),this.consume("::");const[i,s]=this.tokens.shift();if("IDENT"!==i&&We("Invalid type tag."),ae.CORE_CODE_ADDRESS.toHexString()===e.toHexString()&&"object"===n&&"Object"===s)return this.consumeWholeGeneric(),new Pe;let o=[];this.tokens.length>0&&"<"===this.tokens[0][1]&&(this.consume("<"),o=this.parseCommaList(">",!0),this.consume(">"));const a=new Re(e,new ve(n),new ve(s),o);return new Ce(a)}if("GENERIC"===t){0===this.typeTags.length&&We("Can't convert generic type since no typeTags were specified.");const t=parseInt(r.substring(1),10);return new e(this.typeTags[t]).parseTypeTag()}throw new Error("Invalid type tag.")}},je=class extends Error{constructor(e){super(e),this.name="TypeTagParserError"}},$e=class e{constructor(e,t,r,n,i,s,o){this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(t){const r=ae.deserialize(t),n=t.deserializeU64(),i=st.deserialize(t),s=t.deserializeU64(),o=t.deserializeU64(),a=t.deserializeU64(),c=ft.deserialize(t);return new e(r,n,i,s,o,a,c)}},Ve=class e{constructor(e,t,r){this.code=e,this.ty_args=t,this.args=r}serialize(e){e.serializeBytes(this.code),D(this.ty_args,e),D(this.args,e)}static deserialize(t){const r=t.deserializeBytes(),n=$(t,Ae),i=$(t,pt);return new e(r,n,i)}},Je=class e{constructor(e,t,r,n){this.module_name=e,this.function_name=t,this.ty_args=r,this.args=n}static natural(t,r,n,i){return new e(Xe.fromStr(t),new ve(r),n,i)}static natual(t,r,n,i){return e.natural(t,r,n,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),D(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach((t=>{e.serializeBytes(t)}))}static deserialize(t){const r=Xe.deserialize(t),n=ve.deserialize(t),i=$(t,Ae),s=t.deserializeUleb128AsU32(),o=[];for(let e=0;e<s;e+=1)o.push(t.deserializeBytes());return new e(r,n,i,o)}},Ge=class e{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(t){return t.deserializeUleb128AsU32(),new e(Je.deserialize(t))}},Ze=class e{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),void 0===this.transaction_payload?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(t){const r=ae.deserialize(t);let n;return t.deserializeBool()&&(n=Ge.deserialize(t)),new e(r,n)}},Ye=class e{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(t){const r=t.deserializeBytes();return new e(r)}},Xe=class e{constructor(e,t){this.address=e,this.name=t}static fromStr(t){const r=t.split("::");if(2!==r.length)throw new Error("Invalid module id.");return new e(ae.fromHex(new U(r[0])),new ve(r[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(t){const r=ae.deserialize(t),n=ve.deserialize(t);return new e(r,n)}},Qe=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},et=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},tt=class e{constructor(e,t){this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(t){const r=$e.deserialize(t),n=ye.deserialize(t);return new e(r,n)}},rt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return nt.load(e);case 1:return it.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},nt=class e extends rt{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),D(this.secondary_signer_addresses,e)}static load(t){const r=$e.deserialize(t),n=$(t,ae);return new e(r,n)}},it=class e extends rt{constructor(e,t,r){super(),this.raw_txn=e,this.secondary_signer_addresses=t,this.fee_payer_address=r}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),D(this.secondary_signer_addresses,e),this.fee_payer_address.serialize(e)}static load(t){const r=$e.deserialize(t),n=$(t,ae),i=ae.deserialize(t);return new e(r,n,i)}},st=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return ot.load(e);case 2:return at.load(e);case 3:return ct.load(e);case 4:return ut.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},ot=class e extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){const r=Ve.deserialize(t);return new e(r)}},at=class e extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(t){const r=Je.deserialize(t);return new e(r)}},ct=class e extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(t){const r=Ze.deserialize(t);return new e(r)}},ut=class e extends st{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),this.value.serialize(e)}static load(t){const r=lt.deserialize(t);return new e(r)}},lt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();if(0===t)return dt.load(e);throw new Error(`Unknown variant index for AutomationRegistrationParams: ${t}`)}},dt=class e extends lt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){const r=ht.deserialize(t);return new e(r)}},ht=class e{constructor(e,t,r,n,i,s){this.automated_function=e,this.max_gas_amount=t,this.gas_price_cap=r,this.automation_fee_cap_for_epoch=n,this.expiration_timestamp_secs=i,this.aux_data=s}serialize(e){this.automated_function.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_price_cap),e.serializeU64(this.automation_fee_cap_for_epoch),e.serializeU64(this.expiration_timestamp_secs),q(this.aux_data,e)}static deserialize(t){const r=Je.deserialize(t),n=t.deserializeU64(),i=t.deserializeU64(),s=t.deserializeU64(),o=t.deserializeU64(),a=V(t);return new e(r,n,i,s,o,a)}},ft=class e{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(t){const r=t.deserializeU8();return new e(r)}},pt=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return yt.load(e);case 1:return mt.load(e);case 2:return wt.load(e);case 3:return St.load(e);case 4:return xt.load(e);case 5:return vt.load(e);case 6:return gt.load(e);case 7:return bt.load(e);case 8:return kt.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${t}`)}}},yt=class e extends pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(t){const r=t.deserializeU8();return new e(r)}},gt=class e extends pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(t){const r=t.deserializeU16();return new e(r)}},bt=class e extends pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(t){const r=t.deserializeU32();return new e(r)}},mt=class e extends pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(t){const r=t.deserializeU64();return new e(r)}},wt=class e extends pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(t){const r=t.deserializeU128();return new e(r)}},kt=class e extends pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(t){const r=t.deserializeU256();return new e(r)}},St=class e extends pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(t){const r=ae.deserialize(t);return new e(r)}},xt=class e extends pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(t){const r=t.deserializeBytes();return new e(r)}},vt=class e extends pt{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(t){const r=t.deserializeBool();return new e(r)}},At=class{getHashSalt(){const e=se.sha3_256.create();return e.update("SUPRA::Transaction"),e.digest()}static deserialize(e){const t=e.deserializeUleb128AsU32();if(0===t)return Et.load(e);throw new Error(`Unknown variant index for Transaction: ${t}`)}},Et=class e extends At{constructor(e){super(),this.value=e}hash(){const e=se.sha3_256.create();return e.update(this.getHashSalt()),e.update(J(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(t){return new e(tt.deserialize(t))}},Bt=class e{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(t){const r=t.deserializeStr();return new e(r)}},_t=class e{constructor(e,t){this.name=e,this.type_tag=t}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(t){const r=t.deserializeStr(),n=Ae.deserialize(t);return new e(r,n)}},It=class{static deserialize(e){const t=e.deserializeUleb128AsU32();switch(t){case 0:return Tt.load(e);case 1:return zt.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},Tt=class e extends It{constructor(e,t,r,n,i){super(),this.name=e,this.doc=t,this.code=r,this.ty_args=n,this.args=i}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),D(this.ty_args,e),D(this.args,e)}static load(t){const r=t.deserializeStr(),n=t.deserializeStr(),i=t.deserializeBytes(),s=$(t,Bt),o=$(t,_t);return new e(r,n,i,s,o)}},zt=class e extends It{constructor(e,t,r,n,i){super(),this.name=e,this.module_name=t,this.doc=r,this.ty_args=n,this.args=i}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),D(this.ty_args,e),D(this.args,e)}static load(t){const r=t.deserializeStr(),n=Xe.deserialize(t),i=t.deserializeStr(),s=$(t,Bt),o=$(t,_t);return new e(r,n,i,s,o)}},Ut=r(72515),Pt=class e{constructor(t){if(t.length!==e.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const r=t.toBytes(),n=new Uint8Array(r.length+1);n.set(r),n.set([e.MULTI_ED25519_SCHEME],r.length);const i=Ut.sha3_256.create();return i.update(n),new e(i.digest())}static fromEd25519PublicKey(t){const r=t.value,n=new Uint8Array(r.length+1);n.set(r),n.set([e.ED25519_SCHEME],r.length);const i=Ut.sha3_256.create();return i.update(n),new e(i.digest())}derivedAddress(){return U.fromUint8Array(this.bytes)}};Pt.LENGTH=32,Pt.MULTI_ED25519_SCHEME=1,Pt.ED25519_SCHEME=0,Pt.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var Lt=Pt,Ot=class{constructor(e,t,r,n,i,s,o){this.accountAddress=e,this.moduleName=t,this.structName=r,this.sequenceNumber=n,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},Ct=class e{static fromSupraAccountObject(t){return new e(U.ensure(t.privateKeyHex).toUint8Array(),t.address)}static isValidPath(e){return/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(e)}static fromDerivePath(t,r){if(!e.isValidPath(t))throw new Error("Invalid derivation path");const n=r.trim().split(/\s+/).map((e=>e.toLowerCase())).join(" "),{key:i}=T(t,(0,g.bytesToHex)(y.mnemonicToSeedSync(n)));return new e(i)}constructor(e,t){this.signingKey=e?p.default.sign.keyPair.fromSeed(e.slice(0,32)):p.default.sign.keyPair(),this.accountAddress=U.ensure(t||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new ue(this.signingKey.publicKey);return Lt.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,t){const r=J(ae.fromHex(e)),n=new Uint8Array([...r,...t,Lt.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=m.sha3_256.create();return i.update(n),U.fromUint8Array(i.digest())}static getCollectionID(e,t){const r=(new TextEncoder).encode(`${e}::${t}`),n=b.sha256.create();return n.update(r),U.fromUint8Array(n.digest())}pubKey(){return U.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const t=p.default.sign.detached(e,this.signingKey.secretKey);return U.fromUint8Array(t)}signHexString(e){const t=U.ensure(e).toUint8Array();return this.signBuffer(t)}verifySignature(e,t){const r=U.ensure(e).toUint8Array(),n=U.ensure(t).toUint8Array();return p.default.sign.detached.verify(r,n,this.signingKey.publicKey)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:U.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}};h([P()],Ct.prototype,"authKey",1);var Rt=Ct;function Ht(e){return e instanceof Rt?e.address():U.ensure(e)}var Nt=r(72515);function Mt(e,t,r){if(!t?.includes(typeof e))throw new Error(r||`Invalid arg: ${e} type should be ${t instanceof Array?t.join(" or "):t}`)}function Wt(e){if(Mt(e,["boolean","string"]),"boolean"==typeof e)return e;if("true"===e)return!0;if("false"===e)return!1;throw new Error("Invalid boolean string.")}function Kt(e){if(Mt(e,["number","string"]),"number"==typeof e)return e;const t=Number.parseInt(e,10);if(Number.isNaN(t))throw new Error("Invalid number string.");return t}function Ft(e){return Mt(e,["number","bigint","string"]),BigInt(e)}function Dt(e,t,r){qt(e,t,r,0)}function qt(e,t,r,n){if(t instanceof Ee)r.serializeBool(Wt(e));else if(t instanceof Be)r.serializeU8(Kt(e));else if(t instanceof _e)r.serializeU16(Kt(e));else if(t instanceof Ie)r.serializeU32(Kt(e));else if(t instanceof Te)r.serializeU64(Ft(e));else if(t instanceof ze)r.serializeU128(Ft(e));else if(t instanceof Ue)r.serializeU256(Ft(e));else if(t instanceof Pe)jt(e,r);else if(t instanceof Oe)!function(e,t,r,n){if(t.value instanceof Be){if(e instanceof Uint8Array)return void r.serializeBytes(e);if(e instanceof U)return void r.serializeBytes(e.toUint8Array());if("string"==typeof e)return void r.serializeStr(e)}if(!Array.isArray(e))throw new Error("Invalid vector args.");r.serializeU32AsUleb128(e.length),e.forEach((e=>qt(e,t.value,r,n+1)))}(e,t,r,n);else{if(!(t instanceof Ce))throw new Error("Unsupported arg type.");!function(e,t,r,n){const{address:i,module_name:s,name:o,type_args:a}=t.value,c=`${U.fromUint8Array(i.address).toShortString()}::${s.value}::${o.value}`;if("0x1::string::String"===c)Mt(e,["string"]),r.serializeStr(e);else if("0x1::object::Object"===c)jt(e,r);else{if("0x1::option::Option"!==c)throw new Error("Unsupported struct type in function argument");if(1!==a.length)throw new Error(`Option has the wrong number of type arguments ${a.length}`);!function(e,t,r,n){null==e?r.serializeU32AsUleb128(0):(r.serializeU32AsUleb128(1),qt(e,t,r,n+1))}(e,a[0],r,n)}}(e,t,r,n)}}function jt(e,t){let r;if("string"==typeof e||e instanceof U)r=ae.fromHex(e);else{if(!(e instanceof ae))throw new Error("Invalid account address.");r=e}r.serialize(t)}function $t(e,t){if(t instanceof Ee)return new vt(Wt(e));if(t instanceof Be)return new yt(Kt(e));if(t instanceof _e)return new gt(Kt(e));if(t instanceof Ie)return new bt(Kt(e));if(t instanceof Te)return new mt(Ft(e));if(t instanceof ze)return new wt(Ft(e));if(t instanceof Ue)return new kt(Ft(e));if(t instanceof Pe){let t;if("string"==typeof e||e instanceof U)t=ae.fromHex(e);else{if(!(e instanceof ae))throw new Error("Invalid account address.");t=e}return new St(t)}if(t instanceof Oe&&t.value instanceof Be){if(!(e instanceof Uint8Array))throw new Error(`${e} should be an instance of Uint8Array`);return new xt(e)}throw new Error("Unknown type for TransactionArgument.")}var Vt,Jt,Gt="SUPRA::RawTransactionWithData",Zt=class{constructor(e,t){this.rawTxnBuilder=t,this.signingFunction=e}build(e,t,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,t,r)}static getSigningMessage(e){const t=Nt.sha3_256.create();if(e instanceof $e)t.update("SUPRA::RawTransaction");else if(e instanceof nt)t.update(Gt);else{if(!(e instanceof it))throw new Error("Unknown transaction type.");t.update(Gt)}const r=t.digest(),n=J(e),i=new Uint8Array(r.length+n.length);return i.set(r),i.set(n,r.length),i}},Yt=class extends Zt{constructor(e,t,r){super(e,r),this.publicKey=t}rawToSigned(e){const t=Zt.getSigningMessage(e),r=this.signingFunction(t),n=new ge(new ue(this.publicKey),r);return new tt(e,n)}sign(e){return J(this.rawToSigned(e))}},Xt=class extends Zt{constructor(e,t){super(e),this.publicKey=t}rawToSigned(e){const t=Zt.getSigningMessage(e),r=this.signingFunction(t),n=new be(this.publicKey,r);return new tt(e,n)}sign(e){return J(this.rawToSigned(e))}},Qt=class e{constructor(e,t){this.abiMap=new Map,e.forEach((e=>{const t=new F(e),r=It.deserialize(t);let n;if(r instanceof zt){const e=r,{address:t,name:i}=e.module_name;n=`${U.fromUint8Array(t.address).toShortString()}::${i.value}::${e.name}`}else{n=r.name}if(this.abiMap.has(n))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(n,r)})),this.builderConfig={maxGasAmount:BigInt(2e5),expSecFromNow:20,...t}}static toBCSArgs(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map(((t,r)=>{const n=new W;return Dt(t,e[r].type_tag,n),n.getBytes()}))}static toTransactionArguments(e,t){if(e.length!==t.length)throw new Error("Wrong number of args provided.");return t.map(((t,r)=>$t(t,e[r].type_tag)))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(t,r,n){const i=r.map((e=>new qe(e).parseTypeTag()));let s;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const o=this.abiMap.get(t);if(o instanceof zt){const t=o,r=e.toBCSArgs(t.args,n);s=new at(new Je(t.module_name,new ve(t.name),i,r))}else{if(!(o instanceof Tt))throw new Error("Unknown ABI format.");{const t=o,r=e.toTransactionArguments(t.args,n);s=new ot(new Ve(t.code,i,r))}}return s}build(e,t,r){const{sender:n,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:a,chainId:c}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const u=n instanceof ae?n:ae.fromHex(n),l=BigInt(Math.floor(Date.now()/1e3)+Number(a)),d=this.buildTransactionPayload(e,t,r);if(d)return new $e(u,BigInt(i),d,BigInt(o),BigInt(s),l,new ft(Number(c)));throw new Error("Invalid ABI.")}},er=class{constructor(e,t){this.aptosClient=e,this.builderConfig=t}async fetchABI(e){const t=(await this.aptosClient.getAccountModules(e)).map((e=>e.abi)).flatMap((e=>e.exposed_functions.filter((e=>e.is_entry)).map((t=>({fullName:`${e.address}::${e.name}::${t.name}`,...t}))))),r=new Map;return t.forEach((e=>{r.set(e.fullName,e)})),r}async build(e,t,r){if(3!==(e=e.replace(/^0[xX]0*/g,"0x")).split("::").length)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coin::transfer");const[n,i]=e.split("::"),s=await this.fetchABI(n);if(!s.has(e))throw new Error(`${e} doesn't exist.`);const o=s.get(e),a=o.params.filter((e=>"signer"!==e&&"&signer"!==e)).map(((e,r)=>new _t(`var${r}`,new qe(e,t).parseTypeTag()))),c=new zt(o.name,Xe.fromStr(`${n}::${i}`),"",o.generic_type_params.map(((e,t)=>new Bt(`${t}`))),a),{sender:u,...l}=this.builderConfig,d=u instanceof ae?U.fromUint8Array(u.address):u,[{sequence_number:h},f,{gas_estimate:p}]=await Promise.all([l?.sequenceNumber?Promise.resolve({sequence_number:l?.sequenceNumber}):this.aptosClient.getAccount(d),l?.chainId?Promise.resolve(l?.chainId):this.aptosClient.getChainId(),l?.gasUnitPrice?Promise.resolve({gas_estimate:l?.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Qt([J(c)],{sender:u,sequenceNumber:h,chainId:f,gasUnitPrice:BigInt(p),...l}).build(e,t,r)}};h([(Vt=6e5,P({ttlMs:Vt,hashFunction:Jt}))],er.prototype,"fetchABI",1);var tr={};u(tr,{AptosErrorCode:()=>rr,MoveFunctionVisibility:()=>nr,RoleType:()=>ir});var rr=(e=>(e.ACCOUNT_NOT_FOUND="account_not_found",e.RESOURCE_NOT_FOUND="resource_not_found",e.MODULE_NOT_FOUND="module_not_found",e.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",e.VERSION_NOT_FOUND="version_not_found",e.TRANSACTION_NOT_FOUND="transaction_not_found",e.TABLE_ITEM_NOT_FOUND="table_item_not_found",e.BLOCK_NOT_FOUND="block_not_found",e.STATE_VALUE_NOT_FOUND="state_value_not_found",e.VERSION_PRUNED="version_pruned",e.BLOCK_PRUNED="block_pruned",e.INVALID_INPUT="invalid_input",e.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",e.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",e.VM_ERROR="vm_error",e.HEALTH_CHECK_FAILED="health_check_failed",e.MEMPOOL_IS_FULL="mempool_is_full",e.INTERNAL_ERROR="internal_error",e.WEB_FRAMEWORK_ERROR="web_framework_error",e.BCS_NOT_SUPPORTED="bcs_not_supported",e.API_DISABLED="api_disabled",e))(rr||{}),nr=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(nr||{}),ir=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(ir||{})},29701:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Expected Uint8Array");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=n,t.bytes=i,t.hash=s,t.exists=o,t.output=a;const c={number:r,bool:n,bytes:i,hash:s,exists:o,output:a};t.default=c},67928:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const n=r(29701),i=r(58572);class s extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:s}=this,o=(e=(0,i.toBytes)(e)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a!==s)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;s<=o-n;n+=s)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let e=a;e<s;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,d[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}t.SHA2=s},67912:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(e,t=!1){return t?{h:Number(e&r),l:Number(e>>n&r)}:{h:0|Number(e>>n&r),l:0|Number(e&r)}}function s(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=i(e[s],t);[r[s],n[s]]=[o,a]}return[r,n]}t.fromBig=i,t.split=s;const o=(e,t)=>BigInt(e>>>0)<<n|BigInt(t>>>0);t.toBig=o;const a=(e,t,r)=>e>>>r;t.shrSH=a;const c=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=c;const u=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=u;const l=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=l;const d=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=d;const h=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=h;const f=(e,t)=>t;t.rotr32H=f;const p=(e,t)=>e;t.rotr32L=p;const y=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=y;const g=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=g;const b=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=b;const m=(e,t,r)=>e<<r-32|t>>>64-r;function w(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}t.rotlBL=m,t.add=w;const k=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=k;const S=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;t.add3H=S;const x=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);t.add4L=x;const v=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;t.add4H=v;const A=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);t.add5L=A;const E=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0;t.add5H=E;const B={fromBig:i,split:s,toBig:o,shrSH:a,shrSL:c,rotrSH:u,rotrSL:l,rotrBH:d,rotrBL:h,rotr32H:f,rotr32L:p,rotlSH:y,rotlSL:g,rotlBH:b,rotlBL:m,add:w,add3L:k,add3H:S,add4L:x,add4H:v,add5H:E,add5L:A};t.default=B},96664:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},23537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const n=r(29701),i=r(58572);class s extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=s;t.hmac=(e,t,r)=>new s(e,t).update(r).digest(),t.hmac.create=(e,t)=>new s(e,t)},29897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(67928),i=r(58572),s=(e,t,r)=>e&t^e&r^t&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],r=c[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;c[e]=s+c[e-7]+n+c[e-16]|0}let{A:r,B:n,C:a,D:u,E:l,F:d,G:h,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+((p=l)&d^~p&h)+o[e]+c[e]|0,y=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+s(r,n,a)|0;f=h,h=d,d=l,l=u+t|0,u=a,a=n,n=r,r=t+y|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,n,a,u,l,d,h,f)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class l extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new u)),t.sha224=(0,i.wrapConstructor)((()=>new l))},72515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=t.keccakP=void 0;const n=r(29701),i=r(67912),s=r(58572),[o,a,c]=[[],[],[]],u=BigInt(0),l=BigInt(1),d=BigInt(2),h=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=l,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],o.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let i=u;for(let e=0;e<7;e++)t=(t<<l^(t>>h)*p)%f,t&d&&(i^=l<<(l<<BigInt(e))-l);c.push(i)}const[y,g]=(0,i.split)(c,!0),b=(e,t,r)=>r>32?(0,i.rotlBH)(e,t,r):(0,i.rotlSH)(e,t,r),m=(e,t,r)=>r>32?(0,i.rotlBL)(e,t,r):(0,i.rotlSL)(e,t,r);function w(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=b(s,o,1)^r[n],c=m(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=a[r],s=b(t,i,n),c=m(t,i,n),u=o[r];t=e[u],i=e[u+1],e[u]=s,e[u+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=y[n],e[1]^=g[n]}r.fill(0)}t.keccakP=w;class k extends s.Hash{constructor(e,t,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){w(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,n.exists)(this);const{blockLen:t,state:r}=this,i=(e=(0,s.toBytes)(e)).length;for(let n=0;n<i;){const s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.exists)(this,!1),(0,n.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new k(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}t.Keccak=k;const S=(e,t,r)=>(0,s.wrapConstructor)((()=>new k(t,e,r)));t.sha3_224=S(6,144,28),t.sha3_256=S(6,136,32),t.sha3_384=S(6,104,48),t.sha3_512=S(6,72,64),t.keccak_224=S(1,144,28),t.keccak_256=S(1,136,32),t.keccak_384=S(1,104,48),t.keccak_512=S(1,72,64);const x=(e,t,r)=>(0,s.wrapXOFConstructorWithOpts)(((n={})=>new k(t,e,void 0===n.dkLen?r:n.dkLen,!0)));t.shake128=x(31,168,16),t.shake256=x(31,136,32)},34383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA512=void 0;const n=r(67928),i=r(67912),s=r(58572),[o,a]=(()=>i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),c=new Uint32Array(80),u=new Uint32Array(80);class l extends n.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y]}set(e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t),u[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|c[e-15],r=0|u[e-15],n=i.default.rotrSH(t,r,1)^i.default.rotrSH(t,r,8)^i.default.shrSH(t,r,7),s=i.default.rotrSL(t,r,1)^i.default.rotrSL(t,r,8)^i.default.shrSL(t,r,7),o=0|c[e-2],a=0|u[e-2],l=i.default.rotrSH(o,a,19)^i.default.rotrBH(o,a,61)^i.default.shrSH(o,a,6),d=i.default.rotrSL(o,a,19)^i.default.rotrBL(o,a,61)^i.default.shrSL(o,a,6),h=i.default.add4L(s,d,u[e-7],u[e-16]),f=i.default.add4H(h,n,l,c[e-7],c[e-16]);c[e]=0|f,u[e]=0|h}let{Ah:r,Al:n,Bh:s,Bl:l,Ch:d,Cl:h,Dh:f,Dl:p,Eh:y,El:g,Fh:b,Fl:m,Gh:w,Gl:k,Hh:S,Hl:x}=this;for(let e=0;e<80;e++){const t=i.default.rotrSH(y,g,14)^i.default.rotrSH(y,g,18)^i.default.rotrBH(y,g,41),v=i.default.rotrSL(y,g,14)^i.default.rotrSL(y,g,18)^i.default.rotrBL(y,g,41),A=y&b^~y&w,E=g&m^~g&k,B=i.default.add5L(x,v,E,a[e],u[e]),_=i.default.add5H(B,S,t,A,o[e],c[e]),I=0|B,T=i.default.rotrSH(r,n,28)^i.default.rotrBH(r,n,34)^i.default.rotrBH(r,n,39),z=i.default.rotrSL(r,n,28)^i.default.rotrBL(r,n,34)^i.default.rotrBL(r,n,39),U=r&s^r&d^s&d,P=n&l^n&h^l&h;S=0|w,x=0|k,w=0|b,k=0|m,b=0|y,m=0|g,({h:y,l:g}=i.default.add(0|f,0|p,0|_,0|I)),f=0|d,p=0|h,d=0|s,h=0|l,s=0|r,l=0|n;const L=i.default.add3L(I,z,P);r=i.default.add3H(L,_,T,U),n=0|L}({h:r,l:n}=i.default.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l}=i.default.add(0|this.Bh,0|this.Bl,0|s,0|l)),({h:d,l:h}=i.default.add(0|this.Ch,0|this.Cl,0|d,0|h)),({h:f,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|f,0|p)),({h:y,l:g}=i.default.add(0|this.Eh,0|this.El,0|y,0|g)),({h:b,l:m}=i.default.add(0|this.Fh,0|this.Fl,0|b,0|m)),({h:w,l:k}=i.default.add(0|this.Gh,0|this.Gl,0|w,0|k)),({h:S,l:x}=i.default.add(0|this.Hh,0|this.Hl,0|S,0|x)),this.set(r,n,s,l,d,h,f,p,y,g,b,m,w,k,S,x)}roundClean(){c.fill(0),u.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class d extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class f extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.sha512=(0,s.wrapConstructor)((()=>new l)),t.sha512_224=(0,s.wrapConstructor)((()=>new d)),t.sha512_256=(0,s.wrapConstructor)((()=>new h)),t.sha384=(0,s.wrapConstructor)((()=>new f))},58572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const n=r(96664);t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){if(!i(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t};const o={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=o._0&&e<=o._9?e-o._0:e>=o._A&&e<=o._F?e-(o._A-10):e>=o._a&&e<=o._f?e-(o._a-10):void 0}t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=a(e.charCodeAt(i)),s=a(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n};function c(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function u(e){if("string"==typeof e&&(e=c(e)),!i(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let s=0;s<e;s++){n(s);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=c,t.toBytes=u,t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(!i(n))throw new Error("Uint8Array expected");t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};t.Hash=class{clone(){return this._cloneInto()}};const l={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==l.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(u(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},36928:(e,t,r)=>{"use strict";var n,i=Object.create,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))!u.call(e,i)&&i!==r&&s(e,i,{get:()=>t[i],enumerable:!(n=o(t,i))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?i(c(e)):{},l(!t&&e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)),h={};((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})(h,{BCS:()=>y.BCS,DEFAULT_CHAIN_ID:()=>E,DEFAULT_ENABLE_SIMULATION:()=>C,DEFAULT_GAS_PRICE:()=>z,DEFAULT_MAX_GAS_FOR_SUPRA_TRANSFER_WHEN_RECEIVER_EXISTS:()=>H,DEFAULT_MAX_GAS_FOR_SUPRA_TRANSFER_WHEN_RECEIVER_NOT_EXISTS:()=>N,DEFAULT_MAX_GAS_UNITS:()=>T,DEFAULT_RECORDS_ITEMS_COUNT:()=>I,DEFAULT_TX_EXPIRATION_DURATION:()=>U,DEFAULT_WAIT_FOR_TX_COMPLETION:()=>R,DELAY_BETWEEN_POOLING_REQUEST:()=>_,HexString:()=>y.HexString,MAX_RETRY_FOR_TRANSACTION_COMPLETION:()=>B,MILLISECONDS_PER_SECOND:()=>P,RAW_TRANSACTION_SALT:()=>M,RAW_TRANSACTION_WITH_DATA_SALT:()=>W,SUPRA_COIN_TYPE:()=>O,SUPRA_FRAMEWORK_ADDRESS:()=>L,SupraAccount:()=>y.SupraAccount,SupraClient:()=>F,TransactionStatus:()=>v,TxTypeForTransactionInsights:()=>A,TxnBuilderTypes:()=>y.TxnBuilderTypes}),e.exports=(n=h,l(s({},"__esModule",{value:!0}),n));var f,p,y=r(42721),g=d(r(97164)),b=r(42721),m=e=>{let t=new Array;return e.forEach((e=>{let r=e.value;t.push({struct:{address:r.address.toHexString().toString(),module:r.module_name.value,name:r.name.value,type_args:m(r.type_args)}})})),t},w=e=>{let t=new Array;return e.forEach((e=>{if(e instanceof b.TxnBuilderTypes.TransactionArgumentU8)t.push({U8:e.value});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU32)t.push({U32:e.value});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU64)t.push({U64:Number(e.value)});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU128)t.push({U128:Number(e.value)});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU256)t.push({U256:Array.from(b.BCS.bcsSerializeU256(e.value))});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentAddress)t.push({Address:e.value.toHexString().toString()});else if(e instanceof b.TxnBuilderTypes.TransactionArgumentU8Vector)t.push({U8Vector:Array.from(e.value)});else{if(!(e instanceof b.TxnBuilderTypes.TransactionArgumentBool))throw new Error("Invalid script argument variant");t.push({Bool:e.value})}})),t},k=e=>{let t=new Array;for(let r=0;r<e.length;r++)t.push(Array.from(e[r]));return t},S=e=>{let t=e.toLowerCase();if(t.length<66)return t=t.startsWith("0x")?t.slice(2).padStart(64,"0"):t.padStart(64,"0"),"0x"+t;if(66===t.length&&t.startsWith("0x"))return t;throw new Error("Invalid address. With '0x', address length should be exactly 66 characters.")},x=e=>new Promise((t=>{setTimeout(t,e)})),v=((p=v||{}).Success="Success",p.Failed="Failed",p.Pending="Pending",p),A=((f=A||{}).CoinTransfer="CoinTransfer",f.EntryFunctionCall="EntryFunctionCall",f.ScriptCall="ScriptCall",f.MultisigPayload="MultisigPayload",f.AutomationRegistration="AutomationRegistration",f),E=6,B=300,_=1e3,I=15,T=BigInt(5e5),z=BigInt(100),U=300,P=1e3,L="0x0000000000000000000000000000000000000000000000000000000000000001",O="0x1::supra_coin::SupraCoin",C=!1,R=!1,H=10,N=1020,M="SUPRA::RawTransaction",W="SUPRA::RawTransactionWithData",K=d(r(45865)),F=class e{constructor(e,t=6){this.supraNodeURL=e,this.chainId=new y.TxnBuilderTypes.ChainId(t)}static async init(t){let r=new e(t);return r.chainId=await r.getChainId(),r}async sendRequest(e,t,r){if(!e&&void 0===r)throw new Error("POST request requires a 'data' payload.");let n={method:e?"get":"post",baseURL:this.supraNodeURL,url:t,...e?{}:{data:r,headers:{"Content-Type":"application/json"}}},i=await(0,g.default)(n);if(404===i.status)throw new Error("Invalid URL — path not found (404).");if(500===i.status)throw new Error("Server error — please try again later.");return i}async getChainId(){return new y.TxnBuilderTypes.ChainId(Number((await this.sendRequest(!0,"/rpc/v1/transactions/chain_id")).data))}async getGasPrice(){return BigInt((await this.sendRequest(!0,"/rpc/v1/transactions/estimate_gas_price")).data.mean_gas_price)}async fundAccountWithFaucet(e){let t=(await this.sendRequest(!0,`/rpc/v1/wallet/faucet/${e.toString()}`)).data;if("object"!=typeof t||null===t)throw new Error("Unexpected response format. Please try faucet later.");if(!("Accepted"in t))throw new Error("Faucet request failed — 'Accepted' field not found in response.");let r=t.Accepted;return{status:await this.waitForTransactionCompletion(r),transactionHash:r}}async isAccountExists(e){let t=await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}`);return!(null===t.data||202===t.status)}async getAccountInfo(e){let t=(await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}`)).data;if(!t||"object"!=typeof t)throw new Error("Account does not exist or an invalid account was provided.");return{sequence_number:BigInt(t.sequence_number),authentication_key:t.authentication_key}}async getAccountResources(e,t){let r=`/rpc/v1/accounts/${e.toString()}/resources?count=${t?.count??15}`;return t?.start&&(r+=`&start=${t.start}`),(await this.sendRequest(!0,r)).data.Resources}async getResourceData(e,t){let r=(await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}/resources/${t}`)).data?.result;if(!Array.isArray(r)||0===r.length||null==r[0])throw new Error(`Resource of type '${t}' not found for account ${e.toString()}.`);return r[0]}async getTransactionStatus(e){let t=await this.sendRequest(!0,`/rpc/v1/transactions/${e}`);return null==t.data?null:"Unexecuted"==t.data.status?"Pending":"Fail"==t.data.status?"Failed":t.data.status}getCoinChangeAmount(e,t){let r=new Map;t.forEach((t=>{if(("0x1::coin::CoinDeposit"===t.type||"0x1::coin::CoinWithdraw"===t.type)&&"0x"+t.data.account.substring(2,t.data.account).padStart(64,"0")===e)if("0x1::coin::CoinDeposit"===t.type){let e=r.get(t.data.coin_type);null!=e?r.set(t.data.coin_type,{totalDeposit:e.totalDeposit+BigInt(t.data.amount),totalWithdraw:e.totalWithdraw}):r.set(t.data.coin_type,{totalDeposit:BigInt(t.data.amount),totalWithdraw:BigInt(0)})}else if("0x1::coin::CoinWithdraw"===t.type){let e=r.get(t.data.coin_type);null!=e?r.set(t.data.coin_type,{totalDeposit:e.totalDeposit,totalWithdraw:e.totalWithdraw+BigInt(t.data.amount)}):r.set(t.data.coin_type,{totalDeposit:BigInt(0),totalWithdraw:BigInt(t.data.amount)})}}));let n=[];return r.forEach(((e,t)=>{n.push({coinType:t,amount:e.totalDeposit-e.totalWithdraw})})),n}getTransactionInsights(e,t){let r={coinReceiver:"",coinChange:[{amount:BigInt(0),coinType:""}],type:"EntryFunctionCall"};if("entry_function_payload"===t.payload.Move.type)if("0x1::supra_account::transfer"===t.payload.Move.function){let n=BigInt(t.payload.Move.arguments[1]);e===t.header.sender.Move&&(n*=BigInt(-1)),r.coinReceiver=t.payload.Move.arguments[0],r.coinChange[0]={amount:n,coinType:O},r.type="CoinTransfer"}else if("0x1::supra_account::transfer_coins"===t.payload.Move.function||"0x1::coin::transfer"===t.payload.Move.function){let n=BigInt(t.payload.Move.arguments[1]);e===t.header.sender.Move&&(n*=BigInt(-1)),r.coinReceiver=t.payload.Move.arguments[0],r.coinChange[0]={amount:n,coinType:t.payload.Move.type_arguments[0]},r.type="CoinTransfer"}else"Success"===t.status&&(r.coinChange=this.getCoinChangeAmount(e,t.output.Move.events));else{if("script_payload"===t.payload.Move.type)r.type="ScriptCall";else if("automation_registration_payload"===t.payload.Move.type)r.type="AutomationRegistration";else{if("multisig_payload"!==t.payload.Move.type)throw new Error("Unsupported transaction payload type.");r.type="MultisigPayload"}"Success"===t.status&&(r.coinChange=this.getCoinChangeAmount(e,t.output.Move.events))}return r}async getTransactionDetail(e,t){let r=await this.sendRequest(!0,`/rpc/v1/transactions/${t}`);return null==r.data?null:"Pending"===r.data.status||null===r.data.output||null===r.data.header?{txHash:t,sender:r.data.header.sender.Move,sequenceNumber:r.data.header.sequence_number,maxGasAmount:r.data.header.max_gas_amount,gasUnitPrice:r.data.header.gas_unit_price,gasUsed:void 0,transactionCost:void 0,txExpirationTimestamp:Number(r.data.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:void 0,status:r.data.status,events:void 0,blockNumber:void 0,blockHash:void 0,transactionInsights:this.getTransactionInsights(e.toString(),r.data),vm_status:void 0}:{txHash:t,sender:r.data.header.sender.Move,sequenceNumber:r.data.header.sequence_number,maxGasAmount:r.data.header.max_gas_amount,gasUnitPrice:r.data.header.gas_unit_price,gasUsed:r.data.output?.Move.gas_used,transactionCost:r.data.header.gas_unit_price*r.data.output?.Move.gas_used,txExpirationTimestamp:Number(r.data.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:Number(r.data.block_header.timestamp.microseconds_since_unix_epoch),status:"Fail"==r.data.status||"Invalid"==r.data.status?"Failed":r.data.status,events:r.data.output?.Move.events,blockNumber:r.data.block_header.height,blockHash:r.data.block_header.hash,transactionInsights:this.getTransactionInsights(e.toString(),r.data),vm_status:r.data.output.Move.vm_status}}async getAccountTransactionsDetail(e,t){let r=`/rpc/v1/accounts/${e.toString()}/transactions?count=${t?.count??15}`;t?.start&&(r+=`&start=${t.start}`);let n=await this.sendRequest(!0,r);if(null==n.data.record)throw new Error("Account does not exist or an invalid account was provided.");let i=[];return n.data.record.forEach((t=>{i.push({txHash:t.hash,sender:t.header.sender.Move,sequenceNumber:t.header.sequence_number,maxGasAmount:t.header.max_gas_amount,gasUnitPrice:t.header.gas_unit_price,gasUsed:t.output.Move.gas_used,transactionCost:t.header.gas_unit_price*t.output.Move.gas_used,txExpirationTimestamp:Number(t.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:Number(t.block_header.timestamp.microseconds_since_unix_epoch),status:"Fail"===t.status||"Invalid"===t.status?"Failed":t.status,events:t.output.Move.events,blockNumber:t.block_header.height,blockHash:t.block_header.hash,transactionInsights:this.getTransactionInsights(e.toString(),t),vm_status:t.output.Move.vm_status})})),i}async getCoinTransactionsDetail(e,t){let r=`/rpc/v1/accounts/${e.toString()}/coin_transactions?count=${t?.count??15}`;t?.start&&(r+=`&start=${t?.start}`);let n=await this.sendRequest(!0,r);if(null==n.data.record)throw new Error("Account does not exist or an invalid account was provided.");let i=[];return n.data.record.forEach((t=>{i.push({txHash:t.hash,sender:t.header.sender.Move,sequenceNumber:t.header.sequence_number,maxGasAmount:t.header.max_gas_amount,gasUnitPrice:t.header.gas_unit_price,gasUsed:t.output.Move.gas_used,transactionCost:t.header.gas_unit_price*t.output.Move.gas_used,txExpirationTimestamp:Number(t.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:Number(t.block_header.timestamp.microseconds_since_unix_epoch),status:"Fail"===t.status||"Invalid"===t.status?"Failed":t.status,events:t.output.Move.events,blockNumber:t.block_header.height,blockHash:t.block_header.hash,transactionInsights:this.getTransactionInsights(e.toString(),t),vm_status:t.output.Move.vm_status})})),{transactions:i,cursor:n.data.cursor}}async getAccountCompleteTransactionsDetail(e,t=15){let r=await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}/coin_transactions?count=${t}`),n=await this.sendRequest(!0,`/rpc/v1/accounts/${e.toString()}/transactions?count=${t}`),i=[];null!=r.data.record&&i.push(...r.data.record),null!=n.data.record&&i.push(...n.data.record);let s=i.filter(((e,t,r)=>t===r.findIndex((t=>t.hash===e.hash))));s.sort(((e,t)=>e.block_header.timestamp.microseconds_since_unix_epoch<t.block_header.timestamp.microseconds_since_unix_epoch?1:-1));let o=[];return s.forEach((t=>{o.push({txHash:t.hash,sender:t.header.sender.Move,sequenceNumber:t.header.sequence_number,maxGasAmount:t.header.max_gas_amount,gasUnitPrice:t.header.gas_unit_price,gasUsed:t.output.Move.gas_used,transactionCost:t.header.gas_unit_price*t.output.Move.gas_used,txExpirationTimestamp:Number(t.header.expiration_timestamp.microseconds_since_unix_epoch),txConfirmationTime:Number(t.block_header.timestamp.microseconds_since_unix_epoch),status:"Fail"===t.status||"Invalid"===t.status?"Failed":t.status,events:t.output.Move.events,blockNumber:t.block_header.height,blockHash:t.block_header.hash,transactionInsights:this.getTransactionInsights(e.toString(),t),vm_status:t.output.Move.vm_status})})),o}async getCoinInfo(e){let t=await this.getResourceData(new y.HexString(e.split("::")[0]),`${L}::coin::CoinInfo<${e}>`);return{name:t.name,symbol:t.symbol,decimals:t.decimals}}async getAccountSupraCoinBalance(e){return await this.getAccountCoinBalance(e,O)}async getAccountCoinBalance(e,t){return BigInt((await this.invokeViewMethod("0x1::coin::balance",[t],[e.toString()]))[0])}async invokeViewMethod(e,t,r){return(await this.sendRequest(!1,"/rpc/v1/view",{function:e,type_arguments:t,arguments:r})).data.result}async getTableItemByKey(e,t,r,n){return(await this.sendRequest(!1,`/rpc/v1/tables/${e}/item`,{key_type:t,value_type:r,key:n})).data}async waitForTransactionCompletion(e){for(let t=0;t<300;t++){let t=await this.getTransactionStatus(e);if(null!==t&&"Pending"!=t)return t;await x(1e3)}return"Pending"}async sendTx(e,t){!0===(t?.enableTransactionSimulation??C)&&await this.simulateTx(e);let r=await this.sendRequest(!1,"/rpc/v1/transactions/submit",e);return console.log("Transaction Request Sent, Waiting For Completion"),{txHash:r.data,result:!0===(t?.enableWaitForTransaction??R)?await this.waitForTransactionCompletion(r.data):"Pending"}}static getSupraTransactionSignatureMessage(e){let t=Uint8Array.from(Buffer.from(K.default.sha3_256(e instanceof y.TxnBuilderTypes.RawTransaction?M:W),"hex")),r=new Uint8Array(y.BCS.bcsToBytes(e)),n=new Uint8Array(t.length+r.length);return n.set(t),n.set(r,t.length),n}static signSupraTransaction(t,r){return t.signBuffer(e.getSupraTransactionSignatureMessage(r))}static signSupraMultiTransaction(t,r){let n=new y.TxnBuilderTypes.Ed25519Signature(e.signSupraTransaction(t,r).toUint8Array());return new y.TxnBuilderTypes.AccountAuthenticatorEd25519(new y.TxnBuilderTypes.Ed25519PublicKey(t.signingKey.publicKey),n)}getTransactionPayloadJSON(e){if(e instanceof y.TxnBuilderTypes.TransactionPayloadEntryFunction)return{EntryFunction:{module:{address:e.value.module_name.address.toHexString().toString(),name:e.value.module_name.name.value},function:e.value.function_name.value,ty_args:m(e.value.ty_args),args:k(e.value.args)}};if(e instanceof y.TxnBuilderTypes.TransactionPayloadScript)return{Script:{code:Array.from(e.value.code),ty_args:m(e.value.ty_args),args:w(e.value.args)}};if(e instanceof y.TxnBuilderTypes.TransactionPayloadAutomationRegistration){if(e.value instanceof y.TxnBuilderTypes.AutomationRegistrationParamsV1)return{AutomationRegistration:{V1:{automated_function:{module:{address:e.value.value.automated_function.module_name.address.toHexString().toString(),name:e.value.value.automated_function.module_name.name.value},function:e.value.value.automated_function.function_name.value,ty_args:m(e.value.value.automated_function.ty_args),args:k(e.value.value.automated_function.args)},max_gas_amount:Number(e.value.value.max_gas_amount),gas_price_cap:Number(e.value.value.gas_price_cap),automation_fee_cap_for_epoch:Number(e.value.value.automation_fee_cap_for_epoch),expiration_timestamp_secs:Number(e.value.value.expiration_timestamp_secs),aux_data:k(e.value.value.aux_data)}}};throw new Error("Unknown variant of `AutomationRegistrationParams`")}throw new Error("Unknown variant of `TransactionPayload`")}getRawTxnJSON(e){return{sender:e.sender.toHexString().toString(),sequence_number:Number(e.sequence_number),payload:this.getTransactionPayloadJSON(e.payload),max_gas_amount:Number(e.max_gas_amount),gas_unit_price:Number(e.gas_unit_price),expiration_timestamp_secs:Number(e.expiration_timestamp_secs),chain_id:e.chain_id.value}}getSendTxPayload(t,r){return{Move:{raw_txn:this.getRawTxnJSON(r),authenticator:{Ed25519:{public_key:t.pubKey().toString(),signature:e.signSupraTransaction(t,r).toString()}}}}}async sendTxUsingSerializedRawTransaction(e,t,r){let n=this.getSendTxPayload(e,y.TxnBuilderTypes.RawTransaction.deserialize(new y.BCS.Deserializer(t)));return await this.sendTx(n,r)}async sendTxUsingSerializedRawTransactionAndSignature(e,t,r,n){let i={Move:{raw_txn:this.getRawTxnJSON(y.TxnBuilderTypes.RawTransaction.deserialize(new y.BCS.Deserializer(r))),authenticator:{Ed25519:{public_key:e.toString(),signature:t.toString()}}}};return await this.sendTx(i,n)}async sendSponsorTransaction(e,t,r,n,i,s=[],o){let a=[];s.forEach((e=>{a.push(this.getED25519AuthenticatorJSON(e))}));let c={Move:{raw_txn:this.getRawTxnJSON(r),authenticator:{FeePayer:{sender:this.getED25519AuthenticatorJSON(n),secondary_signer_addresses:t,secondary_signers:a,fee_payer_address:e,fee_payer_signer:this.getED25519AuthenticatorJSON(i)}}}};return await this.sendTx(c,o)}async sendMultiAgentTransaction(e,t,r,n,i){let s=[];n.forEach((e=>{s.push(this.getED25519AuthenticatorJSON(e))}));let o={Move:{raw_txn:this.getRawTxnJSON(t),authenticator:{MultiAgent:{sender:this.getED25519AuthenticatorJSON(r),secondary_signer_addresses:e,secondary_signers:s}}}};return await this.sendTx(o,i)}getED25519AuthenticatorJSON(e){return{Ed25519:{public_key:Buffer.from(e.public_key.value).toString("hex"),signature:Buffer.from(e.signature.value).toString("hex")}}}createRawTxObjectInner(e,t,r,n){return new y.TxnBuilderTypes.RawTransaction(new y.TxnBuilderTypes.AccountAddress(e.toUint8Array()),t,r,n?.maxGas??T,n?.gasUnitPrice??z,n?.txExpiryTime??BigInt(Math.ceil(Date.now()/P)+U),this.chainId)}async createRawTxObject(e,t,r,n,i,s,o,a){let c=new y.TxnBuilderTypes.TransactionPayloadEntryFunction(new y.TxnBuilderTypes.EntryFunction(new y.TxnBuilderTypes.ModuleId(new y.TxnBuilderTypes.AccountAddress(new y.HexString(S(r)).toUint8Array()),new y.TxnBuilderTypes.Identifier(n)),new y.TxnBuilderTypes.Identifier(i),s,o));return this.createRawTxObjectInner(e,t,c,a)}async createSerializedRawTxObject(e,t,r,n,i,s,o,a){return y.BCS.bcsToBytes(await this.createRawTxObject(e,t,r,n,i,s,o,a))}createSerializedScriptTxPayloadRawTxObject(e,t,r,n,i,s){let o=new y.TxnBuilderTypes.TransactionPayloadScript(new y.TxnBuilderTypes.Script(r,n,i));return y.BCS.bcsToBytes(this.createRawTxObjectInner(e,t,o,s))}createSerializedAutomationRegistrationTxPayloadRawTxObject(e,t,r,n,i,s,o,a,c,u,l,d,h){let f=new y.TxnBuilderTypes.TransactionPayloadAutomationRegistration(new y.TxnBuilderTypes.AutomationRegistrationParamsV1(new y.TxnBuilderTypes.AutomationRegistrationParamsV1Data(new y.TxnBuilderTypes.EntryFunction(new y.TxnBuilderTypes.ModuleId(new y.TxnBuilderTypes.AccountAddress(new y.HexString(S(r)).toUint8Array()),new y.TxnBuilderTypes.Identifier(n)),new y.TxnBuilderTypes.Identifier(i),s,o),a,c,u,l,d)));return y.BCS.bcsToBytes(this.createRawTxObjectInner(e,t,f,h))}static createSignedTransaction(t,r){return new y.TxnBuilderTypes.SignedTransaction(r,new y.TxnBuilderTypes.AccountAuthenticatorEd25519(new y.TxnBuilderTypes.Ed25519PublicKey(t.pubKey().toUint8Array()),new y.TxnBuilderTypes.Ed25519Signature(e.signSupraTransaction(t,r).toUint8Array())))}static deriveTransactionHash(e){return K.default.keccak256(y.BCS.bcsToBytes(e))}async transferSupraCoin(e,t,r,n){if(n?.optionalTransactionPayloadArgs&&!n?.optionalTransactionPayloadArgs?.maxGas){let e=BigInt(H);0==await this.isAccountExists(t)&&(e=BigInt(N)),n.optionalTransactionPayloadArgs.maxGas=e}let i=this.getSendTxPayload(e,await this.createRawTxObject(e.address(),(await this.getAccountInfo(e.address())).sequence_number,L,"supra_account","transfer",[],[t.toUint8Array(),y.BCS.bcsSerializeUint64(r)],n?.optionalTransactionPayloadArgs));return await this.sendTx(i,n?.enableTransactionWaitAndSimulationArgs)}async transferCoin(e,t,r,n,i){let s=this.getSendTxPayload(e,await this.createRawTxObject(e.address(),(await this.getAccountInfo(e.address())).sequence_number,L,"supra_account","transfer_coins",[new y.TxnBuilderTypes.TypeTagParser(n).parseTypeTag()],[t.toUint8Array(),y.BCS.bcsSerializeUint64(r)],i?.optionalTransactionPayloadArgs));return await this.sendTx(s,i?.enableTransactionWaitAndSimulationArgs)}async publishPackage(e,t,r,n){let i=new y.BCS.Serializer,s=[];for(let e=0;e<r.length;e++)s.push(new y.TxnBuilderTypes.Module(Uint8Array.from(r[e])));y.BCS.serializeVector(s,i);let o=this.getSendTxPayload(e,await this.createRawTxObject(e.address(),(await this.getAccountInfo(e.address())).sequence_number,L,"code","publish_package_txn",[],[y.BCS.bcsSerializeBytes(t),i.getBytes()],n?.optionalTransactionPayloadArgs));return await this.sendTx(o,n?.enableTransactionWaitAndSimulationArgs)}async simulateTx(e){let t=e.Move.authenticator,r=JSON.parse(JSON.stringify(t));e.Move.authenticator=r,this.unsetAuthenticatorSignatures(e.Move.authenticator);let n=await this.sendRequest(!1,"/rpc/v1/transactions/simulate",e);if(e.Move.authenticator=t,"Executed successfully"!==n.data.output.Move.vm_status)throw new Error(`Transaction simulation failed. Reason: ${n?.data?.output?.Move?.vm_status}`);return console.log("Transaction Simulation Done"),n.data}unsetAuthenticatorSignatures(e){let t="0x"+"0".repeat(128);"Ed25519"in e?e.Ed25519.signature=t:"FeePayer"in e?(e.FeePayer.sender.Ed25519.signature=t,e.FeePayer.fee_payer_signer.Ed25519.signature=t,e.FeePayer.secondary_signers.forEach((e=>{e.Ed25519.signature=t}))):(e.MultiAgent.sender.Ed25519.signature=t,e.MultiAgent.secondary_signers.forEach((e=>{e.Ed25519.signature=t})))}async simulateTxUsingSerializedRawTransaction(e,t){let r={Move:{raw_txn:this.getRawTxnJSON(y.TxnBuilderTypes.RawTransaction.deserialize(new y.BCS.Deserializer(t))),authenticator:e}};return await this.simulateTx(r)}}},18948:(e,t)=>{"use strict";function r(e,t,r){return t<=e&&e<=r}function n(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function i(e){this.tokens=[].slice.call(e)}i.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s=-1;function o(e,t){if(e)throw TypeError("Decoder error");return t||65533}var a="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():a)!==a)throw new Error("Encoding not supported. Only utf-8 is supported");t=n(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var t=e.fatal,n=0,i=0,a=0,c=128,u=191;this.handler=function(e,l){if(-1===l&&0!==a)return a=0,o(t);if(-1===l)return s;if(0===a){if(r(l,0,127))return l;if(r(l,194,223))a=1,n=l-192;else if(r(l,224,239))224===l&&(c=160),237===l&&(u=159),a=2,n=l-224;else{if(!r(l,240,244))return o(t);240===l&&(c=144),244===l&&(u=143),a=3,n=l-240}return n<<=6*a,null}if(!r(l,c,u))return n=a=i=0,c=128,u=191,e.prepend(l),o(t);if(c=128,u=191,n+=l-128<<6*(a-(i+=1)),i!==a)return null;var d=n;return n=a=i=0,d}}function d(e){e.fatal;this.handler=function(e,t){if(-1===t)return s;if(r(t,0,127))return t;var n,i;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var o=[(t>>6*n)+i];n>0;){var a=t>>6*(n-1);o.push(128|63&a),n-=1}return o}}c.prototype={decode:function(e,t){var r;r="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=n(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var o,a=new i(r),c=[];!a.endOfStream()&&(o=this._decoder.handler(a,a.read()))!==s;)null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o));if(!this._streaming){do{if((o=this._decoder.handler(a,a.read()))===s)break;null!==o&&(Array.isArray(o)?c.push.apply(c,o):c.push(o))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(c)}},u.prototype={encode:function(e,t){e=e?String(e):"",t=n(t),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(t.stream);for(var r,o=[],a=new i(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var s=t.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=e.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=1023&s,c=1023&o;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}(e));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?o.push.apply(o,r):o.push(r);this._encoder=null}return new Uint8Array(o)}},t.TextEncoder=u,t.TextDecoder=c},7453:(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=t(),a=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function y(e,t,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}function g(e,t,r,n){return y(e,t,r,n,16)}function b(e,t,r,n){return y(e,t,r,n,32)}function m(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,k=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=s,x=o,v=a,A=c,E=u,B=l,_=d,I=h,T=f,z=p,U=y,P=g,L=b,O=m,C=w,R=k,H=0;H<20;H+=2)S^=(i=(L^=(i=(T^=(i=(E^=(i=S+L|0)<<7|i>>>25)+S|0)<<9|i>>>23)+E|0)<<13|i>>>19)+T|0)<<18|i>>>14,B^=(i=(x^=(i=(O^=(i=(z^=(i=B+x|0)<<7|i>>>25)+B|0)<<9|i>>>23)+z|0)<<13|i>>>19)+O|0)<<18|i>>>14,U^=(i=(_^=(i=(v^=(i=(C^=(i=U+_|0)<<7|i>>>25)+U|0)<<9|i>>>23)+C|0)<<13|i>>>19)+v|0)<<18|i>>>14,R^=(i=(P^=(i=(I^=(i=(A^=(i=R+P|0)<<7|i>>>25)+R|0)<<9|i>>>23)+A|0)<<13|i>>>19)+I|0)<<18|i>>>14,S^=(i=(A^=(i=(v^=(i=(x^=(i=S+A|0)<<7|i>>>25)+S|0)<<9|i>>>23)+x|0)<<13|i>>>19)+v|0)<<18|i>>>14,B^=(i=(E^=(i=(I^=(i=(_^=(i=B+E|0)<<7|i>>>25)+B|0)<<9|i>>>23)+_|0)<<13|i>>>19)+I|0)<<18|i>>>14,U^=(i=(z^=(i=(T^=(i=(P^=(i=U+z|0)<<7|i>>>25)+U|0)<<9|i>>>23)+P|0)<<13|i>>>19)+T|0)<<18|i>>>14,R^=(i=(C^=(i=(O^=(i=(L^=(i=R+C|0)<<7|i>>>25)+R|0)<<9|i>>>23)+L|0)<<13|i>>>19)+O|0)<<18|i>>>14;S=S+s|0,x=x+o|0,v=v+a|0,A=A+c|0,E=E+u|0,B=B+l|0,_=_+d|0,I=I+h|0,T=T+f|0,z=z+p|0,U=U+y|0,P=P+g|0,L=L+b|0,O=O+m|0,C=C+w|0,R=R+k|0,e[0]=S>>>0&255,e[1]=S>>>8&255,e[2]=S>>>16&255,e[3]=S>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=v>>>0&255,e[9]=v>>>8&255,e[10]=v>>>16&255,e[11]=v>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=B>>>0&255,e[21]=B>>>8&255,e[22]=B>>>16&255,e[23]=B>>>24&255,e[24]=_>>>0&255,e[25]=_>>>8&255,e[26]=_>>>16&255,e[27]=_>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=z>>>0&255,e[37]=z>>>8&255,e[38]=z>>>16&255,e[39]=z>>>24&255,e[40]=U>>>0&255,e[41]=U>>>8&255,e[42]=U>>>16&255,e[43]=U>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=L>>>0&255,e[49]=L>>>8&255,e[50]=L>>>16&255,e[51]=L>>>24&255,e[52]=O>>>0&255,e[53]=O>>>8&255,e[54]=O>>>16&255,e[55]=O>>>24&255,e[56]=C>>>0&255,e[57]=C>>>8&255,e[58]=C>>>16&255,e[59]=C>>>24&255,e[60]=R>>>0&255,e[61]=R>>>8&255,e[62]=R>>>16&255,e[63]=R>>>24&255}(e,t,r,n)}function w(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,k=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,S=0;S<20;S+=2)s^=(i=(b^=(i=(f^=(i=(u^=(i=s+b|0)<<7|i>>>25)+s|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,l^=(i=(o^=(i=(m^=(i=(p^=(i=l+o|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+m|0)<<18|i>>>14,y^=(i=(d^=(i=(a^=(i=(w^=(i=y+d|0)<<7|i>>>25)+y|0)<<9|i>>>23)+w|0)<<13|i>>>19)+a|0)<<18|i>>>14,k^=(i=(g^=(i=(h^=(i=(c^=(i=k+g|0)<<7|i>>>25)+k|0)<<9|i>>>23)+c|0)<<13|i>>>19)+h|0)<<18|i>>>14,s^=(i=(c^=(i=(a^=(i=(o^=(i=s+c|0)<<7|i>>>25)+s|0)<<9|i>>>23)+o|0)<<13|i>>>19)+a|0)<<18|i>>>14,l^=(i=(u^=(i=(h^=(i=(d^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+d|0)<<13|i>>>19)+h|0)<<18|i>>>14,y^=(i=(p^=(i=(f^=(i=(g^=(i=y+p|0)<<7|i>>>25)+y|0)<<9|i>>>23)+g|0)<<13|i>>>19)+f|0)<<18|i>>>14,k^=(i=(w^=(i=(m^=(i=(b^=(i=k+w|0)<<7|i>>>25)+k|0)<<9|i>>>23)+b|0)<<13|i>>>19)+m|0)<<18|i>>>14;e[0]=s>>>0&255,e[1]=s>>>8&255,e[2]=s>>>16&255,e[3]=s>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=k>>>0&255,e[13]=k>>>8&255,e[14]=k>>>16&255,e[15]=k>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var k=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(e,t,r,n,i,s,o){var a,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=s[c];for(;i>=64;){for(m(l,u,o,k),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(m(l,u,o,k),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function x(e,t,r,n,i){var s,o,a=new Uint8Array(16),c=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(m(c,a,i,k),o=0;o<64;o++)e[t+o]=c[o];for(s=1,o=8;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(m(c,a,i,k),o=0;o<r;o++)e[t+o]=c[o];return 0}function v(e,t,r,n,i){var s=new Uint8Array(32);w(s,n,i,k);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return x(e,t,r,o,s)}function A(e,t,r,n,i,s,o){var a=new Uint8Array(32);w(a,s,o,k);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=s[u+16];return S(e,t,r,n,i,c,a)}var E=function(e){var t,r,n,i,s,o,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),s=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(s>>>14|o<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(o>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function B(e,t,r,n,i,s){var o=new E(s);return o.update(r,n,i),o.finish(e,t),0}function _(e,t,r,n,i,s){var o=new Uint8Array(16);return B(o,0,r,n,i,s),g(e,t,o,0)}function I(e,t,r,n,i){var s;if(r<32)return-1;for(A(e,0,t,0,r,n,i),B(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function T(e,t,r,n,i){var s,o=new Uint8Array(32);if(r<32)return-1;if(v(o,0,32,n,i),0!==_(t,16,t,32,r-32,o))return-1;for(A(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function z(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function U(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function P(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function L(e,r){var n,i,s,o=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(U(a),U(a),U(a),i=0;i<2;i++){for(o[0]=a[0]-65517,n=1;n<15;n++)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,P(a,o,1-s)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function O(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return L(r,e),L(n,t),b(r,0,n,0)}function C(e){var t=new Uint8Array(32);return L(t,e),1&t[0]}function R(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function H(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function N(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function M(e,t,r){var n,i,s=0,o=0,a=0,c=0,u=0,l=0,d=0,h=0,f=0,p=0,y=0,g=0,b=0,m=0,w=0,k=0,S=0,x=0,v=0,A=0,E=0,B=0,_=0,I=0,T=0,z=0,U=0,P=0,L=0,O=0,C=0,R=r[0],H=r[1],N=r[2],M=r[3],W=r[4],K=r[5],F=r[6],D=r[7],q=r[8],j=r[9],$=r[10],V=r[11],J=r[12],G=r[13],Z=r[14],Y=r[15];s+=(n=t[0])*R,o+=n*H,a+=n*N,c+=n*M,u+=n*W,l+=n*K,d+=n*F,h+=n*D,f+=n*q,p+=n*j,y+=n*$,g+=n*V,b+=n*J,m+=n*G,w+=n*Z,k+=n*Y,o+=(n=t[1])*R,a+=n*H,c+=n*N,u+=n*M,l+=n*W,d+=n*K,h+=n*F,f+=n*D,p+=n*q,y+=n*j,g+=n*$,b+=n*V,m+=n*J,w+=n*G,k+=n*Z,S+=n*Y,a+=(n=t[2])*R,c+=n*H,u+=n*N,l+=n*M,d+=n*W,h+=n*K,f+=n*F,p+=n*D,y+=n*q,g+=n*j,b+=n*$,m+=n*V,w+=n*J,k+=n*G,S+=n*Z,x+=n*Y,c+=(n=t[3])*R,u+=n*H,l+=n*N,d+=n*M,h+=n*W,f+=n*K,p+=n*F,y+=n*D,g+=n*q,b+=n*j,m+=n*$,w+=n*V,k+=n*J,S+=n*G,x+=n*Z,v+=n*Y,u+=(n=t[4])*R,l+=n*H,d+=n*N,h+=n*M,f+=n*W,p+=n*K,y+=n*F,g+=n*D,b+=n*q,m+=n*j,w+=n*$,k+=n*V,S+=n*J,x+=n*G,v+=n*Z,A+=n*Y,l+=(n=t[5])*R,d+=n*H,h+=n*N,f+=n*M,p+=n*W,y+=n*K,g+=n*F,b+=n*D,m+=n*q,w+=n*j,k+=n*$,S+=n*V,x+=n*J,v+=n*G,A+=n*Z,E+=n*Y,d+=(n=t[6])*R,h+=n*H,f+=n*N,p+=n*M,y+=n*W,g+=n*K,b+=n*F,m+=n*D,w+=n*q,k+=n*j,S+=n*$,x+=n*V,v+=n*J,A+=n*G,E+=n*Z,B+=n*Y,h+=(n=t[7])*R,f+=n*H,p+=n*N,y+=n*M,g+=n*W,b+=n*K,m+=n*F,w+=n*D,k+=n*q,S+=n*j,x+=n*$,v+=n*V,A+=n*J,E+=n*G,B+=n*Z,_+=n*Y,f+=(n=t[8])*R,p+=n*H,y+=n*N,g+=n*M,b+=n*W,m+=n*K,w+=n*F,k+=n*D,S+=n*q,x+=n*j,v+=n*$,A+=n*V,E+=n*J,B+=n*G,_+=n*Z,I+=n*Y,p+=(n=t[9])*R,y+=n*H,g+=n*N,b+=n*M,m+=n*W,w+=n*K,k+=n*F,S+=n*D,x+=n*q,v+=n*j,A+=n*$,E+=n*V,B+=n*J,_+=n*G,I+=n*Z,T+=n*Y,y+=(n=t[10])*R,g+=n*H,b+=n*N,m+=n*M,w+=n*W,k+=n*K,S+=n*F,x+=n*D,v+=n*q,A+=n*j,E+=n*$,B+=n*V,_+=n*J,I+=n*G,T+=n*Z,z+=n*Y,g+=(n=t[11])*R,b+=n*H,m+=n*N,w+=n*M,k+=n*W,S+=n*K,x+=n*F,v+=n*D,A+=n*q,E+=n*j,B+=n*$,_+=n*V,I+=n*J,T+=n*G,z+=n*Z,U+=n*Y,b+=(n=t[12])*R,m+=n*H,w+=n*N,k+=n*M,S+=n*W,x+=n*K,v+=n*F,A+=n*D,E+=n*q,B+=n*j,_+=n*$,I+=n*V,T+=n*J,z+=n*G,U+=n*Z,P+=n*Y,m+=(n=t[13])*R,w+=n*H,k+=n*N,S+=n*M,x+=n*W,v+=n*K,A+=n*F,E+=n*D,B+=n*q,_+=n*j,I+=n*$,T+=n*V,z+=n*J,U+=n*G,P+=n*Z,L+=n*Y,w+=(n=t[14])*R,k+=n*H,S+=n*N,x+=n*M,v+=n*W,A+=n*K,E+=n*F,B+=n*D,_+=n*q,I+=n*j,T+=n*$,z+=n*V,U+=n*J,P+=n*G,L+=n*Z,O+=n*Y,k+=(n=t[15])*R,o+=38*(x+=n*N),a+=38*(v+=n*M),c+=38*(A+=n*W),u+=38*(E+=n*K),l+=38*(B+=n*F),d+=38*(_+=n*D),h+=38*(I+=n*q),f+=38*(T+=n*j),p+=38*(z+=n*$),y+=38*(U+=n*V),g+=38*(P+=n*J),b+=38*(L+=n*G),m+=38*(O+=n*Z),w+=38*(C+=n*Y),s=(n=(s+=38*(S+=n*H))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=(s+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),k=(n=k+i+65535)-65536*(i=Math.floor(n/65536)),s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=u,e[5]=l,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=y,e[11]=g,e[12]=b,e[13]=m,e[14]=w,e[15]=k}function W(e,t){M(e,t,t)}function K(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)W(i,i),2!==n&&4!==n&&M(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function F(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)W(i,i),1!==n&&M(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function D(e,r,n){var i,s,o=new Uint8Array(32),a=new Float64Array(80),u=t(),l=t(),d=t(),h=t(),f=t(),p=t();for(s=0;s<31;s++)o[s]=r[s];for(o[31]=127&r[31]|64,o[0]&=248,R(a,n),s=0;s<16;s++)l[s]=a[s],h[s]=u[s]=d[s]=0;for(u[0]=h[0]=1,s=254;s>=0;--s)P(u,l,i=o[s>>>3]>>>(7&s)&1),P(d,h,i),H(f,u,d),N(u,u,d),H(d,l,h),N(l,l,h),W(h,f),W(p,u),M(u,d,u),M(d,l,f),H(f,u,d),N(u,u,d),W(l,u),N(d,h,p),M(u,d,c),H(u,u,h),M(d,d,u),M(u,h,p),M(h,l,a),W(l,f),P(u,l,i),P(d,h,i);for(s=0;s<16;s++)a[s+16]=u[s],a[s+32]=d[s],a[s+48]=l[s],a[s+64]=h[s];var y=a.subarray(32),g=a.subarray(16);return K(y,y),M(g,g,y),L(e,g),0}function q(e,t){return D(e,t,s)}function j(e,t){return n(t,32),q(e,t)}function $(e,t,r){var n=new Uint8Array(32);return D(n,r,t),w(e,i,n,k)}E.prototype.blocks=function(e,t,r){for(var n,i,s,o,a,c,u,l,d,h,f,p,y,g,b,m,w,k,S,x=this.fin?0:2048,v=this.h[0],A=this.h[1],E=this.h[2],B=this.h[3],_=this.h[4],I=this.h[5],T=this.h[6],z=this.h[7],U=this.h[8],P=this.h[9],L=this.r[0],O=this.r[1],C=this.r[2],R=this.r[3],H=this.r[4],N=this.r[5],M=this.r[6],W=this.r[7],K=this.r[8],F=this.r[9];r>=16;)h=d=0,h+=(v+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*L,h+=(A+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*F),h+=(E+=8191&(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*K),h+=(B+=8191&(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*W),d=(h+=(_+=8191&(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*M))>>>13,h&=8191,h+=(I+=a>>>1&8191)*(5*N),h+=(T+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*H),h+=(z+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*R),h+=(U+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*C),f=d+=(h+=(P+=l>>>5|x)*(5*O))>>>13,f+=v*O,f+=A*L,f+=E*(5*F),f+=B*(5*K),d=(f+=_*(5*W))>>>13,f&=8191,f+=I*(5*M),f+=T*(5*N),f+=z*(5*H),f+=U*(5*R),d+=(f+=P*(5*C))>>>13,f&=8191,p=d,p+=v*C,p+=A*O,p+=E*L,p+=B*(5*F),d=(p+=_*(5*K))>>>13,p&=8191,p+=I*(5*W),p+=T*(5*M),p+=z*(5*N),p+=U*(5*H),y=d+=(p+=P*(5*R))>>>13,y+=v*R,y+=A*C,y+=E*O,y+=B*L,d=(y+=_*(5*F))>>>13,y&=8191,y+=I*(5*K),y+=T*(5*W),y+=z*(5*M),y+=U*(5*N),g=d+=(y+=P*(5*H))>>>13,g+=v*H,g+=A*R,g+=E*C,g+=B*O,d=(g+=_*L)>>>13,g&=8191,g+=I*(5*F),g+=T*(5*K),g+=z*(5*W),g+=U*(5*M),b=d+=(g+=P*(5*N))>>>13,b+=v*N,b+=A*H,b+=E*R,b+=B*C,d=(b+=_*O)>>>13,b&=8191,b+=I*L,b+=T*(5*F),b+=z*(5*K),b+=U*(5*W),m=d+=(b+=P*(5*M))>>>13,m+=v*M,m+=A*N,m+=E*H,m+=B*R,d=(m+=_*C)>>>13,m&=8191,m+=I*O,m+=T*L,m+=z*(5*F),m+=U*(5*K),w=d+=(m+=P*(5*W))>>>13,w+=v*W,w+=A*M,w+=E*N,w+=B*H,d=(w+=_*R)>>>13,w&=8191,w+=I*C,w+=T*O,w+=z*L,w+=U*(5*F),k=d+=(w+=P*(5*K))>>>13,k+=v*K,k+=A*W,k+=E*M,k+=B*N,d=(k+=_*H)>>>13,k&=8191,k+=I*R,k+=T*C,k+=z*O,k+=U*L,S=d+=(k+=P*(5*F))>>>13,S+=v*F,S+=A*K,S+=E*W,S+=B*M,d=(S+=_*N)>>>13,S&=8191,S+=I*H,S+=T*R,S+=z*C,S+=U*O,v=h=8191&(d=(d=((d+=(S+=P*L)>>>13)<<2)+d|0)+(h&=8191)|0),A=f+=d>>>=13,E=p&=8191,B=y&=8191,_=g&=8191,I=b&=8191,T=m&=8191,z=w&=8191,U=k&=8191,P=S&=8191,t+=16,r-=16;this.h[0]=v,this.h[1]=A,this.h[2]=E,this.h[3]=B,this.h[4]=_,this.h[5]=I,this.h[6]=T,this.h[7]=z,this.h[8]=U,this.h[9]=P},E.prototype.finish=function(e,t){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},E.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var V=I,J=T;var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,t,r,n){for(var i,s,o,a,c,u,l,d,h,f,p,y,g,b,m,w,k,S,x,v,A,E,B,_,I,T,z=new Int32Array(16),U=new Int32Array(16),P=e[0],L=e[1],O=e[2],C=e[3],R=e[4],H=e[5],N=e[6],M=e[7],W=t[0],K=t[1],F=t[2],D=t[3],q=t[4],j=t[5],$=t[6],V=t[7],J=0;n>=128;){for(x=0;x<16;x++)v=8*x+J,z[x]=r[v+0]<<24|r[v+1]<<16|r[v+2]<<8|r[v+3],U[x]=r[v+4]<<24|r[v+5]<<16|r[v+6]<<8|r[v+7];for(x=0;x<80;x++)if(i=P,s=L,o=O,a=C,c=R,u=H,l=N,M,h=W,f=K,p=F,y=D,g=q,b=j,m=$,V,B=65535&(E=V),_=E>>>16,I=65535&(A=M),T=A>>>16,B+=65535&(E=(q>>>14|R<<18)^(q>>>18|R<<14)^(R>>>9|q<<23)),_+=E>>>16,I+=65535&(A=(R>>>14|q<<18)^(R>>>18|q<<14)^(q>>>9|R<<23)),T+=A>>>16,B+=65535&(E=q&j^~q&$),_+=E>>>16,I+=65535&(A=R&H^~R&N),T+=A>>>16,A=G[2*x],B+=65535&(E=G[2*x+1]),_+=E>>>16,I+=65535&A,T+=A>>>16,A=z[x%16],_+=(E=U[x%16])>>>16,I+=65535&A,T+=A>>>16,I+=(_+=(B+=65535&E)>>>16)>>>16,B=65535&(E=S=65535&B|_<<16),_=E>>>16,I=65535&(A=k=65535&I|(T+=I>>>16)<<16),T=A>>>16,B+=65535&(E=(W>>>28|P<<4)^(P>>>2|W<<30)^(P>>>7|W<<25)),_+=E>>>16,I+=65535&(A=(P>>>28|W<<4)^(W>>>2|P<<30)^(W>>>7|P<<25)),T+=A>>>16,_+=(E=W&K^W&F^K&F)>>>16,I+=65535&(A=P&L^P&O^L&O),T+=A>>>16,d=65535&(I+=(_+=(B+=65535&E)>>>16)>>>16)|(T+=I>>>16)<<16,w=65535&B|_<<16,B=65535&(E=y),_=E>>>16,I=65535&(A=a),T=A>>>16,_+=(E=S)>>>16,I+=65535&(A=k),T+=A>>>16,L=i,O=s,C=o,R=a=65535&(I+=(_+=(B+=65535&E)>>>16)>>>16)|(T+=I>>>16)<<16,H=c,N=u,M=l,P=d,K=h,F=f,D=p,q=y=65535&B|_<<16,j=g,$=b,V=m,W=w,x%16==15)for(v=0;v<16;v++)A=z[v],B=65535&(E=U[v]),_=E>>>16,I=65535&A,T=A>>>16,A=z[(v+9)%16],B+=65535&(E=U[(v+9)%16]),_+=E>>>16,I+=65535&A,T+=A>>>16,k=z[(v+1)%16],B+=65535&(E=((S=U[(v+1)%16])>>>1|k<<31)^(S>>>8|k<<24)^(S>>>7|k<<25)),_+=E>>>16,I+=65535&(A=(k>>>1|S<<31)^(k>>>8|S<<24)^k>>>7),T+=A>>>16,k=z[(v+14)%16],_+=(E=((S=U[(v+14)%16])>>>19|k<<13)^(k>>>29|S<<3)^(S>>>6|k<<26))>>>16,I+=65535&(A=(k>>>19|S<<13)^(S>>>29|k<<3)^k>>>6),T+=A>>>16,T+=(I+=(_+=(B+=65535&E)>>>16)>>>16)>>>16,z[v]=65535&I|T<<16,U[v]=65535&B|_<<16;B=65535&(E=W),_=E>>>16,I=65535&(A=P),T=A>>>16,A=e[0],_+=(E=t[0])>>>16,I+=65535&A,T+=A>>>16,T+=(I+=(_+=(B+=65535&E)>>>16)>>>16)>>>16,e[0]=P=65535&I|T<<16,t[0]=W=65535&B|_<<16,B=65535&(E=K),_=E>>>16,I=65535&(A=L),T=A>>>16,A=e[1],_+=(E=t[1])>>>16,I+=65535&A,T+=A>>>16,T+=(I+=(_+=(B+=65535&E)>>>16)>>>16)>>>16,e[1]=L=65535&I|T<<16,t[1]=K=65535&B|_<<16,B=65535&(E=F),_=E>>>16,I=65535&(A=O),T=A>>>16,A=e[2],_+=(E=t[2])>>>16,I+=65535&A,T+=A>>>16,T+=(I+=(_+=(B+=65535&E)>>>16)>>>16)>>>16,e[2]=O=65535&I|T<<16,t[2]=F=65535&B|_<<16,B=65535&(E=D),_=E>>>16,I=65535&(A=C),T=A>>>16,A=e[3],_+=(E=t[3])>>>16,I+=65535&A,T+=A>>>16,T+=(I+=(_+=(B+=65535&E)>>>16)>>>16)>>>16,e[3]=C=65535&I|T<<16,t[3]=D=65535&B|_<<16,B=65535&(E=q),_=E>>>16,I=65535&(A=R),T=A>>>16,A=e[4],_+=(E=t[4])>>>16,I+=65535&A,T+=A>>>16,T+=(I+=(_+=(B+=65535&E)>>>16)>>>16)>>>16,e[4]=R=65535&I|T<<16,t[4]=q=65535&B|_<<16,B=65535&(E=j),_=E>>>16,I=65535&(A=H),T=A>>>16,A=e[5],_+=(E=t[5])>>>16,I+=65535&A,T+=A>>>16,T+=(I+=(_+=(B+=65535&E)>>>16)>>>16)>>>16,e[5]=H=65535&I|T<<16,t[5]=j=65535&B|_<<16,B=65535&(E=$),_=E>>>16,I=65535&(A=N),T=A>>>16,A=e[6],_+=(E=t[6])>>>16,I+=65535&A,T+=A>>>16,T+=(I+=(_+=(B+=65535&E)>>>16)>>>16)>>>16,e[6]=N=65535&I|T<<16,t[6]=$=65535&B|_<<16,B=65535&(E=V),_=E>>>16,I=65535&(A=M),T=A>>>16,A=e[7],_+=(E=t[7])>>>16,I+=65535&A,T+=A>>>16,T+=(I+=(_+=(B+=65535&E)>>>16)>>>16)>>>16,e[7]=M=65535&I|T<<16,t[7]=V=65535&B|_<<16,J+=128,n-=128}return n}function Y(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,Z(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,p(o,r-8,a/536870912|0,a<<3),Z(i,s,o,r),n=0;n<8;n++)p(e,8*n,i[n],s[n]);return 0}function X(e,r){var n=t(),i=t(),s=t(),o=t(),a=t(),c=t(),u=t(),d=t(),h=t();N(n,e[1],e[0]),N(h,r[1],r[0]),M(n,n,h),H(i,e[0],e[1]),H(h,r[0],r[1]),M(i,i,h),M(s,e[3],r[3]),M(s,s,l),M(o,e[2],r[2]),H(o,o,o),N(a,i,n),N(c,o,s),H(u,o,s),H(d,i,n),M(e[0],a,c),M(e[1],d,u),M(e[2],u,c),M(e[3],a,d)}function Q(e,t,r){var n;for(n=0;n<4;n++)P(e[n],t[n],r)}function ee(e,r){var n=t(),i=t(),s=t();K(s,r[2]),M(n,r[0],s),M(i,r[1],s),L(e,i),e[31]^=C(n)<<7}function te(e,t,r){var n,i;for(z(e[0],o),z(e[1],a),z(e[2],a),z(e[3],o),i=255;i>=0;--i)Q(e,t,n=r[i/8|0]>>(7&i)&1),X(t,e),X(e,e),Q(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];z(n[0],d),z(n[1],h),z(n[2],a),M(n[3],d,h),te(e,n,r)}function ne(e,r,i){var s,o=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),Y(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64,re(a,o),ee(e,a),s=0;s<32;s++)r[s+32]=e[s];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;se(e,r)}function ae(e,r,n,i){var s,o,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),d=[t(),t(),t(),t()];Y(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=n+64;for(s=0;s<n;s++)e[64+s]=r[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(Y(u,e.subarray(32),n+32),oe(u),re(d,u),ee(e,d),s=32;s<64;s++)e[s]=i[s];for(Y(c,e,n+64),oe(c),s=0;s<64;s++)l[s]=0;for(s=0;s<32;s++)l[s]=u[s];for(s=0;s<32;s++)for(o=0;o<32;o++)l[s+o]+=c[s]*a[o];return se(e.subarray(32),l),h}function ce(e,r,n,i){var s,c=new Uint8Array(32),l=new Uint8Array(64),d=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),s=t(),c=t(),l=t(),d=t(),h=t();return z(e[2],a),R(e[1],r),W(s,e[1]),M(c,s,u),N(s,s,e[2]),H(c,e[2],c),W(l,c),W(d,l),M(h,d,l),M(n,h,s),M(n,n,c),F(n,n),M(n,n,s),M(n,n,c),M(n,n,c),M(e[0],n,c),W(i,e[0]),M(i,i,c),O(i,s)&&M(e[0],e[0],f),W(i,e[0]),M(i,i,c),O(i,s)?-1:(C(e[0])===r[31]>>7&&N(e[0],o,e[0]),M(e[3],e[0],e[1]),0)}(h,i))return-1;for(s=0;s<n;s++)e[s]=r[s];for(s=0;s<32;s++)e[s+32]=i[s];if(Y(l,e,n),oe(l),te(d,h,l),re(h,r.subarray(32)),X(d,h),ee(c,d),n-=64,b(r,0,c,0)){for(s=0;s<n;s++)e[s]=0;return-1}for(s=0;s<n;s++)e[s]=r[s+64];return n}var ue=16,le=64,de=32,he=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ye(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:A,crypto_stream:v,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:_,crypto_verify_16:g,crypto_verify_32:b,crypto_secretbox:I,crypto_secretbox_open:T,crypto_scalarmult:D,crypto_scalarmult_base:q,crypto_box_beforenm:$,crypto_box_afternm:V,crypto_box:function(e,t,r,n,i,s){var o=new Uint8Array(32);return $(o,i,s),V(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,s){var o=new Uint8Array(32);return $(o,i,s),J(e,t,r,n,o)},crypto_box_keypair:j,crypto_hash:Y,crypto_sign:ae,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:he,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ie,pack25519:L,unpack25519:R,M,A:H,S:W,Z:N,pow2523:F,add:X,set25519:z,modL:se,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),fe(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return I(i,n,n.length,t,r),i.subarray(ue)},e.secretbox.open=function(e,t,r){pe(e,t,r),fe(r,t);for(var n=new Uint8Array(ue+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+ue]=e[s];return n.length<32||0!==T(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ue,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return D(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return $(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return j(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==he)throw new Error("bad secret key size");var r=new Uint8Array(le+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(le),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==le)throw new Error("bad signature size");if(r.length!==de)throw new Error("bad public key size");var n,i=new Uint8Array(le+e.length),s=new Uint8Array(le+e.length);for(n=0;n<le;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+le]=e[n];return ce(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(he);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==he)throw new Error("bad secret key size");for(var t=new Uint8Array(de),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),r=new Uint8Array(he),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=he,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Y(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===y(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ye(i)}))}else(t=r(10620))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ye(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},81298:(e,t,r)=>{"use strict";var n;r.d(t,{v4:()=>d});var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(e){return"string"==typeof e&&o.test(e)};for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};const d=function(e,t,r){var n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return l(n)}},97164:(e,t,r)=>{"use strict";function n(e,t){return function(){return e.apply(t,arguments)}}const{toString:i}=Object.prototype,{getPrototypeOf:s}=Object,{iterator:o,toStringTag:a}=Symbol,c=(u=Object.create(null),e=>{const t=i.call(e);return u[t]||(u[t]=t.slice(8,-1).toLowerCase())});var u;const l=e=>(e=e.toLowerCase(),t=>c(t)===e),d=e=>t=>typeof t===e,{isArray:h}=Array,f=d("undefined");const p=l("ArrayBuffer");const y=d("string"),g=d("function"),b=d("number"),m=e=>null!==e&&"object"==typeof e,w=e=>{if("object"!==c(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||a in e||o in e)},k=l("Date"),S=l("File"),x=l("Blob"),v=l("FileList"),A=l("URLSearchParams"),[E,B,_,I]=["ReadableStream","Request","Response","Headers"].map(l);function T(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),h(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let o;for(n=0;n<s;n++)o=i[n],t.call(null,e[o],o,e)}}function z(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,P=e=>!f(e)&&e!==U;const L=(O="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>O&&e instanceof O);var O;const C=l("HTMLFormElement"),R=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),H=l("RegExp"),N=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};T(r,((r,i)=>{let s;!1!==(s=t(r,i,e))&&(n[i]=s||r)})),Object.defineProperties(e,n)};const M=l("AsyncFunction"),W=(K="function"==typeof setImmediate,F=g(U.postMessage),K?setImmediate:F?(D=`axios@${Math.random()}`,q=[],U.addEventListener("message",(({source:e,data:t})=>{e===U&&t===D&&q.length&&q.shift()()}),!1),e=>{q.push(e),U.postMessage(D,"*")}):e=>setTimeout(e));var K,F,D,q;const j="undefined"!=typeof queueMicrotask?queueMicrotask.bind(U):"undefined"!=typeof process&&process.nextTick||W;var $={isArray:h,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!f(e)&&null!==e.constructor&&!f(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(t=c(e))||"object"===t&&g(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:y,isNumber:b,isBoolean:e=>!0===e||!1===e,isObject:m,isPlainObject:w,isReadableStream:E,isRequest:B,isResponse:_,isHeaders:I,isUndefined:f,isDate:k,isFile:S,isBlob:x,isRegExp:H,isFunction:g,isStream:e=>m(e)&&g(e.pipe),isURLSearchParams:A,isTypedArray:L,isFileList:v,forEach:T,merge:function e(){const{caseless:t}=P(this)&&this||{},r={},n=(n,i)=>{const s=t&&z(r,i)||i;w(r[s])&&w(n)?r[s]=e(r[s],n):w(n)?r[s]=e({},n):h(n)?r[s]=n.slice():r[s]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&T(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:i}={})=>(T(t,((t,i)=>{r&&g(t)?e[i]=n(t,r):e[i]=t}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,a;const c={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],n&&!n(a,e,t)||c[a]||(t[a]=e[a],c[a]=!0);e=!1!==r&&s(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:l,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(h(e))return e;let t=e.length;if(!b(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[o]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:C,hasOwnProperty:R,hasOwnProp:R,reduceDescriptors:N,freezeMethods:e=>{N(e,((t,r)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];g(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return h(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:z,global:U,isContextDefined:P,isSpecCompliantForm:function(e){return!!(e&&g(e.append)&&"FormData"===e[a]&&e[o])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(m(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=h(e)?[]:{};return T(e,((e,t)=>{const s=r(e,n+1);!f(s)&&(i[t]=s)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:M,isThenable:e=>e&&(m(e)||g(e))&&g(e.then)&&g(e.catch),setImmediate:W,asap:j,isIterable:e=>null!=e&&g(e[o])};function V(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}$.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const J=V.prototype,G={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{G[e]={value:e}})),Object.defineProperties(V,G),Object.defineProperty(J,"isAxiosError",{value:!0}),V.from=(e,t,r,n,i,s)=>{const o=Object.create(J);return $.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),V.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};function Z(e){return $.isPlainObject(e)||$.isArray(e)}function Y(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function X(e,t,r){return e?e.concat(t).map((function(e,t){return e=Y(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Q=$.toFlatObject($,{},null,(function(e){return/^is[A-Z]/.test(e)}));function ee(e,t,r){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!$.isUndefined(t[e])}))).metaTokens,i=r.visitor||u,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if($.isDate(e))return e.toISOString();if(!a&&$.isBlob(e))throw new V("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(e)||$.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,i){let a=e;if(e&&!i&&"object"==typeof e)if($.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if($.isArray(e)&&function(e){return $.isArray(e)&&!e.some(Z)}(e)||($.isFileList(e)||$.endsWith(r,"[]"))&&(a=$.toArray(e)))return r=Y(r),a.forEach((function(e,n){!$.isUndefined(e)&&null!==e&&t.append(!0===o?X([r],n,s):null===o?r:r+"[]",c(e))})),!1;return!!Z(e)||(t.append(X(i,r,s),c(e)),!1)}const l=[],d=Object.assign(Q,{defaultVisitor:u,convertValue:c,isVisitable:Z});if(!$.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!$.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),$.forEach(r,(function(r,s){!0===(!($.isUndefined(r)||null===r)&&i.call(t,r,$.isString(s)?s.trim():s,n,d))&&e(r,n?n.concat(s):[s])})),l.pop()}}(e),t}function te(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function re(e,t){this._pairs=[],e&&ee(e,this,t)}const ne=re.prototype;function ie(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function se(e,t,r){if(!t)return e;const n=r&&r.encode||ie;$.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(s=i?i(t,r):$.isURLSearchParams(t)?t.toString():new re(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}ne.append=function(e,t){this._pairs.push([e,t])},ne.toString=function(e){const t=e?function(t){return e.call(this,t,te)}:te;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var oe=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ae={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ce={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:re,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const ue="undefined"!=typeof window&&"undefined"!=typeof document,le="object"==typeof navigator&&navigator||void 0,de=ue&&(!le||["ReactNative","NativeScript","NS"].indexOf(le.product)<0),he="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,fe=ue&&window.location.href||"http://localhost";var pe={...Object.freeze({__proto__:null,hasBrowserEnv:ue,hasStandardBrowserWebWorkerEnv:he,hasStandardBrowserEnv:de,navigator:le,origin:fe}),...ce};function ye(e){function t(e,r,n,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&$.isArray(n)?n.length:s,a)return $.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o;n[s]&&$.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],i)&&$.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}(n[s])),!o}if($.isFormData(e)&&$.isFunction(e.entries)){const r={};return $.forEachEntry(e,((e,n)=>{t(function(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null}const ge={transitional:ae,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=$.isObject(e);i&&$.isHTMLForm(e)&&(e=new FormData(e));if($.isFormData(e))return n?JSON.stringify(ye(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ee(e,new pe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return pe.isNode&&$.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ee(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ge.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw V.from(e,V.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pe.classes.FormData,Blob:pe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],(e=>{ge.headers[e]={}}));var be=ge;const me=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const we=Symbol("internals");function ke(e){return e&&String(e).trim().toLowerCase()}function Se(e){return!1===e||null==e?e:$.isArray(e)?e.map(Se):String(e)}function xe(e,t,r,n,i){return $.isFunction(n)?n.call(this,t,r):(i&&(t=r),$.isString(t)?$.isString(n)?-1!==t.indexOf(n):$.isRegExp(n)?n.test(t):void 0:void 0)}class ve{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=ke(t);if(!i)throw new Error("header name must be a non-empty string");const s=$.findKey(n,i);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=Se(e))}const s=(e,t)=>$.forEach(e,((e,r)=>i(e,r,t)));if($.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if($.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&me[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if($.isObject(e)&&$.isIterable(e)){let r,n,i={};for(const t of e){if(!$.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[n=t[0]]=(r=i[n])?$.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,r);return this}get(e,t){if(e=ke(e)){const r=$.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if($.isFunction(t))return t.call(this,e,r);if($.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ke(e)){const r=$.findKey(this,e);return!(!r||void 0===this[r]||t&&!xe(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=ke(e)){const i=$.findKey(r,e);!i||t&&!xe(0,r[i],i,t)||(delete r[i],n=!0)}}return $.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!xe(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return $.forEach(this,((n,i)=>{const s=$.findKey(r,i);if(s)return t[s]=Se(n),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();o!==i&&delete t[i],t[o]=Se(n),r[o]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return $.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&$.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[we]=this[we]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=ke(e);t[n]||(!function(e,t){const r=$.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return $.isArray(e)?e.forEach(n):n(e),this}}ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),$.reduceDescriptors(ve.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),$.freezeMethods(ve);var Ae=ve;function Ee(e,t){const r=this||be,n=t||r,i=Ae.from(n.headers);let s=n.data;return $.forEach(e,(function(e){s=e.call(r,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Be(e){return!(!e||!e.__CANCEL__)}function _e(e,t,r){V.call(this,null==e?"canceled":e,V.ERR_CANCELED,t,r),this.name="CanceledError"}function Ie(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new V("Request failed with status code "+r.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}$.inherits(_e,V,{__CANCEL__:!0});const Te=(e,t,r=3)=>{let n=0;const i=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),u=n[o];i||(i=c),r[s]=a,n[s]=c;let l=o,d=0;for(;l!==s;)d+=r[l++],l%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-i<t)return;const h=u&&c-u;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let r,n,i=0,s=1e3/t;const o=(t,s=Date.now())=>{i=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-i;a>=s?o(e,t):(r=e,n||(n=setTimeout((()=>{n=null,o(r)}),s-a)))},()=>r&&o(r)]}((r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,c=i(a);n=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&s<=o?(o-s)/c:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),r)},ze=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ue=e=>(...t)=>$.asap((()=>e(...t)));var Pe=pe.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,pe.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(pe.origin),pe.navigator&&/(msie|trident)/i.test(pe.navigator.userAgent)):()=>!0,Le=pe.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const o=[e+"="+encodeURIComponent(t)];$.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),$.isString(n)&&o.push("path="+n),$.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Oe(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ce=e=>e instanceof Ae?{...e}:e;function Re(e,t){t=t||{};const r={};function n(e,t,r,n){return $.isPlainObject(e)&&$.isPlainObject(t)?$.merge.call({caseless:n},e,t):$.isPlainObject(t)?$.merge({},t):$.isArray(t)?t.slice():t}function i(e,t,r,i){return $.isUndefined(t)?$.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function s(e,t){if(!$.isUndefined(t))return n(void 0,t)}function o(e,t){return $.isUndefined(t)?$.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,s){return s in t?n(r,i):s in e?n(void 0,r):void 0}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,r)=>i(Ce(e),Ce(t),0,!0)};return $.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=c[n]||i,o=s(e[n],t[n],n);$.isUndefined(o)&&s!==a||(r[n]=o)})),r}var He=e=>{const t=Re({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:c}=t;if(t.headers=a=Ae.from(a),t.url=se(Oe(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),$.isFormData(n))if(pe.hasStandardBrowserEnv||pe.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(pe.hasStandardBrowserEnv&&(i&&$.isFunction(i)&&(i=i(t)),i||!1!==i&&Pe(t.url))){const e=s&&o&&Le.read(o);e&&a.set(s,e)}return t};var Ne="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=He(e);let i=n.data;const s=Ae.from(n.headers).normalize();let o,a,c,u,l,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=n;function p(){u&&u(),l&&l(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let y=new XMLHttpRequest;function g(){if(!y)return;const n=Ae.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders());Ie((function(e){t(e),p()}),(function(e){r(e),p()}),{data:d&&"text"!==d&&"json"!==d?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:e,request:y}),y=null}y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout,"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(g)},y.onabort=function(){y&&(r(new V("Request aborted",V.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new V("Network Error",V.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||ae;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new V(t,i.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,y)),y=null},void 0===i&&s.setContentType(null),"setRequestHeader"in y&&$.forEach(s.toJSON(),(function(e,t){y.setRequestHeader(t,e)})),$.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),d&&"json"!==d&&(y.responseType=n.responseType),f&&([c,l]=Te(f,!0),y.addEventListener("progress",c)),h&&y.upload&&([a,u]=Te(h),y.upload.addEventListener("progress",a),y.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(o=t=>{y&&(r(!t||t.type?new _e(null,e,y):t),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);b&&-1===pe.protocols.indexOf(b)?r(new V("Unsupported protocol "+b+":",V.ERR_BAD_REQUEST,e)):y.send(i||null)}))};var Me=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const i=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof V?t:new _e(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,i(new V(`timeout ${t} of ms exceeded`,V.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=()=>$.asap(o),a}};const We=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},Ke=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},Fe=(e,t,r,n)=>{const i=async function*(e,t){for await(const r of Ke(e))yield*We(r,t)}(e,t);let s,o=0,a=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return a(),void e.close();let s=n.byteLength;if(r){let e=o+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},De="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,qe=De&&"function"==typeof ReadableStream,je=De&&("function"==typeof TextEncoder?($e=new TextEncoder,e=>$e.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var $e;const Ve=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Je=qe&&Ve((()=>{let e=!1;const t=new Request(pe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ge=qe&&Ve((()=>$.isReadableStream(new Response("").body))),Ze={stream:Ge&&(e=>e.body)};var Ye;De&&(Ye=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ze[e]&&(Ze[e]=$.isFunction(Ye[e])?t=>t[e]():(t,r)=>{throw new V(`Response type '${e}' is not supported`,V.ERR_NOT_SUPPORT,r)})})));const Xe=async(e,t)=>{const r=$.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if($.isBlob(e))return e.size;if($.isSpecCompliantForm(e)){const t=new Request(pe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return $.isArrayBufferView(e)||$.isArrayBuffer(e)?e.byteLength:($.isURLSearchParams(e)&&(e+=""),$.isString(e)?(await je(e)).byteLength:void 0)})(t):r};const Qe={http:null,xhr:Ne,fetch:De&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:h}=He(e);u=u?(u+"").toLowerCase():"text";let f,p=Me([i,s&&s.toAbortSignal()],o);const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(c&&Je&&"get"!==r&&"head"!==r&&0!==(g=await Xe(l,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if($.isFormData(n)&&(e=r.headers.get("content-type"))&&l.setContentType(e),r.body){const[e,t]=ze(g,Te(Ue(c)));n=Fe(r.body,65536,e,t)}}$.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:i?d:void 0});let s=await fetch(f);const o=Ge&&("stream"===u||"response"===u);if(Ge&&(a||o&&y)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=$.toFiniteNumber(s.headers.get("content-length")),[r,n]=a&&ze(t,Te(Ue(a),!0))||[];s=new Response(Fe(s.body,65536,r,(()=>{n&&n(),y&&y()})),e)}u=u||"text";let b=await Ze[$.findKey(Ze,u)||"text"](s,e);return!o&&y&&y(),await new Promise(((t,r)=>{Ie(t,r,{data:b,headers:Ae.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(t){if(y&&y(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new V("Network Error",V.ERR_NETWORK,e,f),{cause:t.cause||t});throw V.from(t,t&&t.code,e,f)}})};$.forEach(Qe,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const et=e=>`- ${e}`,tt=e=>$.isFunction(e)||null===e||!1===e;var rt=e=>{e=$.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){let t;if(r=e[s],n=r,!tt(r)&&(n=Qe[(t=String(r)).toLowerCase()],void 0===n))throw new V(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+s]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new V("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(et).join("\n"):" "+et(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _e(null,e)}function it(e){nt(e),e.headers=Ae.from(e.headers),e.data=Ee.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return rt(e.adapter||be.adapter)(e).then((function(t){return nt(e),t.data=Ee.call(e,e.transformResponse,t),t.headers=Ae.from(t.headers),t}),(function(t){return Be(t)||(nt(e),t&&t.response&&(t.response.data=Ee.call(e,e.transformResponse,t.response),t.response.headers=Ae.from(t.response.headers))),Promise.reject(t)}))}const st="1.9.0",ot={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ot[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const at={};ot.transitional=function(e,t,r){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,s)=>{if(!1===e)throw new V(n(i," has been removed"+(t?" in "+t:"")),V.ERR_DEPRECATED);return t&&!at[i]&&(at[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}},ot.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};var ct={assertOptions:function(e,t,r){if("object"!=typeof e)throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const t=e[s],r=void 0===t||o(t,s,e);if(!0!==r)throw new V("option "+s+" must be "+r,V.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new V("Unknown option "+s,V.ERR_BAD_OPTION)}},validators:ot};const ut=ct.validators;class lt{constructor(e){this.defaults=e||{},this.interceptors={request:new oe,response:new oe}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Re(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&ct.assertOptions(r,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1),null!=n&&($.isFunction(n)?t.paramsSerializer={serialize:n}:ct.assertOptions(n,{encode:ut.function,serialize:ut.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ct.assertOptions(t,{baseUrl:ut.spelling("baseURL"),withXsrfToken:ut.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&$.merge(i.common,i[t.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Ae.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,d=0;if(!a){const e=[it.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,c),l=e.length,u=Promise.resolve(t);d<l;)u=u.then(e[d++],e[d++]);return u}l=o.length;let h=t;for(d=0;d<l;){const e=o[d++],t=o[d++];try{h=e(h)}catch(e){t.call(this,e);break}}try{u=it.call(this,h)}catch(e){return Promise.reject(e)}for(d=0,l=c.length;d<l;)u=u.then(c[d++],c[d++]);return u}getUri(e){return se(Oe((e=Re(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],(function(e){lt.prototype[e]=function(t,r){return this.request(Re(r||{},{method:e,url:t,data:(r||{}).data}))}})),$.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Re(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}lt.prototype[e]=t(),lt.prototype[e+"Form"]=t(!0)}));var dt=lt;class ht{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new _e(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ht((function(t){e=t})),cancel:e}}}var ft=ht;const pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pt).forEach((([e,t])=>{pt[t]=e}));var yt=pt;const gt=function e(t){const r=new dt(t),i=n(dt.prototype.request,r);return $.extend(i,dt.prototype,r,{allOwnKeys:!0}),$.extend(i,r,null,{allOwnKeys:!0}),i.create=function(r){return e(Re(t,r))},i}(be);gt.Axios=dt,gt.CanceledError=_e,gt.CancelToken=ft,gt.isCancel=Be,gt.VERSION=st,gt.toFormData=ee,gt.AxiosError=V,gt.Cancel=gt.CanceledError,gt.all=function(e){return Promise.all(e)},gt.spread=function(e){return function(t){return e.apply(null,t)}},gt.isAxiosError=function(e){return $.isObject(e)&&!0===e.isAxiosError},gt.mergeConfig=Re,gt.AxiosHeaders=Ae,gt.formToJSON=e=>ye($.isHTMLForm(e)?new FormData(e):e),gt.getAdapter=rt,gt.HttpStatusCode=yt,gt.default=gt,e.exports=gt},87689:(e,t,r)=>{"use strict";r.d(t,{Am:()=>qo});var n={};r.r(n),r.d(n,{Fy:()=>ue,uw:()=>V,gk:()=>$,Dd:()=>le,dQ:()=>de,ci:()=>G,bytesToNumberBE:()=>te,ty:()=>re,eV:()=>oe,n$:()=>pe,ql:()=>se,hexToBytes:()=>ee,Z2:()=>ce,_t:()=>j,H9:()=>be,tL:()=>ne,S5:()=>ie,uz:()=>Z,FF:()=>ge});var i=r(45695),s=r(70508);const o=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}),a=e=>t=>{const r=(0,i.Ik)(e,t),{encode:n,decode:a}=o(r),c=r;return c.decode=(e,t)=>{const r=a(e,t);return(0,s.oU)(Buffer.from(r))},c.encode=(t,r,i)=>{const o=(0,s.k$)(t,e);return n(o,r,i)},c},c=e=>t=>{const r=(0,i.Ik)(e,t),{encode:n,decode:a}=o(r),c=r;return c.decode=(e,t)=>{const r=a(e,t);return(0,s.Q5)(Buffer.from(r))},c.encode=(t,r,i)=>{const o=(0,s.zP)(t,e);return n(o,r,i)},c},u=a(8);c(8),a(16),c(16),a(24),c(24),a(32),c(32);new(r(2027).Z)("1e+18");var l=r(34042);function d(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function h(e,...t){if(!((r=e)instanceof Uint8Array||ArrayBuffer.isView(r)&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function f(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function p(e,t){h(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const y="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function g(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function b(e,t){return e<<32-t|e>>>t}const m=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function w(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function k(e){for(let t=0;t<e.length;t++)e[t]=w(e[t])}function S(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),h(e),e}class x{clone(){return this._cloneInto()}}function v(e){const t=t=>e().update(S(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function A(e=32){if(y&&"function"==typeof y.getRandomValues)return y.getRandomValues(new Uint8Array(e));if(y&&"function"==typeof y.randomBytes)return y.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function E(e,t,r){return e&t^e&r^t&r}class B extends x{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=g(this.buffer)}update(e){f(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=S(e)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=g(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){f(this),p(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,u=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+u,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=g(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,u[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}const _=BigInt(2**32-1),I=BigInt(32);function T(e,t=!1){return t?{h:Number(e&_),l:Number(e>>I&_)}:{h:0|Number(e>>I&_),l:0|Number(e&_)}}function z(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=T(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const U=(e,t,r)=>e<<r|t>>>32-r,P=(e,t,r)=>t<<r|e>>>32-r,L=(e,t,r)=>t<<r-32|e>>>64-r,O=(e,t,r)=>e<<r-32|t>>>64-r;const C={fromBig:T,split:z,toBig:(e,t)=>BigInt(e>>>0)<<I|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:U,rotlSL:P,rotlBH:L,rotlBL:O,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[R,H]=(()=>C.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),N=new Uint32Array(80),M=new Uint32Array(80);class W extends B{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:y}=this;return[e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y]}set(e,t,r,n,i,s,o,a,c,u,l,d,h,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)N[r]=e.getUint32(t),M[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|N[e-15],r=0|M[e-15],n=C.rotrSH(t,r,1)^C.rotrSH(t,r,8)^C.shrSH(t,r,7),i=C.rotrSL(t,r,1)^C.rotrSL(t,r,8)^C.shrSL(t,r,7),s=0|N[e-2],o=0|M[e-2],a=C.rotrSH(s,o,19)^C.rotrBH(s,o,61)^C.shrSH(s,o,6),c=C.rotrSL(s,o,19)^C.rotrBL(s,o,61)^C.shrSL(s,o,6),u=C.add4L(i,c,M[e-7],M[e-16]),l=C.add4H(u,n,a,N[e-7],N[e-16]);N[e]=0|l,M[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:u,Eh:l,El:d,Fh:h,Fl:f,Gh:p,Gl:y,Hh:g,Hl:b}=this;for(let e=0;e<80;e++){const t=C.rotrSH(l,d,14)^C.rotrSH(l,d,18)^C.rotrBH(l,d,41),m=C.rotrSL(l,d,14)^C.rotrSL(l,d,18)^C.rotrBL(l,d,41),w=l&h^~l&p,k=d&f^~d&y,S=C.add5L(b,m,k,H[e],M[e]),x=C.add5H(S,g,t,w,R[e],N[e]),v=0|S,A=C.rotrSH(r,n,28)^C.rotrBH(r,n,34)^C.rotrBH(r,n,39),E=C.rotrSL(r,n,28)^C.rotrBL(r,n,34)^C.rotrBL(r,n,39),B=r&i^r&o^i&o,_=n&s^n&a^s&a;g=0|p,b=0|y,p=0|h,y=0|f,h=0|l,f=0|d,({h:l,l:d}=C.add(0|c,0|u,0|x,0|v)),c=0|o,u=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const I=C.add3L(v,E,_);r=C.add3H(I,x,A,B),n=0|I}({h:r,l:n}=C.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=C.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=C.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:u}=C.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:d}=C.add(0|this.Eh,0|this.El,0|l,0|d)),({h,l:f}=C.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:y}=C.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:b}=C.add(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(r,n,i,s,o,a,c,u,l,d,h,f,p,y,g,b)}roundClean(){N.fill(0),M.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const K=v((()=>new W)),F=BigInt(0),D=BigInt(1),q=BigInt(2);function j(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function $(e){if(!j(e))throw new Error("Uint8Array expected")}function V(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const J=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function G(e){$(e);let t="";for(let r=0;r<e.length;r++)t+=J[e[r]];return t}function Z(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Y(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?F:BigInt("0x"+e)}const X={_0:48,_9:57,A:65,F:70,a:97,f:102};function Q(e){return e>=X._0&&e<=X._9?e-X._0:e>=X.A&&e<=X.F?e-(X.A-10):e>=X.a&&e<=X.f?e-(X.a-10):void 0}function ee(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=Q(e.charCodeAt(i)),s=Q(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function te(e){return Y(G(e))}function re(e){return $(e),Y(G(Uint8Array.from(e).reverse()))}function ne(e,t){return ee(e.toString(16).padStart(2*t,"0"))}function ie(e,t){return ne(e,t).reverse()}function se(e,t,r){let n;if("string"==typeof t)try{n=ee(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!j(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function oe(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];$(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}const ae=e=>"bigint"==typeof e&&F<=e;function ce(e,t,r){return ae(e)&&ae(t)&&ae(r)&&t<=e&&e<r}function ue(e,t,r,n){if(!ce(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function le(e){let t;for(t=0;e>F;e>>=D,t+=1);return t}const de=e=>(q<<BigInt(e-1))-D,he=e=>new Uint8Array(e),fe=e=>Uint8Array.from(e);function pe(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=he(e),i=he(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=he())=>{i=a(fe([0]),e),n=a(),0!==e.length&&(i=a(fe([1]),e),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return oe(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(u()));)c();return o(),r}}const ye={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||j(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ge(e,t,r={}){const n=(t,r,n)=>{const i=ye[r];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(n&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}function be(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}}const me=BigInt(0),we=BigInt(1),ke=BigInt(2),Se=BigInt(3),xe=BigInt(4),ve=BigInt(5),Ae=BigInt(8);function Ee(e,t){const r=e%t;return r>=me?r:t+r}function Be(e,t,r){if(t<me)throw new Error("invalid exponent, negatives unsupported");if(r<=me)throw new Error("invalid modulus");if(r===we)return me;let n=we;for(;t>me;)t&we&&(n=n*e%r),e=e*e%r,t>>=we;return n}function _e(e,t,r){let n=e;for(;t-- >me;)n*=n,n%=r;return n}function Ie(e,t){if(e===me)throw new Error("invert: expected non-zero number");if(t<=me)throw new Error("invert: expected positive modulus, got "+t);let r=Ee(e,t),n=t,i=me,s=we,o=we,a=me;for(;r!==me;){const e=n/r,t=n%r,c=i-o*e,u=s-a*e;n=r,r=t,i=o,s=a,o=c,a=u}if(n!==we)throw new Error("invert: does not exist");return Ee(i,t)}function Te(e){if(e%xe===Se){const t=(e+we)/xe;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%Ae===ve){const t=(e-ve)/Ae;return function(e,r){const n=e.mul(r,ke),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,ke),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-we)/ke;let r,n,i;for(r=e-we,n=0;r%ke===me;r/=ke,n++);for(i=ke;i<e&&Be(i,t,e)!==e-we;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){const t=(e+we)/xe;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const s=(r+we)/ke;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,i),r),u=e.pow(o,s),l=e.pow(o,r);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,we<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),l=e.mul(l,c),a=t}return u}}(e)}const ze=(e,t)=>(Ee(e,t)&we)===we,Ue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Pe(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Le(e,t,r=!1,n={}){if(e<=me)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Pe(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:de(i),ZERO:me,ONE:we,create:t=>Ee(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return me<=t&&t<e},is0:e=>e===me,isOdd:e=>(e&we)===we,neg:t=>Ee(-t,e),eql:(e,t)=>e===t,sqr:t=>Ee(t*t,e),add:(t,r)=>Ee(t+r,e),sub:(t,r)=>Ee(t-r,e),mul:(t,r)=>Ee(t*r,e),pow:(e,t)=>function(e,t,r){if(r<me)throw new Error("invalid exponent, negatives unsupported");if(r===me)return e.ONE;if(r===we)return t;let n=e.ONE,i=t;for(;r>me;)r&we&&(n=e.mul(n,i)),i=e.sqr(i),r>>=we;return n}(a,e,t),div:(t,r)=>Ee(t*Ie(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Ie(t,e),sqrt:n.sqrt||(t=>(o||(o=Te(e)),o(a,t))),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?ie(e,s):ne(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?re(e):te(e)}});return Object.freeze(a)}function Oe(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ce(e){const t=Oe(e);return t+Math.ceil(t/2)}const Re=BigInt(0),He=BigInt(1);function Ne(e,t){const r=t.negate();return e?r:t}function Me(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function We(e,t){Me(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}function Ke(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))}function Fe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}const De=new WeakMap,qe=new WeakMap;function je(e){return qe.get(e)||1}function $e(e,t){return{constTimeNegate:Ne,hasPrecomputes:e=>1!==je(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>Re;)r&He&&(n=n.add(i)),i=i.double(),r>>=He;return n},precomputeWindow(e,r){const{windows:n,windowSize:i}=We(r,t),s=[];let o=e,a=o;for(let e=0;e<n;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(r,n,i){const{windows:s,windowSize:o}=We(r,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let e=0;e<s;e++){const t=e*o;let r=Number(i&u);i>>=d,r>o&&(r-=l,i+=He);const s=t,h=t+Math.abs(r)-1,f=e%2!=0,p=r<0;0===r?c=c.add(Ne(f,n[s])):a=a.add(Ne(p,n[h]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=e.ZERO){const{windows:o,windowSize:a}=We(r,t),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let e=0;e<o;e++){const t=e*a;if(i===Re)break;let r=Number(i&c);if(i>>=l,r>a&&(r-=u,i+=He),0===r)continue;let o=n[t+Math.abs(r)-1];r<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,r){let n=De.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&De.set(t,r(n))),n},wNAFCached(e,t,r){const n=je(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const i=je(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){Me(r,t),qe.set(e,r),De.delete(e)}}}function Ve(e,t,r,n){if(Ke(r,e),Fe(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=le(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i);let u=i;for(let e=Math.floor((t.BITS-1)/o)*o;e>=0;e-=o){c.fill(i);for(let t=0;t<n.length;t++){const i=n[t],s=Number(i>>BigInt(e)&BigInt(a));c[s]=c[s].add(r[t])}let t=i;for(let e=c.length-1,r=i;e>0;e--)r=r.add(c[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<o;e++)u=u.double()}return u}function Je(e){return ge(e.Fp,Ue.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),ge(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Pe(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Ge=BigInt(0),Ze=BigInt(1),Ye=BigInt(2),Xe=BigInt(8),Qe={zip215:!0};function et(e){const t=function(e){const t=Je(e);return ge(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,u=Ye<<BigInt(8*a)-Ze,l=r.create,d=Le(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:Ge}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,r)=>{if(V("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function y(e,t){ue("coordinate "+e,t,Ge,u)}function g(e){if(!(e instanceof w))throw new Error("ExtendedPoint expected")}const b=be(((e,t)=>{const{ex:n,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?Xe:r.inv(s));const a=l(n*t),c=l(i*t),u=l(s*t);if(o)return{x:Ge,y:Ze};if(u!==Ze)throw new Error("invZ was invalid");return{x:a,y:c}})),m=be((e=>{const{a:r,d:n}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,c=l(i*i),u=l(s*s),d=l(o*o),h=l(d*d),f=l(c*r);if(l(d*l(f+u))!==l(h+l(n*l(c*u))))throw new Error("bad point: equation left != right (1)");if(l(i*s)!==l(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class w{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,y("x",e),y("y",t),y("z",r),y("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return y("x",t),y("y",r),new w(t,r,Ze,l(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(w.fromAffine)}static msm(e,t){return Ve(w,d,e,t)}_setWindowSize(e){x.setWindowSize(this,e)}assertValidity(){m(this)}equals(e){g(e);const{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=e,a=l(t*o),c=l(i*n),u=l(r*o),d=l(s*n);return a===c&&u===d}is0(){return this.equals(w.ZERO)}negate(){return new w(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:i}=this,s=l(r*r),o=l(n*n),a=l(Ye*l(i*i)),c=l(e*s),u=r+n,d=l(l(u*u)-s-o),h=c+o,f=h-a,p=c-o,y=l(d*f),g=l(h*p),b=l(d*p),m=l(f*h);return new w(y,g,m,b)}add(e){g(e);const{a:r,d:n}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:u,ez:d,et:h}=e;if(r===BigInt(-1)){const e=l((s-i)*(u+c)),t=l((s+i)*(u-c)),r=l(t-e);if(r===Ge)return this.double();const n=l(o*Ye*h),f=l(a*Ye*d),p=f+n,y=t+e,g=f-n,b=l(p*r),m=l(y*g),k=l(p*g),S=l(r*y);return new w(b,m,S,k)}const f=l(i*c),p=l(s*u),y=l(a*n*h),b=l(o*d),m=l((i+s)*(c+u)-f-p),k=b-y,S=b+y,x=l(p-r*f),v=l(m*k),A=l(S*x),E=l(m*x),B=l(k*S);return new w(v,A,B,E)}subtract(e){return this.add(e.negate())}wNAF(e){return x.wNAFCached(this,e,w.normalizeZ)}multiply(e){const t=e;ue("scalar",t,Ze,n);const{p:r,f:i}=this.wNAF(t);return w.normalizeZ([r,i])[0]}multiplyUnsafe(e,t=w.ZERO){const r=e;return ue("scalar",r,Ge,n),r===Ge?S:this.is0()||r===Ze?this:x.wNAFCachedUnsafe(this,r,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return x.unsafeLadder(this,n).is0()}toAffine(e){return b(this,e)}clearCofactor(){const{h:e}=t;return e===Ze?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:i,a:s}=t,o=r.BYTES;e=se("pointHex",e,o),V("zip215",n);const a=e.slice(),c=e[o-1];a[o-1]=-129&c;const d=re(a),f=n?u:r.ORDER;ue("pointHex.y",d,Ge,f);const p=l(d*d),y=l(p-Ze),g=l(i*p-s);let{isValid:b,value:m}=h(y,g);if(!b)throw new Error("Point.fromHex: invalid y coordinate");const k=(m&Ze)===Ze,S=0!=(128&c);if(!n&&m===Ge&&S)throw new Error("Point.fromHex: x=0 and x_0=1");return S!==k&&(m=l(-m)),w.fromAffine({x:m,y:d})}static fromPrivateKey(e){return E(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=ie(t,r.BYTES);return n[n.length-1]|=e&Ze?128:0,n}toHex(){return G(this.toRawBytes())}}w.BASE=new w(t.Gx,t.Gy,Ze,l(t.Gx*t.Gy)),w.ZERO=new w(Ge,Ze,Ze,Ge);const{BASE:k,ZERO:S}=w,x=$e(w,8*a);function v(e){return Ee(e,n)}function A(e){return v(re(e))}function E(e){const t=r.BYTES;e=se("private key",e,t);const n=se("hashed private key",s(e),2*t),i=f(n.slice(0,t)),o=n.slice(t,2*t),a=A(i),c=k.multiply(a),u=c.toRawBytes();return{head:i,prefix:o,scalar:a,point:c,pointBytes:u}}function B(e=new Uint8Array,...t){const r=oe(...t);return A(s(p(r,se("context",e),!!i)))}const _=Qe;k._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return E(e).pointBytes},sign:function(e,t,s={}){e=se("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:c}=E(t),u=B(s.context,o,e),l=k.multiply(u).toRawBytes(),d=v(u+B(s.context,l,c,e)*a);return ue("signature.s",d,Ge,n),se("result",oe(l,ie(d,r.BYTES)),2*r.BYTES)},verify:function(e,t,n,s=_){const{context:o,zip215:a}=s,c=r.BYTES;e=se("signature",e,2*c),t=se("message",t),n=se("publicKey",n,c),void 0!==a&&V("zip215",a),i&&(t=i(t));const u=re(e.slice(c,2*c));let l,d,h;try{l=w.fromHex(n,a),d=w.fromHex(e.slice(0,c),a),h=k.multiplyUnsafe(u)}catch(e){return!1}if(!a&&l.isSmallOrder())return!1;const f=B(o,d.toRawBytes(),l.toRawBytes(),t);return d.add(l.multiplyUnsafe(f)).subtract(h).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(r.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const tt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),nt=(BigInt(0),BigInt(1)),it=BigInt(2),st=(BigInt(3),BigInt(5)),ot=BigInt(8);function at(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=tt,o=e*e%s*e%s,a=_e(o,it,s)*o%s,c=_e(a,nt,s)*e%s,u=_e(c,st,s)*c%s,l=_e(u,t,s)*u%s,d=_e(l,r,s)*l%s,h=_e(d,n,s)*d%s,f=_e(h,i,s)*h%s,p=_e(f,i,s)*h%s,y=_e(p,t,s)*u%s;return{pow_p_5_8:_e(y,it,s)*e%s,b2:o}}function ct(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function ut(e,t){const r=tt,n=Ee(t*t*t,r),i=Ee(n*n*t,r);let s=Ee(e*n*at(e*i).pow_p_5_8,r);const o=Ee(t*s*s,r),a=s,c=Ee(s*rt,r),u=o===e,l=o===Ee(-e,r),d=o===Ee(-e*rt,r);return u&&(s=a),(l||d)&&(s=c),ze(s,r)&&(s=Ee(-s,r)),{isValid:u||l,value:s}}const lt=(()=>Le(tt,void 0,!0))(),dt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:lt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:ot,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:K,randomBytes:A,adjustScalarBytes:ct,uvRatio:ut}))(),ht=(()=>et(dt))();var ft=r(1876),pt=r.n(ft),yt=r(91927),gt=r.n(yt);const bt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wt=new Uint32Array(64);class kt extends B{constructor(){super(64,32,8,!1),this.A=0|mt[0],this.B=0|mt[1],this.C=0|mt[2],this.D=0|mt[3],this.E=0|mt[4],this.F=0|mt[5],this.G=0|mt[6],this.H=0|mt[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)wt[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=wt[e-15],r=wt[e-2],n=b(t,7)^b(t,18)^t>>>3,i=b(r,17)^b(r,19)^r>>>10;wt[e]=i+wt[e-7]+n+wt[e-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(b(o,6)^b(o,11)^b(o,25))+((l=o)&a^~l&c)+bt[e]+wt[e]|0,d=(b(r,2)^b(r,13)^b(r,22))+E(r,n,i)|0;u=c,c=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+d|0}var l;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,s,o,a,c,u)}roundClean(){wt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const St=v((()=>new kt));var xt=r(76547),vt=8078e3,At=8078001,Et=8078004,Bt=8078005,_t=8078006,It=8078011;function Tt(e){if(Array.isArray(e)){return"%5B"+e.map(Tt).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function zt([e,t]){return`${e}=${Tt(t)}`}function Ut(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${function(e){const t=Object.entries(e).map(zt).join("&");return btoa(t)}(t)}'`),`${r}\``}}var Pt=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,n;if(t){const{cause:e,...i}=t;e&&(n={cause:e}),Object.keys(i).length>0&&(r=i)}super(Ut(e,r),n),this.context={__code:e,...r},this.name="SolanaError"}};function Lt(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function Ot(e){return Object.freeze({...e,encode:t=>{const r=new Uint8Array(Lt(t,e));return e.write(t,r,0),r}})}function Ct(e){return Object.freeze({...e,decode:(t,r=0)=>e.read(t,r)[0]})}function Rt(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Ht(e,t){if(Rt(e)!==Rt(t))throw new Pt(Et);if(Rt(e)&&Rt(t)&&e.fixedSize!==t.fixedSize)throw new Pt(Bt,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Rt(e)&&!Rt(t)&&e.maxSize!==t.maxSize)throw new Pt(_t,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Nt(e,t,r,n=0){const i=r.length-n;if(i<t)throw new Pt(At,{bytesLength:i,codecDescription:e,expected:t})}function Mt(e,t,r,n){if(n<t||n>r)throw new Pt(It,{codecDescription:e,max:r,min:t,value:n})}function Wt(e){return 1!==e?.endian}function Kt(e){return Ot({fixedSize:e.size,write(t,r,n){e.range&&Mt(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,Wt(e.config)),r.set(new Uint8Array(i),n),n+e.size}})}function Ft(e){return Ct({fixedSize:e.size,read(t,r=0){!function(e,t,r=0){if(t.length-r<=0)throw new Pt(vt,{codecDescription:e})}(e.name,t,r),Nt(e.name,e.size,t,r);const n=new DataView(function(e,t,r){const n=e.byteOffset+(t??0),i=r??e.byteLength;return e.buffer.slice(n,n+i)}(t,r,e.size));return[e.get(n,Wt(e.config)),r+e.size]}})}var Dt=(e={})=>Kt({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),qt=(e={})=>Ht(Dt(e),((e={})=>Ft({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}))(e)),jt=r(14385);r(6275),r(55838);const $t=[],Vt=[],Jt=[],Gt=BigInt(0),Zt=BigInt(1),Yt=BigInt(2),Xt=BigInt(7),Qt=BigInt(256),er=BigInt(113);for(let e=0,t=Zt,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],$t.push(2*(5*n+r)),Vt.push((e+1)*(e+2)/2%64);let i=Gt;for(let e=0;e<7;e++)t=(t<<Zt^(t>>Xt)*er)%Qt,t&Yt&&(i^=Zt<<(Zt<<BigInt(e))-Zt);Jt.push(i)}const[tr,rr]=z(Jt,!0),nr=(e,t,r)=>r>32?L(e,t,r):U(e,t,r),ir=(e,t,r)=>r>32?O(e,t,r):P(e,t,r);class sr extends x{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,d(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){m||k(this.state32),function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=nr(s,o,1)^r[n],c=ir(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=Vt[r],s=nr(t,i,n),o=ir(t,i,n),a=$t[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=tr[n],e[1]^=rr[n]}r.fill(0)}(this.state32,this.rounds),m||k(this.state32),this.posOut=0,this.pos=0}update(e){f(this);const{blockLen:t,state:r}=this,n=(e=S(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){f(this,!1),h(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return d(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(p(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new sr(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const or=(e,t,r)=>v((()=>new sr(t,e,r))),ar=or(1,136,32);class cr extends x{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");d(e.outputLen),d(e.blockLen)}(e);const r=S(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return f(this),this.iHash.update(e),this}digestInto(e){f(this),h(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ur=(e,t,r)=>new cr(e,t).update(r).digest();function lr(e){void 0!==e.lowS&&V("lowS",e.lowS),void 0!==e.prehash&&V("prehash",e.prehash)}ur.create=(e,t)=>new cr(e,t);const{bytesToNumberBE:dr,hexToBytes:hr}=n;class fr extends Error{constructor(e=""){super(e)}}const pr={Err:fr,_tlv:{encode:(e,t)=>{const{Err:r}=pr;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=Z(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Z(i.length/2|128):"";return Z(e)+s+i+t},decode(e,t){const{Err:r}=pr;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=pr;if(e<yr)throw new t("integer: negative integers are not allowed");let r=Z(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=pr;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return dr(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=pr,i="string"==typeof e?hr(e):e;$(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l}=n.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=pr,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},yr=BigInt(0),gr=BigInt(1),br=(BigInt(2),BigInt(3));BigInt(4);function mr(e){const t=function(e){const t=Je(e);ge(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=Le(t.n,t.nBitLength),i=t.toBytes||((e,t,n)=>{const i=t.toAffine();return oe(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=t;if(r&&"bigint"!=typeof e){if(j(e)&&(e=G(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*n,"0")}let o;try{o="bigint"==typeof e?e:te(se("private key",e,n))}catch(t){throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return i&&(o=Ee(o,s)),ue("private key",o,gr,s),o}function c(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}const u=be(((e,t)=>{const{px:n,py:i,pz:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),u=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),l=be((e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");const s=r.sqr(i),a=o(n);if(!r.eql(s,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(s(se("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(a(e))}static msm(e,t){return Ve(d,n,e,t)}_setWindowSize(e){f.setWindowSize(this,e)}assertValidity(){l(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){c(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,u=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return u&&l}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,br),{px:s,py:o,pz:a}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,h=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),y=r.mul(s,o);return y=r.add(y,y),l=r.mul(s,a),l=r.add(l,l),c=r.mul(e,l),u=r.mul(i,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(y,c),l=r.mul(i,l),p=r.mul(e,p),y=r.sub(h,p),y=r.mul(e,y),y=r.add(y,l),l=r.add(h,h),h=r.add(l,h),h=r.add(h,p),h=r.mul(h,y),u=r.add(u,h),p=r.mul(o,a),p=r.add(p,p),h=r.mul(p,y),c=r.sub(c,h),l=r.mul(p,f),l=r.add(l,l),l=r.add(l,l),new d(c,u,l)}add(e){c(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:u}=e;let l=r.ZERO,h=r.ZERO,f=r.ZERO;const p=t.a,y=r.mul(t.b,br);let g=r.mul(n,o),b=r.mul(i,a),m=r.mul(s,u),w=r.add(n,i),k=r.add(o,a);w=r.mul(w,k),k=r.add(g,b),w=r.sub(w,k),k=r.add(n,s);let S=r.add(o,u);return k=r.mul(k,S),S=r.add(g,m),k=r.sub(k,S),S=r.add(i,s),l=r.add(a,u),S=r.mul(S,l),l=r.add(b,m),S=r.sub(S,l),f=r.mul(p,k),l=r.mul(y,m),f=r.add(l,f),l=r.sub(b,f),f=r.add(b,f),h=r.mul(l,f),b=r.add(g,g),b=r.add(b,g),m=r.mul(p,m),k=r.mul(y,k),b=r.add(b,m),m=r.sub(g,m),m=r.mul(p,m),k=r.add(k,m),g=r.mul(b,k),h=r.add(h,g),g=r.mul(S,k),l=r.mul(w,l),l=r.sub(l,g),g=r.mul(w,b),f=r.mul(S,f),f=r.add(f,g),new d(l,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){const{endo:n,n:i}=t;ue("scalar",e,yr,i);const s=d.ZERO;if(e===yr)return s;if(this.is0()||e===gr)return this;if(!n||f.hasPrecomputes(this))return f.wNAFCachedUnsafe(this,e,d.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:u}=n.splitScalar(e),l=s,h=s,p=this;for(;a>yr||u>yr;)a&gr&&(l=l.add(p)),u&gr&&(h=h.add(p)),p=p.double(),a>>=gr,u>>=gr;return o&&(l=l.negate()),c&&(h=h.negate()),h=new d(r.mul(h.px,n.beta),h.py,h.pz),l.add(h)}multiply(e){const{endo:n,n:i}=t;let s,o;if(ue("scalar",e,gr,i),n){const{k1neg:t,k1:i,k2neg:a,k2:c}=n.splitScalar(e);let{p:u,f:l}=this.wNAF(i),{p:h,f:p}=this.wNAF(c);u=f.constTimeNegate(t,u),h=f.constTimeNegate(a,h),h=new d(r.mul(h.px,n.beta),h.py,h.pz),s=u.add(h),o=l.add(p)}else{const{p:t,f:r}=this.wNAF(e);s=t,o=r}return d.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,r){const n=d.BASE,i=(e,t)=>t!==yr&&t!==gr&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){return u(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===gr)return!0;if(r)return r(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===gr?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return V("isCompressed",e),this.assertValidity(),i(d,this,e)}toHex(e=!0){return V("isCompressed",e),G(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,f=$e(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(e){return ce(e,gr,t.n)}}}function wr(e){const t=function(e){const t=Je(e);return ge(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(e){return Ee(e,n)}function a(e){return Ie(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=mr({...t,toBytes(e,t,n){const i=t.toAffine(),s=r.toBytes(i.x),o=oe;return V("isCompressed",n),n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],o=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===s&&4===n){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error("invalid Point, expected length of "+i+", or uncompressed "+s+", got "+t)}{const e=te(o);if(!ce(e,gr,r.ORDER))throw new Error("Point is not on curve");const t=l(e);let i;try{i=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return 1==(1&n)!==((i&gr)===gr)&&(i=r.neg(i)),{x:e,y:i}}}}),h=e=>G(ne(e,t.nByteLength));function f(e){return e>n>>gr}const p=(e,t,r)=>te(e.slice(t,r));class y{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=se("compactSignature",e,2*r),new y(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=pr.toSig(se("DER",e));return new y(t,r)}assertValidity(){ue("r",this.r,gr,n),ue("s",this.s,gr,n)}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:s}=this,u=w(se("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const l=2===s||3===s?n+t.n:n;if(l>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0==(1&s)?"02":"03",f=c.fromHex(d+h(l)),p=a(l),y=o(-u*p),g=o(i*p),b=c.BASE.multiplyAndAddUnsafe(f,y,g);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ee(this.toDERHex())}toDERHex(){return pr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ee(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const g={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Ce(t.n);return function(e,t,r=!1){const n=e.length,i=Oe(t),s=Ce(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=Ee(r?re(e):te(e),t-we)+we;return r?ie(o,i):ne(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e){const t=j(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof c}const m=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const r=te(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},w=t.bits2int_modN||function(e){return o(m(e))},k=de(t.nBitLength);function S(e){return ue("num < 2^"+t.nBitLength,e,yr,k),ne(e,t.nByteLength)}function x(e,n,i=v){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=t;let{lowS:h,prehash:p,extraEntropy:g}=i;null==h&&(h=!0),e=se("msgHash",e),lr(i),p&&(e=se("prehashed msgHash",s(e)));const b=w(e),k=u(n),x=[S(k),S(b)];if(null!=g&&!1!==g){const e=!0===g?l(r.BYTES):g;x.push(se("extraEntropy",e))}const A=oe(...x),E=b;return{seed:A,k2sig:function(e){const t=m(e);if(!d(t))return;const r=a(t),n=c.BASE.multiply(t).toAffine(),i=o(n.x);if(i===yr)return;const s=o(r*o(E+i*k));if(s===yr)return;let u=(n.x===i?0:2)|Number(n.y&gr),l=s;return h&&f(s)&&(l=function(e){return f(e)?o(-e):e}(s),u^=1),new y(i,l,u)}}}const v={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,r,n=v){const{seed:i,k2sig:s}=x(e,r,n),o=t;return pe(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,r,n,i=A){const s=e;r=se("msgHash",r),n=se("publicKey",n);const{lowS:u,prehash:l,format:d}=i;if(lr(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==d&&"compact"!==d&&"der"!==d)throw new Error("format must be compact or der");const h="string"==typeof s||j(s),f=!h&&!d&&"object"==typeof s&&null!==s&&"bigint"==typeof s.r&&"bigint"==typeof s.s;if(!h&&!f)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,g;try{if(f&&(p=new y(s.r,s.s)),h){try{"compact"!==d&&(p=y.fromDER(s))}catch(e){if(!(e instanceof pr.Err))throw e}p||"der"===d||(p=y.fromCompact(s))}g=c.fromHex(n)}catch(e){return!1}if(!p)return!1;if(u&&p.hasHighS())return!1;l&&(r=t.hash(r));const{r:b,s:m}=p,k=w(r),S=a(m),x=o(k*S),v=o(b*S),E=c.BASE.multiplyAndAddUnsafe(g,x,v)?.toAffine();return!!E&&o(E.x)===b},ProjectivePoint:c,Signature:y,utils:g}}function kr(e){return{hash:e,hmac:(t,...r)=>ur(e,t,function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];h(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:A}}const Sr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),vr=BigInt(1),Ar=BigInt(2),Er=(e,t)=>(e+t/Ar)/t;function Br(e){const t=Sr,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=_e(l,r,t)*l%t,h=_e(d,r,t)*l%t,f=_e(h,Ar,t)*u%t,p=_e(f,i,t)*f%t,y=_e(p,s,t)*p%t,g=_e(y,a,t)*y%t,b=_e(g,c,t)*g%t,m=_e(b,a,t)*y%t,w=_e(m,r,t)*l%t,k=_e(w,o,t)*p%t,S=_e(k,n,t)*u%t,x=_e(S,Ar,t);if(!_r.eql(_r.sqr(x),e))throw new Error("Cannot find square root");return x}const _r=Le(Sr,void 0,void 0,{sqrt:Br}),Ir=function(e,t){const r=t=>wr({...e,...kr(t)});return{...r(t),create:r}}({a:BigInt(0),b:BigInt(7),Fp:_r,n:xr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=xr,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-vr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=Er(s*e,t),c=Er(-n*e,t);let u=Ee(e-a*r-c*i,t),l=Ee(-a*n-c*s,t);const d=u>o,h=l>o;if(d&&(u=t-u),h&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:l}}}},St);BigInt(0);Ir.ProjectivePoint;ht.utils.randomPrivateKey;const Tr=()=>{const e=ht.utils.randomPrivateKey(),t=zr(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},zr=ht.getPublicKey;function Ur(e){try{return ht.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Pr=(e,t)=>ht.sign(e,t.slice(0,32)),Lr=ht.verify,Or=e=>l.Buffer.isBuffer(e)?e:e instanceof Uint8Array?l.Buffer.from(e.buffer,e.byteOffset,e.byteLength):l.Buffer.from(e);class Cr{constructor(e){Object.assign(this,e)}encode(){return l.Buffer.from((0,xt.serialize)(Rr,this))}static decode(e){return(0,xt.deserialize)(Rr,this,e)}static decodeUnchecked(e){return(0,xt.deserializeUnchecked)(Rr,this,e)}}const Rr=new Map;var Hr;const Nr=32;let Mr=1;class Wr extends Cr{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=gt().decode(e);if(t.length!=Nr)throw new Error("Invalid public key input");this._bn=new(pt())(t)}else this._bn=new(pt())(e);if(this._bn.byteLength()>Nr)throw new Error("Invalid public key input")}}static unique(){const e=new Wr(Mr);return Mr+=1,new Wr(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return gt().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(l.Buffer);if(e.length===Nr)return e;const t=l.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=l.Buffer.concat([e.toBuffer(),l.Buffer.from(t),r.toBuffer()]),i=St(n);return new Wr(i)}static createProgramAddressSync(e,t){let r=l.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=l.Buffer.concat([r,Or(e)])})),r=l.Buffer.concat([r,t.toBuffer(),l.Buffer.from("ProgramDerivedAddress")]);const n=St(r);if(Ur(n))throw new Error("Invalid seeds, address must fall off the curve");return new Wr(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(l.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return Ur(new Wr(e).toBytes())}}Hr=Wr,Wr.default=new Hr("11111111111111111111111111111111"),Rr.set(Wr,{kind:"struct",fields:[["_bn","u256"]]});new Wr("BPFLoader1111111111111111111111111111111111");const Kr=1232;class Fr extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Fr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Dr extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Dr.prototype,"name",{value:"TransactionExpiredTimeoutError"});class qr extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(qr.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class jr{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,r)=>{t.set(e.toBase58(),r)}));const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((e=>r(e.pubkey))),data:e.data})))}}const $r=(e="publicKey")=>i.Ik(32,e),Vr=(e="string")=>{const t=i.n_([i.Jq("length"),i.Jq("lengthPadding"),i.Ik(i.cv(i.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),s=t;return s.decode=(e,t)=>r(e,t).chars.toString(),s.encode=(e,t,r)=>{const i={chars:l.Buffer.from(e,"utf8")};return n(i,t,r)},s.alloc=e=>i.Jq().span+i.Jq().span+l.Buffer.from(e,"utf8").length,s};function Jr(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}else if("fields"in e)return Jr({layout:e},t[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}function Gr(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0==(128&n))break}return t}function Zr(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function Yr(e,t){if(!e)throw new Error(t||"Assertion failed")}class Xr{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,n=e=>{const t=e.toBase58();let n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){n(t.programId).isInvoked=!0;for(const e of t.keys){const t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new Xr(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Yr(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),r=e.filter((([,e])=>e.isSigner&&!e.isWritable)),n=e.filter((([,e])=>!e.isSigner&&e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Yr(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Yr(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map((([e])=>new Wr(e))),...r.map((([e])=>new Wr(e))),...n.map((([e])=>new Wr(e))),...i.map((([e])=>new Wr(e)))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[i,s]of this.keyMetaMap.entries())if(t(s)){const t=new Wr(i),s=e.findIndex((e=>e.equals(t)));s>=0&&(Yr(s<256,"Max lookup table index exceeded"),r.push(s),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}const Qr="Reached end of buffer unexpectedly";function en(e){if(0===e.length)throw new Error(Qr);return e.shift()}function tn(e,...t){const[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw new Error(Qr);return e.splice(...t)}class rn{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Wr(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:gt().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new jr(this.staticAccountKeys)}static compile(e){const t=Xr.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),i=new jr(n).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:gt().encode(e.data)})));return new rn({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];Zr(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(gt().decode(e.data));let i=[];Zr(i,t.length);let s=[];return Zr(s,n.length),{programIdIndex:r,keyIndicesCount:l.Buffer.from(i),keyIndices:t,dataLength:l.Buffer.from(s),data:n}}));let n=[];Zr(n,r.length);let s=l.Buffer.alloc(Kr);l.Buffer.from(n).copy(s);let o=n.length;r.forEach((e=>{const t=i.n_([i.u8("programIdIndex"),i.Ik(e.keyIndicesCount.length,"keyIndicesCount"),i.A9(i.u8("keyIndex"),e.keyIndices.length,"keyIndices"),i.Ik(e.dataLength.length,"dataLength"),i.A9(i.u8("userdatum"),e.data.length,"data")]).encode(e,s,o);o+=t})),s=s.slice(0,o);const a=i.n_([i.Ik(1,"numRequiredSignatures"),i.Ik(1,"numReadonlySignedAccounts"),i.Ik(1,"numReadonlyUnsignedAccounts"),i.Ik(t.length,"keyCount"),i.A9($r("key"),e,"keys"),$r("recentBlockhash")]),c={numRequiredSignatures:l.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:l.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:l.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:l.Buffer.from(t),keys:this.accountKeys.map((e=>Or(e.toBytes()))),recentBlockhash:gt().decode(this.recentBlockhash)};let u=l.Buffer.alloc(2048);const d=a.encode(c,u);return s.copy(u,d),u.slice(0,d+s.length)}static from(e){let t=[...e];const r=en(t);if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=en(t),i=en(t),s=Gr(t);let o=[];for(let e=0;e<s;e++){const e=tn(t,0,Nr);o.push(new Wr(l.Buffer.from(e)))}const a=tn(t,0,Nr),c=Gr(t);let u=[];for(let e=0;e<c;e++){const e=en(t),r=tn(t,0,Gr(t)),n=tn(t,0,Gr(t)),i=gt().encode(l.Buffer.from(n));u.push({programIdIndex:e,accounts:r,data:i})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:gt().encode(l.Buffer.from(a)),accountKeys:o,instructions:u};return new rn(d)}}const nn=l.Buffer.alloc(64).fill(0);class sn{constructor(e){this.keys=void 0,this.programId=void 0,this.data=l.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class on{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new sn(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new Wr(e),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),r=s.findIndex((e=>e.pubkey.toString()===t));r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)})),s.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=s.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=s.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],d=[];s.forEach((({pubkey:e,isSigner:t,isWritable:r})=>{t?(l.push(e.toString()),a+=1,r||(c+=1)):(d.push(e.toString()),r||(u+=1))}));const h=l.concat(d),f=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:gt().encode(t)}}));return f.forEach((e=>{Yr(e.programIdIndex>=0),e.accounts.forEach((e=>Yr(e>=0)))})),new rn({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map((e=>({signature:null,publicKey:e.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach((e=>{const t=Pr(r,e.secretKey);this._addSignature(e.publicKey,Or(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Yr(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=l.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:n,publicKey:i}of this.signatures)null===n?t&&(r.missing||=[]).push(i):Lr(n,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){const e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];Zr(r,t.length);const n=r.length+64*t.length+e.length,i=l.Buffer.alloc(n);return Yr(t.length<256),l.Buffer.from(r).copy(i,0),t.forEach((({signature:e},t)=>{null!==e&&(Yr(64===e.length,"signature has invalid length"),l.Buffer.from(e).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),Yr(i.length<=Kr,`Transaction too large: ${i.length} > 1232`),i}get keys(){return Yr(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Yr(1===this.instructions.length),this.instructions[0].programId}get data(){return Yr(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=Gr(t);let n=[];for(let e=0;e<r;e++){const e=tn(t,0,64);n.push(gt().encode(l.Buffer.from(e)))}return on.populate(rn.from(t),n)}static populate(e,t=[]){const r=new on;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==gt().encode(nn)?null:gt().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new sn({keys:n,programId:e.accountKeys[t.programIdIndex],data:gt().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}const an=new Wr("SysvarC1ock11111111111111111111111111111111"),cn=(new Wr("SysvarEpochSchedu1e111111111111111111111111"),new Wr("Sysvar1nstructions1111111111111111111111111"),new Wr("SysvarRecentB1ockHashes11111111111111111111")),un=new Wr("SysvarRent111111111111111111111111111111111"),ln=(new Wr("SysvarRewards111111111111111111111111111111"),new Wr("SysvarS1otHashes111111111111111111111111111"),new Wr("SysvarS1otHistory11111111111111111111111111"),new Wr("SysvarStakeHistory1111111111111111111111111"));class dn extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){const i=n?`Logs: \n${JSON.stringify(n.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(e){case"send":o=`Transaction ${t} resulted in an error. \n${r}. `+i+s;break;case"simulate":o=`Simulation failed. \nMessage: ${r}. \n`+i+s;break;default:o=`Unknown action '${e}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,r)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(new Error("Log messages not found"))})).catch(r)}))),await this.transactionLogs}}async function hn(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await e.sendTransaction(t,r,i);let o;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)o=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:r}=t.nonceInfo,i=r.keys[0].pubkey;o=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err){if(null!=s)throw new dn({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function fn(e){return new Promise((t=>setTimeout(t,e)))}function pn(e,t){const r=e.layout.span>=0?e.layout.span:Jr(e,t),n=l.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}const yn=i._O("lamportsPerSignature"),gn=i.n_([i.Jq("version"),i.Jq("state"),$r("authorizedPubkey"),$r("nonce"),i.n_([yn],"feeCalculator")]),bn=gn.span;function mn(e){const t=(0,i.Ik)(8,e),r=t.decode.bind(t),n=t.encode.bind(t),s=t,o=qt();return s.decode=(e,t)=>{const n=r(e,t);return o.decode(n)},s.encode=(e,t,r)=>{const i=o.encode(e);return n(i,t,r)},s}const wn=Object.freeze({Create:{index:0,layout:i.n_([i.Jq("instruction"),i.gM("lamports"),i.gM("space"),$r("programId")])},Assign:{index:1,layout:i.n_([i.Jq("instruction"),$r("programId")])},Transfer:{index:2,layout:i.n_([i.Jq("instruction"),mn("lamports")])},CreateWithSeed:{index:3,layout:i.n_([i.Jq("instruction"),$r("base"),Vr("seed"),i.gM("lamports"),i.gM("space"),$r("programId")])},AdvanceNonceAccount:{index:4,layout:i.n_([i.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:i.n_([i.Jq("instruction"),i.gM("lamports")])},InitializeNonceAccount:{index:6,layout:i.n_([i.Jq("instruction"),$r("authorized")])},AuthorizeNonceAccount:{index:7,layout:i.n_([i.Jq("instruction"),$r("authorized")])},Allocate:{index:8,layout:i.n_([i.Jq("instruction"),i.gM("space")])},AllocateWithSeed:{index:9,layout:i.n_([i.Jq("instruction"),$r("base"),Vr("seed"),i.gM("space"),$r("programId")])},AssignWithSeed:{index:10,layout:i.n_([i.Jq("instruction"),$r("base"),Vr("seed"),$r("programId")])},TransferWithSeed:{index:11,layout:i.n_([i.Jq("instruction"),mn("lamports"),Vr("seed"),$r("programId")])},UpgradeNonceAccount:{index:12,layout:i.n_([i.Jq("instruction")])}});class kn{constructor(){}static createAccount(e){const t=pn(wn.Create,{lamports:e.lamports,space:e.space,programId:Or(e.programId.toBuffer())});return new sn({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=pn(wn.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:Or(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=pn(wn.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new sn({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=pn(wn.AssignWithSeed,{base:Or(e.basePubkey.toBuffer()),seed:e.seed,programId:Or(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=pn(wn.Assign,{programId:Or(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sn({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=pn(wn.CreateWithSeed,{base:Or(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Or(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new sn({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new on;"basePubkey"in e&&"seed"in e?t.add(kn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:bn,programId:this.programId})):t.add(kn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:bn,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=pn(wn.InitializeNonceAccount,{authorized:Or(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:un,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new sn(r)}static nonceAdvance(e){const t=pn(wn.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new sn(r)}static nonceWithdraw(e){const t=pn(wn.WithdrawNonceAccount,{lamports:e.lamports});return new sn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:cn,isSigner:!1,isWritable:!1},{pubkey:un,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=pn(wn.AuthorizeNonceAccount,{authorized:Or(e.newAuthorizedPubkey.toBuffer())});return new sn({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=pn(wn.AllocateWithSeed,{base:Or(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Or(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=pn(wn.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sn({keys:r,programId:this.programId,data:t})}}kn.programId=new Wr("11111111111111111111111111111111");class Sn{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Sn.chunkSize)+1+1)}static async load(e,t,r,n,s){{const i=await e.getMinimumBalanceForRentExemption(s.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==s.length&&(a=a||new on,a.add(kn.allocate({accountPubkey:r.publicKey,space:s.length}))),o.owner.equals(n)||(a=a||new on,a.add(kn.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<i&&(a=a||new on,a.add(kn.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:i-o.lamports})))}else a=(new on).add(kn.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:i>0?i:1,space:s.length,programId:n}));null!==a&&await hn(e,a,[t,r],{commitment:"confirmed"})}const o=i.n_([i.Jq("instruction"),i.Jq("offset"),i.Jq("bytesLength"),i.Jq("bytesLengthPadding"),i.A9(i.u8("byte"),i.cv(i.Jq(),-8),"bytes")]),a=Sn.chunkSize;let c=0,u=s,d=[];for(;u.length>0;){const i=u.slice(0,a),s=l.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:i,bytesLength:0,bytesLengthPadding:0},s);const h=(new on).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:s});if(d.push(hn(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await fn(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(d);{const s=i.n_([i.Jq("instruction")]),o=l.Buffer.alloc(s.span);s.encode({instruction:1},o);const a=(new on).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:un,isSigner:!1,isWritable:!1}],programId:n,data:o}),c="processed",u=await e.sendTransaction(a,[t,r],{preflightCommitment:c}),{context:d,value:h}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(h.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(h)})`);for(;;){try{if(await e.getSlot({commitment:c})>d.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}Sn.chunkSize=932;new Wr("BPFLoader2111111111111111111111111111111111");globalThis.fetch;i.n_([i.Jq("typeIndex"),mn("deactivationSlot"),i._O("lastExtendedSlot"),i.u8("lastExtendedStartIndex"),i.u8(),i.A9($r(),i.cv(i.u8(),-1),"authority")]);const xn=(0,jt.coerce)((0,jt.instance)(Wr),(0,jt.string)(),(e=>new Wr(e))),vn=(0,jt.tuple)([(0,jt.string)(),(0,jt.literal)("base64")]),An=(0,jt.coerce)((0,jt.instance)(l.Buffer),vn,(e=>l.Buffer.from(e[0],"base64")));function En(e){return(0,jt.union)([(0,jt.type)({jsonrpc:(0,jt.literal)("2.0"),id:(0,jt.string)(),result:e}),(0,jt.type)({jsonrpc:(0,jt.literal)("2.0"),id:(0,jt.string)(),error:(0,jt.type)({code:(0,jt.unknown)(),message:(0,jt.string)(),data:(0,jt.optional)((0,jt.any)())})})])}const Bn=En((0,jt.unknown)());function _n(e){return(0,jt.coerce)(En(e),Bn,(t=>"error"in t?t:{...t,result:(0,jt.create)(t.result,e)}))}function In(e){return _n((0,jt.type)({context:(0,jt.type)({slot:(0,jt.number)()}),value:e}))}function Tn(e){return(0,jt.type)({context:(0,jt.type)({slot:(0,jt.number)()}),value:e})}const zn=(0,jt.type)({foundation:(0,jt.number)(),foundationTerm:(0,jt.number)(),initial:(0,jt.number)(),taper:(0,jt.number)(),terminal:(0,jt.number)()}),Un=(_n((0,jt.array)((0,jt.nullable)((0,jt.type)({epoch:(0,jt.number)(),effectiveSlot:(0,jt.number)(),amount:(0,jt.number)(),postBalance:(0,jt.number)(),commission:(0,jt.optional)((0,jt.nullable)((0,jt.number)()))})))),(0,jt.array)((0,jt.type)({slot:(0,jt.number)(),prioritizationFee:(0,jt.number)()}))),Pn=(0,jt.type)({total:(0,jt.number)(),validator:(0,jt.number)(),foundation:(0,jt.number)(),epoch:(0,jt.number)()}),Ln=(0,jt.type)({epoch:(0,jt.number)(),slotIndex:(0,jt.number)(),slotsInEpoch:(0,jt.number)(),absoluteSlot:(0,jt.number)(),blockHeight:(0,jt.optional)((0,jt.number)()),transactionCount:(0,jt.optional)((0,jt.number)())}),On=(0,jt.type)({slotsPerEpoch:(0,jt.number)(),leaderScheduleSlotOffset:(0,jt.number)(),warmup:(0,jt.boolean)(),firstNormalEpoch:(0,jt.number)(),firstNormalSlot:(0,jt.number)()}),Cn=(0,jt.record)((0,jt.string)(),(0,jt.array)((0,jt.number)())),Rn=(0,jt.nullable)((0,jt.union)([(0,jt.type)({}),(0,jt.string)()])),Hn=(0,jt.type)({err:Rn}),Nn=(0,jt.literal)("receivedSignature"),Mn=((0,jt.type)({"solana-core":(0,jt.string)(),"feature-set":(0,jt.optional)((0,jt.number)())}),(0,jt.type)({program:(0,jt.string)(),programId:xn,parsed:(0,jt.unknown)()})),Wn=(0,jt.type)({programId:xn,accounts:(0,jt.array)(xn),data:(0,jt.string)()});In((0,jt.type)({err:(0,jt.nullable)((0,jt.union)([(0,jt.type)({}),(0,jt.string)()])),logs:(0,jt.nullable)((0,jt.array)((0,jt.string)())),accounts:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.nullable)((0,jt.type)({executable:(0,jt.boolean)(),owner:(0,jt.string)(),lamports:(0,jt.number)(),data:(0,jt.array)((0,jt.string)()),rentEpoch:(0,jt.optional)((0,jt.number)())}))))),unitsConsumed:(0,jt.optional)((0,jt.number)()),returnData:(0,jt.optional)((0,jt.nullable)((0,jt.type)({programId:(0,jt.string)(),data:(0,jt.tuple)([(0,jt.string)(),(0,jt.literal)("base64")])}))),innerInstructions:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.type)({index:(0,jt.number)(),instructions:(0,jt.array)((0,jt.union)([Mn,Wn]))}))))})),In((0,jt.type)({byIdentity:(0,jt.record)((0,jt.string)(),(0,jt.array)((0,jt.number)())),range:(0,jt.type)({firstSlot:(0,jt.number)(),lastSlot:(0,jt.number)()})}));_n(zn),_n(Pn),_n(Un),_n(Ln),_n(On),_n(Cn),_n((0,jt.number)()),In((0,jt.type)({total:(0,jt.number)(),circulating:(0,jt.number)(),nonCirculating:(0,jt.number)(),nonCirculatingAccounts:(0,jt.array)(xn)}));const Kn=(0,jt.type)({amount:(0,jt.string)(),uiAmount:(0,jt.nullable)((0,jt.number)()),decimals:(0,jt.number)(),uiAmountString:(0,jt.optional)((0,jt.string)())}),Fn=(In((0,jt.array)((0,jt.type)({address:xn,amount:(0,jt.string)(),uiAmount:(0,jt.nullable)((0,jt.number)()),decimals:(0,jt.number)(),uiAmountString:(0,jt.optional)((0,jt.string)())}))),In((0,jt.array)((0,jt.type)({pubkey:xn,account:(0,jt.type)({executable:(0,jt.boolean)(),owner:xn,lamports:(0,jt.number)(),data:An,rentEpoch:(0,jt.number)()})}))),(0,jt.type)({program:(0,jt.string)(),parsed:(0,jt.unknown)(),space:(0,jt.number)()})),Dn=(In((0,jt.array)((0,jt.type)({pubkey:xn,account:(0,jt.type)({executable:(0,jt.boolean)(),owner:xn,lamports:(0,jt.number)(),data:Fn,rentEpoch:(0,jt.number)()})}))),In((0,jt.array)((0,jt.type)({lamports:(0,jt.number)(),address:xn}))),(0,jt.type)({executable:(0,jt.boolean)(),owner:xn,lamports:(0,jt.number)(),data:An,rentEpoch:(0,jt.number)()})),qn=((0,jt.type)({pubkey:xn,account:Dn}),(0,jt.coerce)((0,jt.union)([(0,jt.instance)(l.Buffer),Fn]),(0,jt.union)([vn,Fn]),(e=>Array.isArray(e)?(0,jt.create)(e,An):e))),jn=(0,jt.type)({executable:(0,jt.boolean)(),owner:xn,lamports:(0,jt.number)(),data:qn,rentEpoch:(0,jt.number)()}),$n=((0,jt.type)({pubkey:xn,account:jn}),(0,jt.type)({state:(0,jt.union)([(0,jt.literal)("active"),(0,jt.literal)("inactive"),(0,jt.literal)("activating"),(0,jt.literal)("deactivating")]),active:(0,jt.number)(),inactive:(0,jt.number)()}),_n((0,jt.array)((0,jt.type)({signature:(0,jt.string)(),slot:(0,jt.number)(),err:Rn,memo:(0,jt.nullable)((0,jt.string)()),blockTime:(0,jt.optional)((0,jt.nullable)((0,jt.number)()))}))),_n((0,jt.array)((0,jt.type)({signature:(0,jt.string)(),slot:(0,jt.number)(),err:Rn,memo:(0,jt.nullable)((0,jt.string)()),blockTime:(0,jt.optional)((0,jt.nullable)((0,jt.number)()))}))),(0,jt.type)({subscription:(0,jt.number)(),result:Tn(Dn)}),(0,jt.type)({pubkey:xn,account:Dn})),Vn=((0,jt.type)({subscription:(0,jt.number)(),result:Tn($n)}),(0,jt.type)({parent:(0,jt.number)(),slot:(0,jt.number)(),root:(0,jt.number)()})),Jn=((0,jt.type)({subscription:(0,jt.number)(),result:Vn}),(0,jt.union)([(0,jt.type)({type:(0,jt.union)([(0,jt.literal)("firstShredReceived"),(0,jt.literal)("completed"),(0,jt.literal)("optimisticConfirmation"),(0,jt.literal)("root")]),slot:(0,jt.number)(),timestamp:(0,jt.number)()}),(0,jt.type)({type:(0,jt.literal)("createdBank"),parent:(0,jt.number)(),slot:(0,jt.number)(),timestamp:(0,jt.number)()}),(0,jt.type)({type:(0,jt.literal)("frozen"),slot:(0,jt.number)(),timestamp:(0,jt.number)(),stats:(0,jt.type)({numTransactionEntries:(0,jt.number)(),numSuccessfulTransactions:(0,jt.number)(),numFailedTransactions:(0,jt.number)(),maxTransactionsPerEntry:(0,jt.number)()})}),(0,jt.type)({type:(0,jt.literal)("dead"),slot:(0,jt.number)(),timestamp:(0,jt.number)(),err:(0,jt.string)()})])),Gn=((0,jt.type)({subscription:(0,jt.number)(),result:Jn}),(0,jt.type)({subscription:(0,jt.number)(),result:Tn((0,jt.union)([Hn,Nn]))}),(0,jt.type)({subscription:(0,jt.number)(),result:(0,jt.number)()}),(0,jt.type)({pubkey:(0,jt.string)(),gossip:(0,jt.nullable)((0,jt.string)()),tpu:(0,jt.nullable)((0,jt.string)()),rpc:(0,jt.nullable)((0,jt.string)()),version:(0,jt.nullable)((0,jt.string)())}),(0,jt.type)({votePubkey:(0,jt.string)(),nodePubkey:(0,jt.string)(),activatedStake:(0,jt.number)(),epochVoteAccount:(0,jt.boolean)(),epochCredits:(0,jt.array)((0,jt.tuple)([(0,jt.number)(),(0,jt.number)(),(0,jt.number)()])),commission:(0,jt.number)(),lastVote:(0,jt.number)(),rootSlot:(0,jt.nullable)((0,jt.number)())})),Zn=(_n((0,jt.type)({current:(0,jt.array)(Gn),delinquent:(0,jt.array)(Gn)})),(0,jt.union)([(0,jt.literal)("processed"),(0,jt.literal)("confirmed"),(0,jt.literal)("finalized")])),Yn=(0,jt.type)({slot:(0,jt.number)(),confirmations:(0,jt.nullable)((0,jt.number)()),err:Rn,confirmationStatus:(0,jt.optional)(Zn)}),Xn=(In((0,jt.array)((0,jt.nullable)(Yn))),_n((0,jt.number)()),(0,jt.type)({accountKey:xn,writableIndexes:(0,jt.array)((0,jt.number)()),readonlyIndexes:(0,jt.array)((0,jt.number)())})),Qn=(0,jt.type)({signatures:(0,jt.array)((0,jt.string)()),message:(0,jt.type)({accountKeys:(0,jt.array)((0,jt.string)()),header:(0,jt.type)({numRequiredSignatures:(0,jt.number)(),numReadonlySignedAccounts:(0,jt.number)(),numReadonlyUnsignedAccounts:(0,jt.number)()}),instructions:(0,jt.array)((0,jt.type)({accounts:(0,jt.array)((0,jt.number)()),data:(0,jt.string)(),programIdIndex:(0,jt.number)()})),recentBlockhash:(0,jt.string)(),addressTableLookups:(0,jt.optional)((0,jt.array)(Xn))})}),ei=(0,jt.type)({pubkey:xn,signer:(0,jt.boolean)(),writable:(0,jt.boolean)(),source:(0,jt.optional)((0,jt.union)([(0,jt.literal)("transaction"),(0,jt.literal)("lookupTable")]))}),ti=(0,jt.type)({accountKeys:(0,jt.array)(ei),signatures:(0,jt.array)((0,jt.string)())}),ri=(0,jt.type)({parsed:(0,jt.unknown)(),program:(0,jt.string)(),programId:xn}),ni=(0,jt.type)({accounts:(0,jt.array)(xn),data:(0,jt.string)(),programId:xn}),ii=(0,jt.union)([ni,ri]),si=(0,jt.union)([(0,jt.type)({parsed:(0,jt.unknown)(),program:(0,jt.string)(),programId:(0,jt.string)()}),(0,jt.type)({accounts:(0,jt.array)((0,jt.string)()),data:(0,jt.string)(),programId:(0,jt.string)()})]),oi=(0,jt.coerce)(ii,si,(e=>"accounts"in e?(0,jt.create)(e,ni):(0,jt.create)(e,ri))),ai=(0,jt.type)({signatures:(0,jt.array)((0,jt.string)()),message:(0,jt.type)({accountKeys:(0,jt.array)(ei),instructions:(0,jt.array)(oi),recentBlockhash:(0,jt.string)(),addressTableLookups:(0,jt.optional)((0,jt.nullable)((0,jt.array)(Xn)))})}),ci=(0,jt.type)({accountIndex:(0,jt.number)(),mint:(0,jt.string)(),owner:(0,jt.optional)((0,jt.string)()),programId:(0,jt.optional)((0,jt.string)()),uiTokenAmount:Kn}),ui=(0,jt.type)({writable:(0,jt.array)(xn),readonly:(0,jt.array)(xn)}),li=(0,jt.type)({err:Rn,fee:(0,jt.number)(),innerInstructions:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.type)({index:(0,jt.number)(),instructions:(0,jt.array)((0,jt.type)({accounts:(0,jt.array)((0,jt.number)()),data:(0,jt.string)(),programIdIndex:(0,jt.number)()}))})))),preBalances:(0,jt.array)((0,jt.number)()),postBalances:(0,jt.array)((0,jt.number)()),logMessages:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.string)()))),preTokenBalances:(0,jt.optional)((0,jt.nullable)((0,jt.array)(ci))),postTokenBalances:(0,jt.optional)((0,jt.nullable)((0,jt.array)(ci))),loadedAddresses:(0,jt.optional)(ui),computeUnitsConsumed:(0,jt.optional)((0,jt.number)())}),di=(0,jt.type)({err:Rn,fee:(0,jt.number)(),innerInstructions:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.type)({index:(0,jt.number)(),instructions:(0,jt.array)(oi)})))),preBalances:(0,jt.array)((0,jt.number)()),postBalances:(0,jt.array)((0,jt.number)()),logMessages:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.string)()))),preTokenBalances:(0,jt.optional)((0,jt.nullable)((0,jt.array)(ci))),postTokenBalances:(0,jt.optional)((0,jt.nullable)((0,jt.array)(ci))),loadedAddresses:(0,jt.optional)(ui),computeUnitsConsumed:(0,jt.optional)((0,jt.number)())}),hi=(0,jt.union)([(0,jt.literal)(0),(0,jt.literal)("legacy")]),fi=(0,jt.type)({pubkey:(0,jt.string)(),lamports:(0,jt.number)(),postBalance:(0,jt.nullable)((0,jt.number)()),rewardType:(0,jt.nullable)((0,jt.string)()),commission:(0,jt.optional)((0,jt.nullable)((0,jt.number)()))}),pi=(_n((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:Qn,meta:(0,jt.nullable)(li),version:(0,jt.optional)(hi)})),rewards:(0,jt.optional)((0,jt.array)(fi)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),_n((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),rewards:(0,jt.optional)((0,jt.array)(fi)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),_n((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:ti,meta:(0,jt.nullable)(li),version:(0,jt.optional)(hi)})),rewards:(0,jt.optional)((0,jt.array)(fi)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),_n((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:ai,meta:(0,jt.nullable)(di),version:(0,jt.optional)(hi)})),rewards:(0,jt.optional)((0,jt.array)(fi)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),_n((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:ti,meta:(0,jt.nullable)(di),version:(0,jt.optional)(hi)})),rewards:(0,jt.optional)((0,jt.array)(fi)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),_n((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),rewards:(0,jt.optional)((0,jt.array)(fi)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),_n((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:Qn,meta:(0,jt.nullable)(li)})),rewards:(0,jt.optional)((0,jt.array)(fi)),blockTime:(0,jt.nullable)((0,jt.number)())}))),_n((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),signatures:(0,jt.array)((0,jt.string)()),blockTime:(0,jt.nullable)((0,jt.number)())}))),_n((0,jt.nullable)((0,jt.type)({slot:(0,jt.number)(),meta:(0,jt.nullable)(li),blockTime:(0,jt.optional)((0,jt.nullable)((0,jt.number)())),transaction:Qn,version:(0,jt.optional)(hi)}))),_n((0,jt.nullable)((0,jt.type)({slot:(0,jt.number)(),transaction:ai,meta:(0,jt.nullable)(di),blockTime:(0,jt.optional)((0,jt.nullable)((0,jt.number)())),version:(0,jt.optional)(hi)}))),In((0,jt.type)({blockhash:(0,jt.string)(),lastValidBlockHeight:(0,jt.number)()})),In((0,jt.boolean)()),(0,jt.type)({slot:(0,jt.number)(),numTransactions:(0,jt.number)(),numSlots:(0,jt.number)(),samplePeriodSecs:(0,jt.number)()})),yi=(_n((0,jt.array)(pi)),In((0,jt.nullable)((0,jt.type)({feeCalculator:(0,jt.type)({lamportsPerSignature:(0,jt.number)()})}))),_n((0,jt.string)()),_n((0,jt.string)()),(0,jt.type)({err:Rn,logs:(0,jt.array)((0,jt.string)()),signature:(0,jt.string)()}));(0,jt.type)({result:Tn(yi),subscription:(0,jt.number)()});class gi{constructor(e){this._keypair=void 0,this._keypair=e??Tr()}static generate(){return new gi(Tr())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),n=zr(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw new Error("provided secretKey is invalid")}return new gi({publicKey:r,secretKey:e})}static fromSeed(e){const t=zr(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new gi({publicKey:t,secretKey:r})}get publicKey(){return new Wr(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const bi=Object.freeze({CreateLookupTable:{index:0,layout:i.n_([i.Jq("instruction"),mn("recentSlot"),i.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:i.n_([i.Jq("instruction")])},ExtendLookupTable:{index:2,layout:i.n_([i.Jq("instruction"),mn(),i.A9($r(),i.cv(i.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:i.n_([i.Jq("instruction")])},CloseLookupTable:{index:4,layout:i.n_([i.Jq("instruction")])}});class mi{constructor(){}static createLookupTable(e){const[t,r]=Wr.findProgramAddressSync([e.authority.toBuffer(),Dt().encode(e.recentSlot)],this.programId),n=pn(bi.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:kn.programId,isSigner:!1,isWritable:!1}];return[new sn({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=pn(bi.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sn({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=pn(bi.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:kn.programId,isSigner:!1,isWritable:!1}),new sn({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=pn(bi.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sn({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=pn(bi.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new sn({programId:this.programId,keys:r,data:t})}}mi.programId=new Wr("AddressLookupTab1e1111111111111111111111111");const wi=Object.freeze({RequestUnits:{index:0,layout:i.n_([i.u8("instruction"),i.Jq("units"),i.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:i.n_([i.u8("instruction"),i.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:i.n_([i.u8("instruction"),i.Jq("units")])},SetComputeUnitPrice:{index:3,layout:i.n_([i.u8("instruction"),mn("microLamports")])}});class ki{constructor(){}static requestUnits(e){const t=pn(wi.RequestUnits,e);return new sn({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=pn(wi.RequestHeapFrame,e);return new sn({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=pn(wi.SetComputeUnitLimit,e);return new sn({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=pn(wi.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new sn({keys:[],programId:this.programId,data:t})}}ki.programId=new Wr("ComputeBudget111111111111111111111111111111");const Si=i.n_([i.u8("numSignatures"),i.u8("padding"),i.KB("signatureOffset"),i.KB("signatureInstructionIndex"),i.KB("publicKeyOffset"),i.KB("publicKeyInstructionIndex"),i.KB("messageDataOffset"),i.KB("messageDataSize"),i.KB("messageInstructionIndex")]);class xi{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;Yr(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),Yr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=Si.span,o=s+t.length,a=o+n.length,c=l.Buffer.alloc(a+r.length),u=null==i?65535:i;return Si.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:u,publicKeyOffset:s,publicKeyInstructionIndex:u,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:u},c),c.fill(t,s),c.fill(n,o),c.fill(r,a),new sn({keys:[],programId:xi.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Yr(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=gi.fromSecretKey(t),i=e.publicKey.toBytes(),s=Pr(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}xi.programId=new Wr("Ed25519SigVerify111111111111111111111111111");Ir.utils.isValidPrivateKey;const vi=Ir.getPublicKey,Ai=i.n_([i.u8("numSignatures"),i.KB("signatureOffset"),i.u8("signatureInstructionIndex"),i.KB("ethAddressOffset"),i.u8("ethAddressInstructionIndex"),i.KB("messageDataOffset"),i.KB("messageDataSize"),i.u8("messageInstructionIndex"),i.Ik(20,"ethAddress"),i.Ik(64,"signature"),i.u8("recoveryId")]);class Ei{constructor(){}static publicKeyToEthAddress(e){Yr(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return l.Buffer.from(ar(Or(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return Ei.createInstructionWithEthAddress({ethAddress:Ei.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=e;let o;o="string"==typeof t?t.startsWith("0x")?l.Buffer.from(t.substr(2),"hex"):l.Buffer.from(t,"hex"):t,Yr(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,c=a+n.length+1,u=l.Buffer.alloc(Ai.span+r.length);return Ai.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:s,signature:Or(n),ethAddress:Or(o),recoveryId:i},u),u.fill(Or(r),Ai.span),new sn({keys:[],programId:Ei.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Yr(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=Or(t),i=vi(e,!1).slice(1),s=l.Buffer.from(ar(Or(r))),[o,a]=((e,t)=>{const r=Ir.sign(e,t);return[r.toCompactRawBytes(),r.recovery]})(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,recoveryId:a,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var Bi;Ei.programId=new Wr("KeccakSecp256k11111111111111111111111111111");const _i=new Wr("StakeConfig11111111111111111111111111111111");class Ii{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Bi=Ii,Ii.default=new Bi(0,0,Wr.default);const Ti=Object.freeze({Initialize:{index:0,layout:i.n_([i.Jq("instruction"),((e="authorized")=>i.n_([$r("staker"),$r("withdrawer")],e))(),((e="lockup")=>i.n_([i.gM("unixTimestamp"),i.gM("epoch"),$r("custodian")],e))()])},Authorize:{index:1,layout:i.n_([i.Jq("instruction"),$r("newAuthorized"),i.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:i.n_([i.Jq("instruction")])},Split:{index:3,layout:i.n_([i.Jq("instruction"),i.gM("lamports")])},Withdraw:{index:4,layout:i.n_([i.Jq("instruction"),i.gM("lamports")])},Deactivate:{index:5,layout:i.n_([i.Jq("instruction")])},Merge:{index:7,layout:i.n_([i.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:i.n_([i.Jq("instruction"),$r("newAuthorized"),i.Jq("stakeAuthorizationType"),Vr("authoritySeed"),$r("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class zi{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||Ii.default,s=pn(Ti.Initialize,{authorized:{staker:Or(r.staker.toBuffer()),withdrawer:Or(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Or(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:un,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new sn(o)}static createAccountWithSeed(e){const t=new on;t.add(kn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new on;t.add(kn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=pn(Ti.Delegate);return(new on).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:_i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=pn(Ti.Authorize,{newAuthorized:Or(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new on).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,c=pn(Ti.AuthorizeWithSeed,{newAuthorized:Or(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:Or(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:an,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new on).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=pn(Ti.Split,{lamports:i});return new sn({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){const r=new on;return r.add(kn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=e,c=new on;return c.add(kn.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),t&&t>0&&c.add(kn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=pn(Ti.Merge);return(new on).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=pn(Ti.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new on).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=pn(Ti.Deactivate);return(new on).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}zi.programId=new Wr("Stake11111111111111111111111111111111111111"),zi.space=200;const Ui=Object.freeze({InitializeAccount:{index:0,layout:i.n_([i.Jq("instruction"),((e="voteInit")=>i.n_([$r("nodePubkey"),$r("authorizedVoter"),$r("authorizedWithdrawer"),i.u8("commission")],e))()])},Authorize:{index:1,layout:i.n_([i.Jq("instruction"),$r("newAuthorized"),i.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:i.n_([i.Jq("instruction"),i.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:i.n_([i.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:i.n_([i.Jq("instruction"),((e="voteAuthorizeWithSeedArgs")=>i.n_([i.Jq("voteAuthorizationType"),$r("currentAuthorityDerivedKeyOwnerPubkey"),Vr("currentAuthorityDerivedKeySeed"),$r("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Pi{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=pn(Ui.InitializeAccount,{voteInit:{nodePubkey:Or(n.nodePubkey.toBuffer()),authorizedVoter:Or(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Or(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:un,isSigner:!1,isWritable:!1},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new sn(s)}static createAccount(e){const t=new on;return t.add(kn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=pn(Ui.Authorize,{newAuthorized:Or(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new on).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=e,a=pn(Ui.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Or(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Or(i.toBuffer()),voteAuthorizationType:s.index}}),c=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:an,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new on).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=pn(Ui.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new on).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Pi.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,i=pn(Ui.UpdateValidatorIdentity),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new on).add({keys:s,programId:this.programId,data:i})}}Pi.programId=new Wr("Vote111111111111111111111111111111111111111"),Pi.space=3762;new Wr("Va1idator1nfo111111111111111111111111111111"),(0,jt.type)({name:(0,jt.string)(),website:(0,jt.optional)((0,jt.string)()),details:(0,jt.optional)((0,jt.string)()),iconUrl:(0,jt.optional)((0,jt.string)()),keybaseUsername:(0,jt.optional)((0,jt.string)())});new Wr("Vote111111111111111111111111111111111111111"),i.n_([$r("nodePubkey"),$r("authorizedWithdrawer"),i.u8("commission"),i._O(),i.A9(i.n_([i._O("slot"),i.Jq("confirmationCount")]),i.cv(i.Jq(),-8),"votes"),i.u8("rootSlotValid"),i._O("rootSlot"),i._O(),i.A9(i.n_([i._O("epoch"),$r("authorizedVoter")]),i.cv(i.Jq(),-8),"authorizedVoters"),i.n_([i.A9(i.n_([$r("authorizedPubkey"),i._O("epochOfLastAuthorizedSwitch"),i._O("targetEpoch")]),32,"buf"),i._O("idx"),i.u8("isEmpty")],"priorVoters"),i._O(),i.A9(i.n_([i._O("epoch"),i._O("credits"),i._O("prevCredits")]),i.cv(i.Jq(),-8),"epochCredits"),i.n_([i._O("slot"),i._O("timestamp")],"lastTimestamp")]);const Li=e=>{const t=(0,i.Ik)(32,e),{encode:r,decode:n}=o(t),s=t;return s.decode=(e,t)=>{const r=n(e,t);return new Wr(r)},s.encode=(e,t,n)=>{const i=e.toBuffer();return r(i,t,n)},s},Oi=(ht.utils.randomPrivateKey,()=>{const e=ht.utils.randomPrivateKey(),t=Ci(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}}),Ci=ht.getPublicKey;function Ri(e){try{return ht.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Hi=(e,t)=>ht.sign(e,t.slice(0,32)),Ni=ht.verify,Mi=e=>l.Buffer.isBuffer(e)?e:e instanceof Uint8Array?l.Buffer.from(e.buffer,e.byteOffset,e.byteLength):l.Buffer.from(e);class Wi{constructor(e){Object.assign(this,e)}encode(){return l.Buffer.from((0,xt.serialize)(Ki,this))}static decode(e){return(0,xt.deserialize)(Ki,this,e)}static decodeUnchecked(e){return(0,xt.deserializeUnchecked)(Ki,this,e)}}const Ki=new Map;var Fi;const Di=32;let qi=1;class ji extends Wi{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=gt().decode(e);if(t.length!=Di)throw new Error("Invalid public key input");this._bn=new(pt())(t)}else this._bn=new(pt())(e);if(this._bn.byteLength()>Di)throw new Error("Invalid public key input")}}static unique(){const e=new ji(qi);return qi+=1,new ji(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return gt().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(l.Buffer);if(e.length===Di)return e;const t=l.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=l.Buffer.concat([e.toBuffer(),l.Buffer.from(t),r.toBuffer()]),i=St(n);return new ji(i)}static createProgramAddressSync(e,t){let r=l.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=l.Buffer.concat([r,Mi(e)])})),r=l.Buffer.concat([r,t.toBuffer(),l.Buffer.from("ProgramDerivedAddress")]);const n=St(r);if(Ri(n))throw new Error("Invalid seeds, address must fall off the curve");return new ji(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(l.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(e){if(e instanceof TypeError)throw e;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return Ri(new ji(e).toBytes())}}Fi=ji,ji.default=new Fi("11111111111111111111111111111111"),Ki.set(ji,{kind:"struct",fields:[["_bn","u256"]]});new ji("BPFLoader1111111111111111111111111111111111");const $i=1232;class Vi extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Vi.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ji extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ji.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Gi extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Gi.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Zi{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,r)=>{t.set(e.toBase58(),r)}));const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((e=>r(e.pubkey))),data:e.data})))}}const Yi=(e="publicKey")=>i.Ik(32,e),Xi=(e="string")=>{const t=i.n_([i.Jq("length"),i.Jq("lengthPadding"),i.Ik(i.cv(i.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),s=t;return s.decode=(e,t)=>r(e,t).chars.toString(),s.encode=(e,t,r)=>{const i={chars:l.Buffer.from(e,"utf8")};return n(i,t,r)},s.alloc=e=>i.Jq().span+i.Jq().span+l.Buffer.from(e,"utf8").length,s};function Qi(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}else if("fields"in e)return Qi({layout:e},t[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}function es(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0==(128&n))break}return t}function ts(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function rs(e,t){if(!e)throw new Error(t||"Assertion failed")}class ns{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,n=e=>{const t=e.toBase58();let n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);i.isSigner=!0,i.isWritable=!0;for(const t of e){n(t.programId).isInvoked=!0;for(const e of t.keys){const t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new ns(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];rs(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),r=e.filter((([,e])=>e.isSigner&&!e.isWritable)),n=e.filter((([,e])=>!e.isSigner&&e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{rs(t.length>0,"Expected at least one writable signer key");const[e]=t[0];rs(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map((([e])=>new ji(e))),...r.map((([e])=>new ji(e))),...n.map((([e])=>new ji(e))),...i.map((([e])=>new ji(e)))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[i,s]of this.keyMetaMap.entries())if(t(s)){const t=new ji(i),s=e.findIndex((e=>e.equals(t)));s>=0&&(rs(s<256,"Max lookup table index exceeded"),r.push(s),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}const is="Reached end of buffer unexpectedly";function ss(e){if(0===e.length)throw new Error(is);return e.shift()}function os(e,...t){const[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw new Error(is);return e.splice(...t)}class as{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new ji(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:gt().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new Zi(this.staticAccountKeys)}static compile(e){const t=ns.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),i=new Zi(n).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:gt().encode(e.data)})));return new as({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];ts(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(gt().decode(e.data));let i=[];ts(i,t.length);let s=[];return ts(s,n.length),{programIdIndex:r,keyIndicesCount:l.Buffer.from(i),keyIndices:t,dataLength:l.Buffer.from(s),data:n}}));let n=[];ts(n,r.length);let s=l.Buffer.alloc($i);l.Buffer.from(n).copy(s);let o=n.length;r.forEach((e=>{const t=i.n_([i.u8("programIdIndex"),i.Ik(e.keyIndicesCount.length,"keyIndicesCount"),i.A9(i.u8("keyIndex"),e.keyIndices.length,"keyIndices"),i.Ik(e.dataLength.length,"dataLength"),i.A9(i.u8("userdatum"),e.data.length,"data")]).encode(e,s,o);o+=t})),s=s.slice(0,o);const a=i.n_([i.Ik(1,"numRequiredSignatures"),i.Ik(1,"numReadonlySignedAccounts"),i.Ik(1,"numReadonlyUnsignedAccounts"),i.Ik(t.length,"keyCount"),i.A9(Yi("key"),e,"keys"),Yi("recentBlockhash")]),c={numRequiredSignatures:l.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:l.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:l.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:l.Buffer.from(t),keys:this.accountKeys.map((e=>Mi(e.toBytes()))),recentBlockhash:gt().decode(this.recentBlockhash)};let u=l.Buffer.alloc(2048);const d=a.encode(c,u);return s.copy(u,d),u.slice(0,d+s.length)}static from(e){let t=[...e];const r=ss(t);if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=ss(t),i=ss(t),s=es(t);let o=[];for(let e=0;e<s;e++){const e=os(t,0,Di);o.push(new ji(l.Buffer.from(e)))}const a=os(t,0,Di),c=es(t);let u=[];for(let e=0;e<c;e++){const e=ss(t),r=os(t,0,es(t)),n=os(t,0,es(t)),i=gt().encode(l.Buffer.from(n));u.push({programIdIndex:e,accounts:r,data:i})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:gt().encode(l.Buffer.from(a)),accountKeys:o,instructions:u};return new as(d)}}const cs=l.Buffer.alloc(64).fill(0);class us{constructor(e){this.keys=void 0,this.programId=void 0,this.data=l.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class ls{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new us(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let e=0;e<t.length;e++)if(void 0===t[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new ji(e),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),r=s.findIndex((e=>e.pubkey.toString()===t));r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)})),s.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=s.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const e of this.signatures){const t=s.findIndex((t=>t.pubkey.equals(e.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],d=[];s.forEach((({pubkey:e,isSigner:t,isWritable:r})=>{t?(l.push(e.toString()),a+=1,r||(c+=1)):(d.push(e.toString()),r||(u+=1))}));const h=l.concat(d),f=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:gt().encode(t)}}));return f.forEach((e=>{rs(e.programIdIndex>=0),e.accounts.forEach((e=>rs(e>=0)))})),new as({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}this.signatures=r.map((e=>({signature:null,publicKey:e.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const n of e){const e=n.publicKey.toString();t.has(e)||(t.add(e),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach((e=>{const t=Hi(r,e.secretKey);this._addSignature(e.publicKey,Mi(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){rs(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=l.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:n,publicKey:i}of this.signatures)null===n?t&&(r.missing||=[]).push(i):Ni(n,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){const e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];ts(r,t.length);const n=r.length+64*t.length+e.length,i=l.Buffer.alloc(n);return rs(t.length<256),l.Buffer.from(r).copy(i,0),t.forEach((({signature:e},t)=>{null!==e&&(rs(64===e.length,"signature has invalid length"),l.Buffer.from(e).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),rs(i.length<=$i,`Transaction too large: ${i.length} > 1232`),i}get keys(){return rs(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return rs(1===this.instructions.length),this.instructions[0].programId}get data(){return rs(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=es(t);let n=[];for(let e=0;e<r;e++){const e=os(t,0,64);n.push(gt().encode(l.Buffer.from(e)))}return ls.populate(as.from(t),n)}static populate(e,t=[]){const r=new ls;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==gt().encode(cs)?null:gt().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new us({keys:n,programId:e.accountKeys[t.programIdIndex],data:gt().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}const ds=new ji("SysvarC1ock11111111111111111111111111111111"),hs=(new ji("SysvarEpochSchedu1e111111111111111111111111"),new ji("Sysvar1nstructions1111111111111111111111111"),new ji("SysvarRecentB1ockHashes11111111111111111111")),fs=new ji("SysvarRent111111111111111111111111111111111"),ps=(new ji("SysvarRewards111111111111111111111111111111"),new ji("SysvarS1otHashes111111111111111111111111111"),new ji("SysvarS1otHistory11111111111111111111111111"),new ji("SysvarStakeHistory1111111111111111111111111"));class ys extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){const i=n?`Logs: \n${JSON.stringify(n.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(e){case"send":o=`Transaction ${t} resulted in an error. \n${r}. `+i+s;break;case"simulate":o=`Simulation failed. \nMessage: ${r}. \n`+i+s;break;default:o=`Unknown action '${e}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,r)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(new Error("Log messages not found"))})).catch(r)}))),await this.transactionLogs}}async function gs(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await e.sendTransaction(t,r,i);let o;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)o=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:r}=t.nonceInfo,i=r.keys[0].pubkey;o=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err){if(null!=s)throw new ys({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function bs(e){return new Promise((t=>setTimeout(t,e)))}function ms(e,t){const r=e.layout.span>=0?e.layout.span:Qi(e,t),n=l.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}const ws=i._O("lamportsPerSignature"),ks=i.n_([i.Jq("version"),i.Jq("state"),Yi("authorizedPubkey"),Yi("nonce"),i.n_([ws],"feeCalculator")]),Ss=ks.span;const xs=(vs=8,e=>{const t=(0,i.Ik)(vs,e),{encode:r,decode:n}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),o=t;return o.decode=(e,t)=>{const r=n(e,t);return(0,s.oU)(l.Buffer.from(r))},o.encode=(e,t,n)=>{const i=(0,s.k$)(e,vs);return r(i,t,n)},o});var vs;const As=Object.freeze({Create:{index:0,layout:i.n_([i.Jq("instruction"),i.gM("lamports"),i.gM("space"),Yi("programId")])},Assign:{index:1,layout:i.n_([i.Jq("instruction"),Yi("programId")])},Transfer:{index:2,layout:i.n_([i.Jq("instruction"),xs("lamports")])},CreateWithSeed:{index:3,layout:i.n_([i.Jq("instruction"),Yi("base"),Xi("seed"),i.gM("lamports"),i.gM("space"),Yi("programId")])},AdvanceNonceAccount:{index:4,layout:i.n_([i.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:i.n_([i.Jq("instruction"),i.gM("lamports")])},InitializeNonceAccount:{index:6,layout:i.n_([i.Jq("instruction"),Yi("authorized")])},AuthorizeNonceAccount:{index:7,layout:i.n_([i.Jq("instruction"),Yi("authorized")])},Allocate:{index:8,layout:i.n_([i.Jq("instruction"),i.gM("space")])},AllocateWithSeed:{index:9,layout:i.n_([i.Jq("instruction"),Yi("base"),Xi("seed"),i.gM("space"),Yi("programId")])},AssignWithSeed:{index:10,layout:i.n_([i.Jq("instruction"),Yi("base"),Xi("seed"),Yi("programId")])},TransferWithSeed:{index:11,layout:i.n_([i.Jq("instruction"),xs("lamports"),Xi("seed"),Yi("programId")])},UpgradeNonceAccount:{index:12,layout:i.n_([i.Jq("instruction")])}});class Es{constructor(){}static createAccount(e){const t=ms(As.Create,{lamports:e.lamports,space:e.space,programId:Mi(e.programId.toBuffer())});return new us({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=ms(As.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:Mi(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=ms(As.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=ms(As.AssignWithSeed,{base:Mi(e.basePubkey.toBuffer()),seed:e.seed,programId:Mi(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=ms(As.Assign,{programId:Mi(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ms(As.CreateWithSeed,{base:Mi(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Mi(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new us({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new ls;"basePubkey"in e&&"seed"in e?t.add(Es.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Ss,programId:this.programId})):t.add(Es.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Ss,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=ms(As.InitializeNonceAccount,{authorized:Mi(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hs,isSigner:!1,isWritable:!1},{pubkey:fs,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new us(r)}static nonceAdvance(e){const t=ms(As.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:hs,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new us(r)}static nonceWithdraw(e){const t=ms(As.WithdrawNonceAccount,{lamports:e.lamports});return new us({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:hs,isSigner:!1,isWritable:!1},{pubkey:fs,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=ms(As.AuthorizeNonceAccount,{authorized:Mi(e.newAuthorizedPubkey.toBuffer())});return new us({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=ms(As.AllocateWithSeed,{base:Mi(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Mi(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=ms(As.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}}Es.programId=new ji("11111111111111111111111111111111");class Bs{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Bs.chunkSize)+1+1)}static async load(e,t,r,n,s){{const i=await e.getMinimumBalanceForRentExemption(s.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==s.length&&(a=a||new ls,a.add(Es.allocate({accountPubkey:r.publicKey,space:s.length}))),o.owner.equals(n)||(a=a||new ls,a.add(Es.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<i&&(a=a||new ls,a.add(Es.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:i-o.lamports})))}else a=(new ls).add(Es.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:i>0?i:1,space:s.length,programId:n}));null!==a&&await gs(e,a,[t,r],{commitment:"confirmed"})}const o=i.n_([i.Jq("instruction"),i.Jq("offset"),i.Jq("bytesLength"),i.Jq("bytesLengthPadding"),i.A9(i.u8("byte"),i.cv(i.Jq(),-8),"bytes")]),a=Bs.chunkSize;let c=0,u=s,d=[];for(;u.length>0;){const i=u.slice(0,a),s=l.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:i,bytesLength:0,bytesLengthPadding:0},s);const h=(new ls).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:s});if(d.push(gs(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await bs(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(d);{const s=i.n_([i.Jq("instruction")]),o=l.Buffer.alloc(s.span);s.encode({instruction:1},o);const a=(new ls).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:fs,isSigner:!1,isWritable:!1}],programId:n,data:o}),c="processed",u=await e.sendTransaction(a,[t,r],{preflightCommitment:c}),{context:d,value:h}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(h.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(h)})`);for(;;){try{if(await e.getSlot({commitment:c})>d.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}Bs.chunkSize=932;new ji("BPFLoader2111111111111111111111111111111111");globalThis.fetch;i.n_([i.Jq("typeIndex"),xs("deactivationSlot"),i._O("lastExtendedSlot"),i.u8("lastExtendedStartIndex"),i.u8(),i.A9(Yi(),i.cv(i.u8(),-1),"authority")]);const _s=(0,jt.coerce)((0,jt.instance)(ji),(0,jt.string)(),(e=>new ji(e))),Is=(0,jt.tuple)([(0,jt.string)(),(0,jt.literal)("base64")]),Ts=(0,jt.coerce)((0,jt.instance)(l.Buffer),Is,(e=>l.Buffer.from(e[0],"base64")));function zs(e){return(0,jt.union)([(0,jt.type)({jsonrpc:(0,jt.literal)("2.0"),id:(0,jt.string)(),result:e}),(0,jt.type)({jsonrpc:(0,jt.literal)("2.0"),id:(0,jt.string)(),error:(0,jt.type)({code:(0,jt.unknown)(),message:(0,jt.string)(),data:(0,jt.optional)((0,jt.any)())})})])}const Us=zs((0,jt.unknown)());function Ps(e){return(0,jt.coerce)(zs(e),Us,(t=>"error"in t?t:{...t,result:(0,jt.create)(t.result,e)}))}function Ls(e){return Ps((0,jt.type)({context:(0,jt.type)({slot:(0,jt.number)()}),value:e}))}function Os(e){return(0,jt.type)({context:(0,jt.type)({slot:(0,jt.number)()}),value:e})}const Cs=(0,jt.type)({foundation:(0,jt.number)(),foundationTerm:(0,jt.number)(),initial:(0,jt.number)(),taper:(0,jt.number)(),terminal:(0,jt.number)()}),Rs=(Ps((0,jt.array)((0,jt.nullable)((0,jt.type)({epoch:(0,jt.number)(),effectiveSlot:(0,jt.number)(),amount:(0,jt.number)(),postBalance:(0,jt.number)(),commission:(0,jt.optional)((0,jt.nullable)((0,jt.number)()))})))),(0,jt.array)((0,jt.type)({slot:(0,jt.number)(),prioritizationFee:(0,jt.number)()}))),Hs=(0,jt.type)({total:(0,jt.number)(),validator:(0,jt.number)(),foundation:(0,jt.number)(),epoch:(0,jt.number)()}),Ns=(0,jt.type)({epoch:(0,jt.number)(),slotIndex:(0,jt.number)(),slotsInEpoch:(0,jt.number)(),absoluteSlot:(0,jt.number)(),blockHeight:(0,jt.optional)((0,jt.number)()),transactionCount:(0,jt.optional)((0,jt.number)())}),Ms=(0,jt.type)({slotsPerEpoch:(0,jt.number)(),leaderScheduleSlotOffset:(0,jt.number)(),warmup:(0,jt.boolean)(),firstNormalEpoch:(0,jt.number)(),firstNormalSlot:(0,jt.number)()}),Ws=(0,jt.record)((0,jt.string)(),(0,jt.array)((0,jt.number)())),Ks=(0,jt.nullable)((0,jt.union)([(0,jt.type)({}),(0,jt.string)()])),Fs=(0,jt.type)({err:Ks}),Ds=(0,jt.literal)("receivedSignature"),qs=((0,jt.type)({"solana-core":(0,jt.string)(),"feature-set":(0,jt.optional)((0,jt.number)())}),(0,jt.type)({program:(0,jt.string)(),programId:_s,parsed:(0,jt.unknown)()})),js=(0,jt.type)({programId:_s,accounts:(0,jt.array)(_s),data:(0,jt.string)()});Ls((0,jt.type)({err:(0,jt.nullable)((0,jt.union)([(0,jt.type)({}),(0,jt.string)()])),logs:(0,jt.nullable)((0,jt.array)((0,jt.string)())),accounts:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.nullable)((0,jt.type)({executable:(0,jt.boolean)(),owner:(0,jt.string)(),lamports:(0,jt.number)(),data:(0,jt.array)((0,jt.string)()),rentEpoch:(0,jt.optional)((0,jt.number)())}))))),unitsConsumed:(0,jt.optional)((0,jt.number)()),returnData:(0,jt.optional)((0,jt.nullable)((0,jt.type)({programId:(0,jt.string)(),data:(0,jt.tuple)([(0,jt.string)(),(0,jt.literal)("base64")])}))),innerInstructions:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.type)({index:(0,jt.number)(),instructions:(0,jt.array)((0,jt.union)([qs,js]))}))))})),Ls((0,jt.type)({byIdentity:(0,jt.record)((0,jt.string)(),(0,jt.array)((0,jt.number)())),range:(0,jt.type)({firstSlot:(0,jt.number)(),lastSlot:(0,jt.number)()})}));Ps(Cs),Ps(Hs),Ps(Rs),Ps(Ns),Ps(Ms),Ps(Ws),Ps((0,jt.number)()),Ls((0,jt.type)({total:(0,jt.number)(),circulating:(0,jt.number)(),nonCirculating:(0,jt.number)(),nonCirculatingAccounts:(0,jt.array)(_s)}));const $s=(0,jt.type)({amount:(0,jt.string)(),uiAmount:(0,jt.nullable)((0,jt.number)()),decimals:(0,jt.number)(),uiAmountString:(0,jt.optional)((0,jt.string)())}),Vs=(Ls((0,jt.array)((0,jt.type)({address:_s,amount:(0,jt.string)(),uiAmount:(0,jt.nullable)((0,jt.number)()),decimals:(0,jt.number)(),uiAmountString:(0,jt.optional)((0,jt.string)())}))),Ls((0,jt.array)((0,jt.type)({pubkey:_s,account:(0,jt.type)({executable:(0,jt.boolean)(),owner:_s,lamports:(0,jt.number)(),data:Ts,rentEpoch:(0,jt.number)()})}))),(0,jt.type)({program:(0,jt.string)(),parsed:(0,jt.unknown)(),space:(0,jt.number)()})),Js=(Ls((0,jt.array)((0,jt.type)({pubkey:_s,account:(0,jt.type)({executable:(0,jt.boolean)(),owner:_s,lamports:(0,jt.number)(),data:Vs,rentEpoch:(0,jt.number)()})}))),Ls((0,jt.array)((0,jt.type)({lamports:(0,jt.number)(),address:_s}))),(0,jt.type)({executable:(0,jt.boolean)(),owner:_s,lamports:(0,jt.number)(),data:Ts,rentEpoch:(0,jt.number)()})),Gs=((0,jt.type)({pubkey:_s,account:Js}),(0,jt.coerce)((0,jt.union)([(0,jt.instance)(l.Buffer),Vs]),(0,jt.union)([Is,Vs]),(e=>Array.isArray(e)?(0,jt.create)(e,Ts):e))),Zs=(0,jt.type)({executable:(0,jt.boolean)(),owner:_s,lamports:(0,jt.number)(),data:Gs,rentEpoch:(0,jt.number)()}),Ys=((0,jt.type)({pubkey:_s,account:Zs}),(0,jt.type)({state:(0,jt.union)([(0,jt.literal)("active"),(0,jt.literal)("inactive"),(0,jt.literal)("activating"),(0,jt.literal)("deactivating")]),active:(0,jt.number)(),inactive:(0,jt.number)()}),Ps((0,jt.array)((0,jt.type)({signature:(0,jt.string)(),slot:(0,jt.number)(),err:Ks,memo:(0,jt.nullable)((0,jt.string)()),blockTime:(0,jt.optional)((0,jt.nullable)((0,jt.number)()))}))),Ps((0,jt.array)((0,jt.type)({signature:(0,jt.string)(),slot:(0,jt.number)(),err:Ks,memo:(0,jt.nullable)((0,jt.string)()),blockTime:(0,jt.optional)((0,jt.nullable)((0,jt.number)()))}))),(0,jt.type)({subscription:(0,jt.number)(),result:Os(Js)}),(0,jt.type)({pubkey:_s,account:Js})),Xs=((0,jt.type)({subscription:(0,jt.number)(),result:Os(Ys)}),(0,jt.type)({parent:(0,jt.number)(),slot:(0,jt.number)(),root:(0,jt.number)()})),Qs=((0,jt.type)({subscription:(0,jt.number)(),result:Xs}),(0,jt.union)([(0,jt.type)({type:(0,jt.union)([(0,jt.literal)("firstShredReceived"),(0,jt.literal)("completed"),(0,jt.literal)("optimisticConfirmation"),(0,jt.literal)("root")]),slot:(0,jt.number)(),timestamp:(0,jt.number)()}),(0,jt.type)({type:(0,jt.literal)("createdBank"),parent:(0,jt.number)(),slot:(0,jt.number)(),timestamp:(0,jt.number)()}),(0,jt.type)({type:(0,jt.literal)("frozen"),slot:(0,jt.number)(),timestamp:(0,jt.number)(),stats:(0,jt.type)({numTransactionEntries:(0,jt.number)(),numSuccessfulTransactions:(0,jt.number)(),numFailedTransactions:(0,jt.number)(),maxTransactionsPerEntry:(0,jt.number)()})}),(0,jt.type)({type:(0,jt.literal)("dead"),slot:(0,jt.number)(),timestamp:(0,jt.number)(),err:(0,jt.string)()})])),eo=((0,jt.type)({subscription:(0,jt.number)(),result:Qs}),(0,jt.type)({subscription:(0,jt.number)(),result:Os((0,jt.union)([Fs,Ds]))}),(0,jt.type)({subscription:(0,jt.number)(),result:(0,jt.number)()}),(0,jt.type)({pubkey:(0,jt.string)(),gossip:(0,jt.nullable)((0,jt.string)()),tpu:(0,jt.nullable)((0,jt.string)()),rpc:(0,jt.nullable)((0,jt.string)()),version:(0,jt.nullable)((0,jt.string)())}),(0,jt.type)({votePubkey:(0,jt.string)(),nodePubkey:(0,jt.string)(),activatedStake:(0,jt.number)(),epochVoteAccount:(0,jt.boolean)(),epochCredits:(0,jt.array)((0,jt.tuple)([(0,jt.number)(),(0,jt.number)(),(0,jt.number)()])),commission:(0,jt.number)(),lastVote:(0,jt.number)(),rootSlot:(0,jt.nullable)((0,jt.number)())})),to=(Ps((0,jt.type)({current:(0,jt.array)(eo),delinquent:(0,jt.array)(eo)})),(0,jt.union)([(0,jt.literal)("processed"),(0,jt.literal)("confirmed"),(0,jt.literal)("finalized")])),ro=(0,jt.type)({slot:(0,jt.number)(),confirmations:(0,jt.nullable)((0,jt.number)()),err:Ks,confirmationStatus:(0,jt.optional)(to)}),no=(Ls((0,jt.array)((0,jt.nullable)(ro))),Ps((0,jt.number)()),(0,jt.type)({accountKey:_s,writableIndexes:(0,jt.array)((0,jt.number)()),readonlyIndexes:(0,jt.array)((0,jt.number)())})),io=(0,jt.type)({signatures:(0,jt.array)((0,jt.string)()),message:(0,jt.type)({accountKeys:(0,jt.array)((0,jt.string)()),header:(0,jt.type)({numRequiredSignatures:(0,jt.number)(),numReadonlySignedAccounts:(0,jt.number)(),numReadonlyUnsignedAccounts:(0,jt.number)()}),instructions:(0,jt.array)((0,jt.type)({accounts:(0,jt.array)((0,jt.number)()),data:(0,jt.string)(),programIdIndex:(0,jt.number)()})),recentBlockhash:(0,jt.string)(),addressTableLookups:(0,jt.optional)((0,jt.array)(no))})}),so=(0,jt.type)({pubkey:_s,signer:(0,jt.boolean)(),writable:(0,jt.boolean)(),source:(0,jt.optional)((0,jt.union)([(0,jt.literal)("transaction"),(0,jt.literal)("lookupTable")]))}),oo=(0,jt.type)({accountKeys:(0,jt.array)(so),signatures:(0,jt.array)((0,jt.string)())}),ao=(0,jt.type)({parsed:(0,jt.unknown)(),program:(0,jt.string)(),programId:_s}),co=(0,jt.type)({accounts:(0,jt.array)(_s),data:(0,jt.string)(),programId:_s}),uo=(0,jt.union)([co,ao]),lo=(0,jt.union)([(0,jt.type)({parsed:(0,jt.unknown)(),program:(0,jt.string)(),programId:(0,jt.string)()}),(0,jt.type)({accounts:(0,jt.array)((0,jt.string)()),data:(0,jt.string)(),programId:(0,jt.string)()})]),ho=(0,jt.coerce)(uo,lo,(e=>"accounts"in e?(0,jt.create)(e,co):(0,jt.create)(e,ao))),fo=(0,jt.type)({signatures:(0,jt.array)((0,jt.string)()),message:(0,jt.type)({accountKeys:(0,jt.array)(so),instructions:(0,jt.array)(ho),recentBlockhash:(0,jt.string)(),addressTableLookups:(0,jt.optional)((0,jt.nullable)((0,jt.array)(no)))})}),po=(0,jt.type)({accountIndex:(0,jt.number)(),mint:(0,jt.string)(),owner:(0,jt.optional)((0,jt.string)()),programId:(0,jt.optional)((0,jt.string)()),uiTokenAmount:$s}),yo=(0,jt.type)({writable:(0,jt.array)(_s),readonly:(0,jt.array)(_s)}),go=(0,jt.type)({err:Ks,fee:(0,jt.number)(),innerInstructions:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.type)({index:(0,jt.number)(),instructions:(0,jt.array)((0,jt.type)({accounts:(0,jt.array)((0,jt.number)()),data:(0,jt.string)(),programIdIndex:(0,jt.number)()}))})))),preBalances:(0,jt.array)((0,jt.number)()),postBalances:(0,jt.array)((0,jt.number)()),logMessages:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.string)()))),preTokenBalances:(0,jt.optional)((0,jt.nullable)((0,jt.array)(po))),postTokenBalances:(0,jt.optional)((0,jt.nullable)((0,jt.array)(po))),loadedAddresses:(0,jt.optional)(yo),computeUnitsConsumed:(0,jt.optional)((0,jt.number)())}),bo=(0,jt.type)({err:Ks,fee:(0,jt.number)(),innerInstructions:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.type)({index:(0,jt.number)(),instructions:(0,jt.array)(ho)})))),preBalances:(0,jt.array)((0,jt.number)()),postBalances:(0,jt.array)((0,jt.number)()),logMessages:(0,jt.optional)((0,jt.nullable)((0,jt.array)((0,jt.string)()))),preTokenBalances:(0,jt.optional)((0,jt.nullable)((0,jt.array)(po))),postTokenBalances:(0,jt.optional)((0,jt.nullable)((0,jt.array)(po))),loadedAddresses:(0,jt.optional)(yo),computeUnitsConsumed:(0,jt.optional)((0,jt.number)())}),mo=(0,jt.union)([(0,jt.literal)(0),(0,jt.literal)("legacy")]),wo=(0,jt.type)({pubkey:(0,jt.string)(),lamports:(0,jt.number)(),postBalance:(0,jt.nullable)((0,jt.number)()),rewardType:(0,jt.nullable)((0,jt.string)()),commission:(0,jt.optional)((0,jt.nullable)((0,jt.number)()))}),ko=(Ps((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:io,meta:(0,jt.nullable)(go),version:(0,jt.optional)(mo)})),rewards:(0,jt.optional)((0,jt.array)(wo)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),Ps((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),rewards:(0,jt.optional)((0,jt.array)(wo)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),Ps((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:oo,meta:(0,jt.nullable)(go),version:(0,jt.optional)(mo)})),rewards:(0,jt.optional)((0,jt.array)(wo)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),Ps((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:fo,meta:(0,jt.nullable)(bo),version:(0,jt.optional)(mo)})),rewards:(0,jt.optional)((0,jt.array)(wo)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),Ps((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:oo,meta:(0,jt.nullable)(bo),version:(0,jt.optional)(mo)})),rewards:(0,jt.optional)((0,jt.array)(wo)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),Ps((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),rewards:(0,jt.optional)((0,jt.array)(wo)),blockTime:(0,jt.nullable)((0,jt.number)()),blockHeight:(0,jt.nullable)((0,jt.number)())}))),Ps((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),transactions:(0,jt.array)((0,jt.type)({transaction:io,meta:(0,jt.nullable)(go)})),rewards:(0,jt.optional)((0,jt.array)(wo)),blockTime:(0,jt.nullable)((0,jt.number)())}))),Ps((0,jt.nullable)((0,jt.type)({blockhash:(0,jt.string)(),previousBlockhash:(0,jt.string)(),parentSlot:(0,jt.number)(),signatures:(0,jt.array)((0,jt.string)()),blockTime:(0,jt.nullable)((0,jt.number)())}))),Ps((0,jt.nullable)((0,jt.type)({slot:(0,jt.number)(),meta:(0,jt.nullable)(go),blockTime:(0,jt.optional)((0,jt.nullable)((0,jt.number)())),transaction:io,version:(0,jt.optional)(mo)}))),Ps((0,jt.nullable)((0,jt.type)({slot:(0,jt.number)(),transaction:fo,meta:(0,jt.nullable)(bo),blockTime:(0,jt.optional)((0,jt.nullable)((0,jt.number)())),version:(0,jt.optional)(mo)}))),Ls((0,jt.type)({blockhash:(0,jt.string)(),lastValidBlockHeight:(0,jt.number)()})),Ls((0,jt.boolean)()),(0,jt.type)({slot:(0,jt.number)(),numTransactions:(0,jt.number)(),numSlots:(0,jt.number)(),samplePeriodSecs:(0,jt.number)()})),So=(Ps((0,jt.array)(ko)),Ls((0,jt.nullable)((0,jt.type)({feeCalculator:(0,jt.type)({lamportsPerSignature:(0,jt.number)()})}))),Ps((0,jt.string)()),Ps((0,jt.string)()),(0,jt.type)({err:Ks,logs:(0,jt.array)((0,jt.string)()),signature:(0,jt.string)()}));(0,jt.type)({result:Os(So),subscription:(0,jt.number)()});class xo{constructor(e){this._keypair=void 0,this._keypair=e??Oi()}static generate(){return new xo(Oi())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),n=Ci(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw new Error("provided secretKey is invalid")}return new xo({publicKey:r,secretKey:e})}static fromSeed(e){const t=Ci(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new xo({publicKey:t,secretKey:r})}get publicKey(){return new ji(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const vo=Object.freeze({CreateLookupTable:{index:0,layout:i.n_([i.Jq("instruction"),xs("recentSlot"),i.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:i.n_([i.Jq("instruction")])},ExtendLookupTable:{index:2,layout:i.n_([i.Jq("instruction"),xs(),i.A9(Yi(),i.cv(i.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:i.n_([i.Jq("instruction")])},CloseLookupTable:{index:4,layout:i.n_([i.Jq("instruction")])}});class Ao{constructor(){}static createLookupTable(e){const[t,r]=ji.findProgramAddressSync([e.authority.toBuffer(),(0,s.k$)(BigInt(e.recentSlot),8)],this.programId),n=ms(vo.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Es.programId,isSigner:!1,isWritable:!1}];return[new us({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=ms(vo.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new us({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=ms(vo.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Es.programId,isSigner:!1,isWritable:!1}),new us({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=ms(vo.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new us({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=ms(vo.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new us({programId:this.programId,keys:r,data:t})}}Ao.programId=new ji("AddressLookupTab1e1111111111111111111111111");const Eo=Object.freeze({RequestUnits:{index:0,layout:i.n_([i.u8("instruction"),i.Jq("units"),i.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:i.n_([i.u8("instruction"),i.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:i.n_([i.u8("instruction"),i.Jq("units")])},SetComputeUnitPrice:{index:3,layout:i.n_([i.u8("instruction"),xs("microLamports")])}});class Bo{constructor(){}static requestUnits(e){const t=ms(Eo.RequestUnits,e);return new us({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=ms(Eo.RequestHeapFrame,e);return new us({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=ms(Eo.SetComputeUnitLimit,e);return new us({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=ms(Eo.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new us({keys:[],programId:this.programId,data:t})}}Bo.programId=new ji("ComputeBudget111111111111111111111111111111");const _o=i.n_([i.u8("numSignatures"),i.u8("padding"),i.KB("signatureOffset"),i.KB("signatureInstructionIndex"),i.KB("publicKeyOffset"),i.KB("publicKeyInstructionIndex"),i.KB("messageDataOffset"),i.KB("messageDataSize"),i.KB("messageInstructionIndex")]);class Io{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;rs(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),rs(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=_o.span,o=s+t.length,a=o+n.length,c=l.Buffer.alloc(a+r.length),u=null==i?65535:i;return _o.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:u,publicKeyOffset:s,publicKeyInstructionIndex:u,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:u},c),c.fill(t,s),c.fill(n,o),c.fill(r,a),new us({keys:[],programId:Io.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;rs(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=xo.fromSecretKey(t),i=e.publicKey.toBytes(),s=Hi(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Io.programId=new ji("Ed25519SigVerify111111111111111111111111111");Ir.utils.isValidPrivateKey;const To=Ir.getPublicKey,zo=i.n_([i.u8("numSignatures"),i.KB("signatureOffset"),i.u8("signatureInstructionIndex"),i.KB("ethAddressOffset"),i.u8("ethAddressInstructionIndex"),i.KB("messageDataOffset"),i.KB("messageDataSize"),i.u8("messageInstructionIndex"),i.Ik(20,"ethAddress"),i.Ik(64,"signature"),i.u8("recoveryId")]);class Uo{constructor(){}static publicKeyToEthAddress(e){rs(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return l.Buffer.from(ar(Mi(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return Uo.createInstructionWithEthAddress({ethAddress:Uo.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=e;let o;o="string"==typeof t?t.startsWith("0x")?l.Buffer.from(t.substr(2),"hex"):l.Buffer.from(t,"hex"):t,rs(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,c=a+n.length+1,u=l.Buffer.alloc(zo.span+r.length);return zo.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:s,signature:Mi(n),ethAddress:Mi(o),recoveryId:i},u),u.fill(Mi(r),zo.span),new us({keys:[],programId:Uo.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;rs(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=Mi(t),i=To(e,!1).slice(1),s=l.Buffer.from(ar(Mi(r))),[o,a]=((e,t)=>{const r=Ir.sign(e,t);return[r.toCompactRawBytes(),r.recovery]})(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,recoveryId:a,instructionIndex:n})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var Po;Uo.programId=new ji("KeccakSecp256k11111111111111111111111111111");const Lo=new ji("StakeConfig11111111111111111111111111111111");class Oo{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Po=Oo,Oo.default=new Po(0,0,ji.default);const Co=Object.freeze({Initialize:{index:0,layout:i.n_([i.Jq("instruction"),((e="authorized")=>i.n_([Yi("staker"),Yi("withdrawer")],e))(),((e="lockup")=>i.n_([i.gM("unixTimestamp"),i.gM("epoch"),Yi("custodian")],e))()])},Authorize:{index:1,layout:i.n_([i.Jq("instruction"),Yi("newAuthorized"),i.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:i.n_([i.Jq("instruction")])},Split:{index:3,layout:i.n_([i.Jq("instruction"),i.gM("lamports")])},Withdraw:{index:4,layout:i.n_([i.Jq("instruction"),i.gM("lamports")])},Deactivate:{index:5,layout:i.n_([i.Jq("instruction")])},Merge:{index:7,layout:i.n_([i.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:i.n_([i.Jq("instruction"),Yi("newAuthorized"),i.Jq("stakeAuthorizationType"),Xi("authoritySeed"),Yi("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Ro{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||Oo.default,s=ms(Co.Initialize,{authorized:{staker:Mi(r.staker.toBuffer()),withdrawer:Mi(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Mi(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:fs,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new us(o)}static createAccountWithSeed(e){const t=new ls;t.add(Es.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new ls;t.add(Es.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=ms(Co.Delegate);return(new ls).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ds,isSigner:!1,isWritable:!1},{pubkey:ps,isSigner:!1,isWritable:!1},{pubkey:Lo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=ms(Co.Authorize,{newAuthorized:Mi(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ds,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new ls).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,c=ms(Co.AuthorizeWithSeed,{newAuthorized:Mi(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:Mi(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ds,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new ls).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=ms(Co.Split,{lamports:i});return new us({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){const r=new ls;return r.add(Es.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=e,c=new ls;return c.add(Es.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),t&&t>0&&c.add(Es.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=ms(Co.Merge);return(new ls).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ds,isSigner:!1,isWritable:!1},{pubkey:ps,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=ms(Co.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ds,isSigner:!1,isWritable:!1},{pubkey:ps,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new ls).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=ms(Co.Deactivate);return(new ls).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ds,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}Ro.programId=new ji("Stake11111111111111111111111111111111111111"),Ro.space=200;const Ho=Object.freeze({InitializeAccount:{index:0,layout:i.n_([i.Jq("instruction"),((e="voteInit")=>i.n_([Yi("nodePubkey"),Yi("authorizedVoter"),Yi("authorizedWithdrawer"),i.u8("commission")],e))()])},Authorize:{index:1,layout:i.n_([i.Jq("instruction"),Yi("newAuthorized"),i.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:i.n_([i.Jq("instruction"),i.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:i.n_([i.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:i.n_([i.Jq("instruction"),((e="voteAuthorizeWithSeedArgs")=>i.n_([i.Jq("voteAuthorizationType"),Yi("currentAuthorityDerivedKeyOwnerPubkey"),Xi("currentAuthorityDerivedKeySeed"),Yi("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class No{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=ms(Ho.InitializeAccount,{voteInit:{nodePubkey:Mi(n.nodePubkey.toBuffer()),authorizedVoter:Mi(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Mi(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:fs,isSigner:!1,isWritable:!1},{pubkey:ds,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new us(s)}static createAccount(e){const t=new ls;return t.add(Es.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=ms(Ho.Authorize,{newAuthorized:Mi(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ds,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ls).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=e,a=ms(Ho.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Mi(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Mi(i.toBuffer()),voteAuthorizationType:s.index}}),c=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:ds,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new ls).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=ms(Ho.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ls).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return No.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,i=ms(Ho.UpdateValidatorIdentity),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ls).add({keys:s,programId:this.programId,data:i})}}No.programId=new ji("Vote111111111111111111111111111111111111111"),No.space=3762;new ji("Va1idator1nfo111111111111111111111111111111"),(0,jt.type)({name:(0,jt.string)(),website:(0,jt.optional)((0,jt.string)()),details:(0,jt.optional)((0,jt.string)()),iconUrl:(0,jt.optional)((0,jt.string)()),keybaseUsername:(0,jt.optional)((0,jt.string)())});new ji("Vote111111111111111111111111111111111111111"),i.n_([Yi("nodePubkey"),Yi("authorizedWithdrawer"),i.u8("commission"),i._O(),i.A9(i.n_([i._O("slot"),i.Jq("confirmationCount")]),i.cv(i.Jq(),-8),"votes"),i.u8("rootSlotValid"),i._O("rootSlot"),i._O(),i.A9(i.n_([i._O("epoch"),Yi("authorizedVoter")]),i.cv(i.Jq(),-8),"authorizedVoters"),i.n_([i.A9(i.n_([Yi("authorizedPubkey"),i._O("epochOfLastAuthorizedSwitch"),i._O("targetEpoch")]),32,"buf"),i._O("idx"),i.u8("isEmpty")],"priorVoters"),i._O(),i.A9(i.n_([i._O("epoch"),i._O("credits"),i._O("prevCredits")]),i.cv(i.Jq(),-8),"epochCredits"),i.n_([i._O("slot"),i._O("timestamp")],"lastTimestamp")]);const Mo=new ji("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Wo=(new ji("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new ji("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"));new ji("So11111111111111111111111111111111111111112"),new ji("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");class Ko extends Error{constructor(e){super(e)}}class Fo extends Ko{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const Do=(0,i.n_)([(0,i.Jq)("mintAuthorityOption"),Li("mintAuthority"),u("supply"),(0,i.u8)("decimals"),(e=>{const t=(0,i.u8)(e),{encode:r,decode:n}=o(t),s=t;return s.decode=(e,t)=>!!n(e,t),s.encode=(e,t,n)=>{const i=Number(e);return r(i,t,n)},s})("isInitialized"),(0,i.Jq)("freezeAuthorityOption"),Li("freezeAuthority")]);Do.span;async function qo(e,t,r=!1,n=Mo,i=Wo){if(!r&&!ji.isOnCurve(t.toBuffer()))throw new Fo;const[s]=await ji.findProgramAddress([t.toBuffer(),n.toBuffer(),e.toBuffer()],i);return s}},55838:(e,t,r)=>{"use strict";r.d(t,{Ey:()=>a,XY:()=>o});var n=r(34042),i=r(68106),s=class extends i.v{socket;constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){const n=r||t;try{this.socket.send(e),n()}catch(e){n(e)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function o(e,t){return new s(e,t)}var a=class extends i.v{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,c){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=c||new class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise(((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:o};this.socket.send(this.dataPack.encode(a),n,(e=>{if(e)return s(e);this.queue[o]={promise:[i,s]},r&&(this.queue[o].timeout=setTimeout((()=>{delete this.queue[o],s(new Error("reply timeout"))}),r))}))}))}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise(((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),(e=>{if(e)return n(e);r()}))}))}async subscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:e})=>{e instanceof ArrayBuffer&&(e=n.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then((()=>{this.emit.apply(this,t)}))}if(!this.queue[e.id])return e.method?Promise.resolve().then((()=>{this.emit(e.method,e?.params)})):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(({code:r,reason:n})=>{this.ready&&setTimeout((()=>this.emit("close",r,n)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,t)),this.reconnect_interval)))}))}}},14385:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Struct:()=>d,StructError:()=>n,any:()=>B,array:()=>_,assert:()=>h,assign:()=>b,bigint:()=>I,boolean:()=>T,coerce:()=>Y,create:()=>f,date:()=>z,defaulted:()=>X,define:()=>m,deprecated:()=>w,dynamic:()=>k,empty:()=>ee,enums:()=>U,func:()=>P,instance:()=>L,integer:()=>O,intersection:()=>C,is:()=>y,lazy:()=>S,literal:()=>R,map:()=>H,mask:()=>p,max:()=>re,min:()=>ne,never:()=>N,nonempty:()=>ie,nullable:()=>M,number:()=>W,object:()=>K,omit:()=>x,optional:()=>F,partial:()=>v,pattern:()=>se,pick:()=>A,record:()=>D,refine:()=>ae,regexp:()=>q,set:()=>j,size:()=>oe,string:()=>$,struct:()=>E,trimmed:()=>Q,tuple:()=>V,type:()=>J,union:()=>G,unknown:()=>Z,validate:()=>g});class n extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...s}=e,{path:o}=e,a=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function i(e){return"object"==typeof e&&null!=e}function s(e){return i(e)&&!Array.isArray(e)}function o(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function a(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function c(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:s}=t,{type:o}=r,{refinement:c,message:u=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${a(n)}\``}=e;return{value:n,type:o,refinement:c,key:i[i.length-1],path:i,branch:s,...e,message:u}}function*u(e,t,r,n){var s;i(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]);for(const i of e){const e=c(i,t,r,n);e&&(yield e)}}function*l(e,t,r={}){const{path:n=[],branch:s=[e],coerce:o=!1,mask:a=!1}=r,c={path:n,branch:s,mask:a};o&&(e=t.coercer(e,c));let u="valid";for(const n of t.validator(e,c))n.explanation=r.message,u="not_valid",yield[n,void 0];for(let[d,h,f]of t.entries(e,c)){const t=l(h,f,{path:void 0===d?n:[...n,d],branch:void 0===d?s:[...s,h],coerce:o,mask:a,message:r.message});for(const r of t)r[0]?(u=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):o&&(h=r[1],void 0===d?e=h:e instanceof Map?e.set(d,h):e instanceof Set?e.add(h):i(e)&&(void 0!==h||d in e)&&(e[d]=h))}if("not_valid"!==u)for(const n of t.refiner(e,c))n.explanation=r.message,u="not_refined",yield[n,void 0];"valid"===u&&(yield[void 0,e])}class d{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:s=(e=>e),entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=s,this.validator=n?(e,t)=>u(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>u(i(e,t),t,this,e):()=>[]}assert(e,t){return h(e,this,t)}create(e,t){return f(e,this,t)}is(e){return y(e,this)}mask(e,t){return p(e,this,t)}validate(e,t={}){return g(e,this,t)}}function h(e,t,r){const n=g(e,t,{message:r});if(n[0])throw n[0]}function f(e,t,r){const n=g(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function p(e,t,r){const n=g(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function y(e,t){return!g(e,t)[0]}function g(e,t,r={}){const i=l(e,t,r),s=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(i);if(s[0]){return[new n(s[0],(function*(){for(const e of i)e[0]&&(yield e[0])})),void 0]}return[void 0,s[1]]}function b(...e){const t="type"===e[0].type,r=e.map((e=>e.schema)),n=Object.assign({},...r);return t?J(n):K(n)}function m(e,t){return new d({type:e,schema:null,validator:t})}function w(e,t){return new d({...e,refiner:(t,r)=>void 0===t||e.refiner(t,r),validator:(r,n)=>void 0===r||(t(r,n),e.validator(r,n))})}function k(e){return new d({type:"dynamic",schema:null,*entries(t,r){const n=e(t,r);yield*n.entries(t,r)},validator:(t,r)=>e(t,r).validator(t,r),coercer:(t,r)=>e(t,r).coercer(t,r),refiner:(t,r)=>e(t,r).refiner(t,r)})}function S(e){let t;return new d({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})}function x(e,t){const{schema:r}=e,n={...r};for(const e of t)delete n[e];return"type"===e.type?J(n):K(n)}function v(e){const t=e instanceof d,r=t?{...e.schema}:{...e};for(const e in r)r[e]=F(r[e]);return t&&"type"===e.type?J(r):K(r)}function A(e,t){const{schema:r}=e,n={};for(const e of t)n[e]=r[e];return"type"===e.type?J(n):K(n)}function E(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),m(e,t)}function B(){return m("any",(()=>!0))}function _(e){return new d({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${a(e)}`})}function I(){return m("bigint",(e=>"bigint"==typeof e))}function T(){return m("boolean",(e=>"boolean"==typeof e))}function z(){return m("date",(e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${a(e)}`))}function U(e){const t={},r=e.map((e=>a(e))).join();for(const r of e)t[r]=r;return new d({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${a(t)}`})}function P(){return m("func",(e=>"function"==typeof e||`Expected a function, but received: ${a(e)}`))}function L(e){return m("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${a(t)}`))}function O(){return m("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${a(e)}`))}function C(e){return new d({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function R(e){const t=a(e),r=typeof e;return new d({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${a(r)}`})}function H(e,t){return new d({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${a(e)}`})}function N(){return m("never",(()=>!1))}function M(e){return new d({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function W(){return m("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${a(e)}`))}function K(e){const t=e?Object.keys(e):[],r=N();return new d({type:"object",schema:e||null,*entries(n){if(e&&i(n)){const i=new Set(Object.keys(n));for(const r of t)i.delete(r),yield[r,n[r],e[r]];for(const e of i)yield[e,n[e],r]}},validator:e=>s(e)||`Expected an object, but received: ${a(e)}`,coercer(t,r){if(!s(t))return t;const n={...t};if(r.mask&&e)for(const t in n)void 0===e[t]&&delete n[t];return n}})}function F(e){return new d({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function D(e,t){return new d({type:"record",schema:null,*entries(r){if(i(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>s(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>s(e)?{...e}:e})}function q(){return m("regexp",(e=>e instanceof RegExp))}function j(e){return new d({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${a(e)}`})}function $(){return m("string",(e=>"string"==typeof e||`Expected a string, but received: ${a(e)}`))}function V(e){const t=N();return new d({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${a(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function J(e){const t=Object.keys(e);return new d({type:"type",schema:e,*entries(r){if(i(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>s(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>s(e)?{...e}:e})}function G(e){const t=e.map((e=>e.type)).join(" | ");return new d({type:"union",schema:null,coercer(t,r){for(const n of e){const[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){const i=[];for(const t of e){const[...e]=l(r,t,n),[s]=e;if(!s[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${a(r)}`,...i]}})}function Z(){return m("unknown",(()=>!0))}function Y(e,t,r){return new d({...e,coercer:(n,i)=>y(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function X(e,t,r={}){return Y(e,Z(),(e=>{const n="function"==typeof t?t():t;if(void 0===e)return n;if(!r.strict&&o(e)&&o(n)){const t={...e};let r=!1;for(const e in n)void 0===t[e]&&(t[e]=n[e],r=!0);if(r)return t}return e}))}function Q(e){return Y(e,$(),(e=>e.trim()))}function ee(e){return ae(e,"empty",(t=>{const r=te(t);return 0===r||`Expected an empty ${e.type} but received one with a size of \`${r}\``}))}function te(e){return e instanceof Map||e instanceof Set?e.size:e.length}function re(e,t,r={}){const{exclusive:n}=r;return ae(e,"max",(r=>n?r<t:r<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${r}\``))}function ne(e,t,r={}){const{exclusive:n}=r;return ae(e,"min",(r=>n?r>t:r>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${r}\``))}function ie(e){return ae(e,"nonempty",(t=>te(t)>0||`Expected a nonempty ${e.type} but received an empty one`))}function se(e,t){return ae(e,"pattern",(r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`))}function oe(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return ae(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||`${n} ${i} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:s}=e;return t<=s&&s<=r||`${n} with a size ${i} but received one with a size of \`${s}\``}{const{length:s}=e;return t<=s&&s<=r||`${n} with a length ${i} but received one with a length of \`${s}\``}}))}function ae(e,t,r){return new d({...e,*refiner(n,i){yield*e.refiner(n,i);const s=u(r(n,i),i,e,n);for(const e of s)yield{...e,refinement:t}}})}}}]);